(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function bb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},vu={};var mE;function qD(){if(mE)return vu;mE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return vu.Fragment=t,vu.jsx=n,vu.jsxs=n,vu}var pE;function GD(){return pE||(pE=1,Sp.exports=qD()),Sp.exports}var it=GD(),Ap={exports:{}},bt={};var gE;function KD(){if(gE)return bt;gE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function F(N,tt,lt){this.props=N,this.context=tt,this.refs=L,this.updater=lt||P}F.prototype.isReactComponent={},F.prototype.setState=function(N,tt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,tt,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=F.prototype;function Y(N,tt,lt){this.props=N,this.context=tt,this.refs=L,this.updater=lt||P}var at=Y.prototype=new G;at.constructor=Y,k(at,F.prototype),at.isPureReactComponent=!0;var rt=Array.isArray;function ut(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(N,tt,lt){var ft=lt.ref;return{$$typeof:e,type:N,key:tt,ref:ft!==void 0?ft:null,props:lt}}function M(N,tt){return I(N.type,tt,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function z(N){var tt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return tt[lt]})}var D=/\/+/g;function te(N,tt){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):tt.toString(36)}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ut,ut):(N.status="pending",N.then(function(tt){N.status==="pending"&&(N.status="fulfilled",N.value=tt)},function(tt){N.status==="pending"&&(N.status="rejected",N.reason=tt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,tt,lt,ft,St){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var zt=!1;if(N===null)zt=!0;else switch(Dt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(N.$$typeof){case e:case t:zt=!0;break;case y:return zt=N._init,W(zt(N._payload),tt,lt,ft,St)}}if(zt)return St=St(N),zt=ft===""?"."+te(N,0):ft,rt(St)?(lt="",zt!=null&&(lt=zt.replace(D,"$&/")+"/"),W(St,tt,lt,"",function(Br){return Br})):St!=null&&(V(St)&&(St=M(St,lt+(St.key==null||N&&N.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+zt)),tt.push(St)),1;zt=0;var ke=ft===""?".":ft+":";if(rt(N))for(var oe=0;oe<N.length;oe++)ft=N[oe],Dt=ke+te(ft,oe),zt+=W(ft,tt,lt,Dt,St);else if(oe=R(N),typeof oe=="function")for(N=oe.call(N),oe=0;!(ft=N.next()).done;)ft=ft.value,Dt=ke+te(ft,oe++),zt+=W(ft,tt,lt,Dt,St);else if(Dt==="object"){if(typeof N.then=="function")return W(de(N),tt,lt,ft,St);throw tt=String(N),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function st(N,tt,lt){if(N==null)return N;var ft=[],St=0;return W(N,ft,"","",function(Dt){return tt.call(lt,Dt,St++)}),ft}function mt(N){if(N._status===-1){var tt=N._result;tt=tt(),tt.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=tt)}if(N._status===1)return N._result.default;throw N._result}var It=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ot={map:st,forEach:function(N,tt,lt){st(N,function(){tt.apply(this,arguments)},lt)},count:function(N){var tt=0;return st(N,function(){tt++}),tt},toArray:function(N){return st(N,function(tt){return tt})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return bt.Activity=v,bt.Children=Ot,bt.Component=F,bt.Fragment=n,bt.Profiler=a,bt.PureComponent=Y,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(N,tt,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ft=k({},N.props),St=N.key;if(tt!=null)for(Dt in tt.key!==void 0&&(St=""+tt.key),tt)!w.call(tt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&tt.ref===void 0||(ft[Dt]=tt[Dt]);var Dt=arguments.length-2;if(Dt===1)ft.children=lt;else if(1<Dt){for(var zt=Array(Dt),ke=0;ke<Dt;ke++)zt[ke]=arguments[ke+2];ft.children=zt}return I(N.type,St,ft)},bt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},bt.createElement=function(N,tt,lt){var ft,St={},Dt=null;if(tt!=null)for(ft in tt.key!==void 0&&(Dt=""+tt.key),tt)w.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=tt[ft]);var zt=arguments.length-2;if(zt===1)St.children=lt;else if(1<zt){for(var ke=Array(zt),oe=0;oe<zt;oe++)ke[oe]=arguments[oe+2];St.children=ke}if(N&&N.defaultProps)for(ft in zt=N.defaultProps,zt)St[ft]===void 0&&(St[ft]=zt[ft]);return I(N,Dt,St)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:d,render:N}},bt.isValidElement=V,bt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:mt}},bt.memo=function(N,tt){return{$$typeof:g,type:N,compare:tt===void 0?null:tt}},bt.startTransition=function(N){var tt=C.T,lt={};C.T=lt;try{var ft=N(),St=C.S;St!==null&&St(lt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ut,It)}catch(Dt){It(Dt)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),C.T=tt}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(N){return C.H.use(N)},bt.useActionState=function(N,tt,lt){return C.H.useActionState(N,tt,lt)},bt.useCallback=function(N,tt){return C.H.useCallback(N,tt)},bt.useContext=function(N){return C.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,tt){return C.H.useDeferredValue(N,tt)},bt.useEffect=function(N,tt){return C.H.useEffect(N,tt)},bt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(N,tt,lt){return C.H.useImperativeHandle(N,tt,lt)},bt.useInsertionEffect=function(N,tt){return C.H.useInsertionEffect(N,tt)},bt.useLayoutEffect=function(N,tt){return C.H.useLayoutEffect(N,tt)},bt.useMemo=function(N,tt){return C.H.useMemo(N,tt)},bt.useOptimistic=function(N,tt){return C.H.useOptimistic(N,tt)},bt.useReducer=function(N,tt,lt){return C.H.useReducer(N,tt,lt)},bt.useRef=function(N){return C.H.useRef(N)},bt.useState=function(N){return C.H.useState(N)},bt.useSyncExternalStore=function(N,tt,lt){return C.H.useSyncExternalStore(N,tt,lt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var yE;function iy(){return yE||(yE=1,Ap.exports=KD()),Ap.exports}var U=iy();const YD=bb(U);var bp={exports:{}},Tu={},wp={exports:{}},Rp={};var _E;function $D(){return _E||(_E=1,(function(e){function t(W,st){var mt=W.length;W.push(st);t:for(;0<mt;){var It=mt-1>>>1,Ot=W[It];if(0<a(Ot,st))W[It]=st,W[mt]=Ot,mt=It;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var st=W[0],mt=W.pop();if(mt!==st){W[0]=mt;t:for(var It=0,Ot=W.length,N=Ot>>>1;It<N;){var tt=2*(It+1)-1,lt=W[tt],ft=tt+1,St=W[ft];if(0>a(lt,mt))ft<Ot&&0>a(St,lt)?(W[It]=St,W[ft]=mt,It=ft):(W[It]=lt,W[tt]=mt,It=tt);else if(ft<Ot&&0>a(St,mt))W[It]=St,W[ft]=mt,It=ft;else break t}}return st}function a(W,st){var mt=W.sortIndex-st.sortIndex;return mt!==0?mt:W.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,v=null,S=3,R=!1,P=!1,k=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function at(W){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=W)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function rt(W){if(k=!1,at(W),!P)if(n(p)!==null)P=!0,ut||(ut=!0,z());else{var st=n(g);st!==null&&de(rt,st.startTime-W)}}var ut=!1,C=-1,w=5,I=-1;function M(){return L?!0:!(e.unstable_now()-I<w)}function V(){if(L=!1,ut){var W=e.unstable_now();I=W;var st=!0;try{t:{P=!1,k&&(k=!1,G(C),C=-1),R=!0;var mt=S;try{e:{for(at(W),v=n(p);v!==null&&!(v.expirationTime>W&&M());){var It=v.callback;if(typeof It=="function"){v.callback=null,S=v.priorityLevel;var Ot=It(v.expirationTime<=W);if(W=e.unstable_now(),typeof Ot=="function"){v.callback=Ot,at(W),st=!0;break e}v===n(p)&&s(p),at(W)}else s(p);v=n(p)}if(v!==null)st=!0;else{var N=n(g);N!==null&&de(rt,N.startTime-W),st=!1}}break t}finally{v=null,S=mt,R=!1}st=void 0}}finally{st?z():ut=!1}}}var z;if(typeof Y=="function")z=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,te=D.port2;D.port1.onmessage=V,z=function(){te.postMessage(null)}}else z=function(){F(V,0)};function de(W,st){C=F(function(){W(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var mt=S;S=st;try{return W()}finally{S=mt}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=S;S=W;try{return st()}finally{S=mt}},e.unstable_scheduleCallback=function(W,st,mt){var It=e.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?It+mt:It):mt=It,W){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=mt+Ot,W={id:y++,callback:st,priorityLevel:W,startTime:mt,expirationTime:Ot,sortIndex:-1},mt>It?(W.sortIndex=mt,t(g,W),n(p)===null&&W===n(g)&&(k?(G(C),C=-1):k=!0,de(rt,mt-It))):(W.sortIndex=Ot,t(p,W),P||R||(P=!0,ut||(ut=!0,z()))),W},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(W){var st=S;return function(){var mt=S;S=st;try{return W.apply(this,arguments)}finally{S=mt}}}})(Rp)),Rp}var vE;function QD(){return vE||(vE=1,wp.exports=$D()),wp.exports}var Cp={exports:{}},rn={};var TE;function XD(){if(TE)return rn;TE=1;var e=iy();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,y)},rn.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:R}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},rn.requestFormReset=function(p){s.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var EE;function WD(){if(EE)return Cp.exports;EE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cp.exports=XD(),Cp.exports}var SE;function ZD(){if(SE)return Tu;SE=1;var e=QD(),t=iy(),n=WD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=m;break}if(A===u){T=!0,u=f,o=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===o){T=!0,o=m,u=f;break}if(A===u){T=!0,u=m,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case rt:return"Suspense";case ut:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case Y:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case at:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var de=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},It=[],Ot=-1;function N(i){return{current:i}}function tt(i){0>Ot||(i.current=It[Ot],It[Ot]=null,Ot--)}function lt(i,r){Ot++,It[Ot]=i.current,i.current=r}var ft=N(null),St=N(null),Dt=N(null),zt=N(null);function ke(i,r){switch(lt(Dt,r),lt(St,i),lt(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?k0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=k0(r),i=U0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ft),lt(ft,i)}function oe(){tt(ft),tt(St),tt(Dt)}function Br(i){i.memoizedState!==null&&lt(zt,i);var r=ft.current,o=U0(r,i.type);r!==o&&(lt(St,i),lt(ft,o))}function Ba(i){St.current===i&&(tt(ft),tt(St)),zt.current===i&&(tt(zt),pu._currentValue=mt)}var za,ja;function Ei(i){if(za===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);za=r&&r[1]||"",ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+i+ja}var pl=!1;function zr(i,r){if(!i||pl)return"";pl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var K=Q}Reflect.construct(i,[],J)}else{try{J.call()}catch(Q){K=Q}i.call(J.prototype)}}else{try{throw Error()}catch(Q){K=Q}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var x=T.split(`
`),q=A.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===q.length)for(u=x.length-1,f=q.length-1;1<=u&&0<=f&&x[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==q[f]){var X=`
`+x[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=f);break}}}finally{pl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function gl(i,r){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return zr(i.type,!1);case 11:return zr(i.type.render,!1);case 1:return zr(i.type,!0);case 31:return Ei("Activity");default:return""}}function yl(i){try{var r="",o=null;do r+=gl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Os=e.unstable_cancelCallback,bd=e.unstable_shouldYield,Ec=e.unstable_requestPaint,hn=e.unstable_now,jr=e.unstable_getCurrentPriorityLevel,_l=e.unstable_ImmediatePriority,vl=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,wd=e.unstable_LowPriority,Sc=e.unstable_IdlePriority,Ac=e.log,bc=e.unstable_setDisableYieldValue,ni=null,$e=null;function Ln(i){if(typeof Ac=="function"&&bc(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ni,i)}catch{}}var ve=Math.clz32?Math.clz32:Rc,wc=Math.log,Fa=Math.LN2;function Rc(i){return i>>>=0,i===0?32:31-(wc(i)/Fa|0)|0}var Si=256,Fr=262144,we=4194304;function Ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=Ai(u):(T&=A,T!==0?f=Ai(T):o||(o=A&~i,o!==0&&(f=Ai(o))))):(A=u&~m,A!==0?f=Ai(A):T!==0?f=Ai(T):o||(o=u&~i,o!==0&&(f=Ai(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Rd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Hr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cd(i,r,o,u,f,m){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,q=i.hiddenUpdates;for(o=T&~o;0<o;){var X=31-ve(o),J=1<<X;A[X]=0,x[X]=-1;var K=q[X];if(K!==null)for(q[X]=null,X=0;X<K.length;X++){var Q=K[X];Q!==null&&(Q.lane&=-536870913)}o&=~J}u!==0&&qr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function qr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ve(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Tl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ve(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function El(i,r){var o=r&-r;return o=(o&42)!==0?1:Gr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Gr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ic(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:oE(i.type))}function si(i,r){var o=st.p;try{return st.p=i,r()}finally{st.p=o}}var ri=Math.random().toString(36).slice(2),Re="__reactFiber$"+ri,qe="__reactProps$"+ri,Ri="__reactContainer$"+ri,Ha="__reactEvents$"+ri,Id="__reactListeners$"+ri,Dc="__reactHandles$"+ri,xc="__reactResources$"+ri,Ci="__reactMarker$"+ri;function qa(i){delete i[Re],delete i[qe],delete i[Ha],delete i[Id],delete i[Dc]}function Ii(i){var r=i[Re];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[Re]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=G0(i);i!==null;){if(o=i[Re])return o;i=G0(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[Re]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[xc];return r||(r=i[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Ci]=!0}var Sl=new Set,Al={};function xi(i,r){Vi(i,r),Vi(i+"Capture",r)}function Vi(i,r){for(Al[i]=r,i=0;i<r.length;i++)Sl.add(r[i])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Rl={};function Vc(i){return be.call(Rl,i)?!0:be.call(wl,i)?!1:bl.test(i)?Rl[i]=!0:(wl[i]=!0,!1)}function Ga(i,r,o){if(Vc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Rn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ie(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ge(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ps(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Ps(i)?"checked":"value";i._valueTracker=Cl(i,r,""+i[r])}}function Kr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ps(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yr=/[\n"\\]/g;function yn(i){return i.replace(Yr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ka(i,r,o,u,f,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ge(r)):i.value!==""+Ge(r)&&(i.value=""+Ge(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Il(i,T,Ge(r)):o!=null?Il(i,T,Ge(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ge(A):i.removeAttribute("name")}function Mc(i,r,o,u,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}o=o!=null?""+Ge(o):"",r=r!=null?""+Ge(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Yt(i)}function Il(i,r,o){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ls(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ge(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Oc(i,r,o){if(r!=null&&(r=""+Ge(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ge(o):""}function ks(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ge(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Yt(i)}function _n(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Nc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function xl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Dl(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Dl(i,m,r[m])}function Ya(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(i){return Us.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var Vl=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bs=null,Oi=null;function $r(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[qe]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ka(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[qe]||null;if(!f)throw Error(s(90));Ka(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Kr(u)}break t;case"textarea":Oc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ls(i,!!o.multiple,r,!1)}}}var Qa=!1;function zs(i,r,o){if(Qa)return i(r,o);Qa=!0;try{var u=i(r);return u}finally{if(Qa=!1,(Bs!==null||Oi!==null)&&(Ih(),Bs&&(r=Bs,i=Oi,Oi=Bs=null,$r(r),i)))for(r=0;r<i.length;r++)$r(i[r])}}function oi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(Bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Qr=!1}var Ni=null,Ml=null,Xr=null;function Ol(){if(Xr)return Xr;var i,r=Ml,o=r.length,u,f="value"in Ni?Ni.value:Ni.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[m-u];u++);return Xr=f.slice(i,1<u?1-u:void 0)}function Wr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function li(){return!1}function Qe(i){function r(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?is:li,this.isPropagationStopped=li,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Qe(ss),js=v({},ss,{view:0,detail:0}),Nl=Qe(js),Fs,Xa,Li,Wa=v({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Fs=i.screenX-Li.screenX,Xa=i.screenY-Li.screenY):Xa=Fs=0,Li=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Pl=Qe(Wa),Zr=v({},Wa,{dataTransfer:0}),Lc=Qe(Zr),kc=v({},js,{relatedTarget:0}),Jr=Qe(kc),Ll=v({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=Qe(Ll),Za=v({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bc=Qe(Za),zc=v({},ss,{data:0}),ki=Qe(zc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Hc[i])?!!r[i]:!1}function Hs(){return qc}var fn=v({},js,{key:function(i){if(i.key){var r=jc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gc=Qe(fn),Kc=v({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Qe(Kc),h=v({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),_=Qe(h),E=v({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(E),j=v({},Wa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Qe(j),ot=v({},ss,{newState:0,oldState:0}),Rt=Qe(ot),Te=[9,13,27,32],qt=Bn&&"CompositionEvent"in window,le=null;Bn&&"documentMode"in document&&(le=document.documentMode);var zn=Bn&&"TextEvent"in window&&!le,Ui=Bn&&(!qt||le&&8<le&&11>=le),ui=" ",ci=!1;function ta(i,r){switch(i){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var to=!1;function mI(i,r){switch(i){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return i=r.data,i===ui&&ci?null:i;default:return null}}function pI(i,r){if(to)return i==="compositionend"||!qt&&ta(i,r)?(i=Ol(),Xr=Ml=Ni=null,to=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ui&&r.locale!=="ko"?null:r.data;default:return null}}var gI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!gI[i.type]:r==="textarea"}function Q_(i,r,o,u){Bs?Oi?Oi.push(u):Oi=[u]:Bs=u,r=Ph(r,"onChange"),0<r.length&&(o=new Pi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var kl=null,Ul=null;function yI(i){V0(i,0)}function Yc(i){var r=wn(i);if(Kr(r))return i}function X_(i,r){if(i==="change")return r}var W_=!1;if(Bn){var Dd;if(Bn){var xd="oninput"in document;if(!xd){var Z_=document.createElement("div");Z_.setAttribute("oninput","return;"),xd=typeof Z_.oninput=="function"}Dd=xd}else Dd=!1;W_=Dd&&(!document.documentMode||9<document.documentMode)}function J_(){kl&&(kl.detachEvent("onpropertychange",tv),Ul=kl=null)}function tv(i){if(i.propertyName==="value"&&Yc(Ul)){var r=[];Q_(r,Ul,i,Un(i)),zs(yI,r)}}function _I(i,r,o){i==="focusin"?(J_(),kl=r,Ul=o,kl.attachEvent("onpropertychange",tv)):i==="focusout"&&J_()}function vI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yc(Ul)}function TI(i,r){if(i==="click")return Yc(r)}function EI(i,r){if(i==="input"||i==="change")return Yc(r)}function SI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:SI;function Bl(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!be.call(r,f)||!Cn(i[f],r[f]))return!1}return!0}function ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nv(i,r){var o=ev(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ev(o)}}function iv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?iv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function sv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mi(i.document)}return r}function Vd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var AI=Bn&&"documentMode"in document&&11>=document.documentMode,eo=null,Md=null,zl=null,Od=!1;function rv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Od||eo==null||eo!==Mi(u)||(u=eo,"selectionStart"in u&&Vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zl&&Bl(zl,u)||(zl=u,u=Ph(Md,"onSelect"),0<u.length&&(r=new Pi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=eo)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var no={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Nd={},av={};Bn&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function na(i){if(Nd[i])return Nd[i];if(!no[i])return i;var r=no[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in av)return Nd[i]=r[o];return i}var ov=na("animationend"),lv=na("animationiteration"),uv=na("animationstart"),bI=na("transitionrun"),wI=na("transitionstart"),RI=na("transitioncancel"),cv=na("transitionend"),hv=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function hi(i,r){hv.set(i,r),xi(r,[i])}var $c=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},jn=[],io=0,Ld=0;function Qc(){for(var i=io,r=Ld=io=0;r<i;){var o=jn[r];jn[r++]=null;var u=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var m=jn[r];if(jn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&fv(o,f,m)}}function Xc(i,r,o,u){jn[io++]=i,jn[io++]=r,jn[io++]=o,jn[io++]=u,Ld|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function kd(i,r,o,u){return Xc(i,r,o,u),Wc(i)}function ia(i,r){return Xc(i,null,null,r),Wc(i)}function fv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ve(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Wc(i){if(50<lu)throw lu=0,Km=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var so={};function CI(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,r,o,u){return new CI(i,r,o,u)}function Ud(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=In(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function dv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zc(i,r,o,u,f,m){var T=0;if(u=i,typeof i=="function")Ud(i)&&(T=1);else if(typeof i=="string")T=MD(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=In(31,o,r,f),i.elementType=I,i.lanes=m,i;case k:return sa(o.children,f,m,r);case L:T=8,f|=24;break;case F:return i=In(12,o,r,f|2),i.elementType=F,i.lanes=m,i;case rt:return i=In(13,o,r,f),i.elementType=rt,i.lanes=m,i;case ut:return i=In(19,o,r,f),i.elementType=ut,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break t;case G:T=9;break t;case at:T=11;break t;case C:T=14;break t;case w:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=In(T,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function sa(i,r,o,u){return i=In(7,i,u,r),i.lanes=o,i}function Bd(i,r,o){return i=In(6,i,null,r),i.lanes=o,i}function mv(i){var r=In(18,null,null,0);return r.stateNode=i,r}function zd(i,r,o){return r=In(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var pv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=pv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:yl(r)},pv.set(i,r),r)}return{value:i,source:r,stack:yl(r)}}var ro=[],ao=0,Jc=null,jl=0,Hn=[],qn=0,qs=null,Bi=1,zi="";function os(i,r){ro[ao++]=jl,ro[ao++]=Jc,Jc=i,jl=r}function gv(i,r,o){Hn[qn++]=Bi,Hn[qn++]=zi,Hn[qn++]=qs,qs=i;var u=Bi;i=zi;var f=32-ve(u)-1;u&=~(1<<f),o+=1;var m=32-ve(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Bi=1<<32-ve(r)+f|o<<f|u,zi=m+i}else Bi=1<<m|o<<f|u,zi=i}function jd(i){i.return!==null&&(os(i,1),gv(i,1,0))}function Fd(i){for(;i===Jc;)Jc=ro[--ao],ro[ao]=null,jl=ro[--ao],ro[ao]=null;for(;i===qs;)qs=Hn[--qn],Hn[qn]=null,zi=Hn[--qn],Hn[qn]=null,Bi=Hn[--qn],Hn[qn]=null}function yv(i,r){Hn[qn++]=Bi,Hn[qn++]=zi,Hn[qn++]=qs,Bi=r.id,zi=r.overflow,qs=i}var Xe=null,ie=null,Bt=!1,Gs=null,Gn=!1,Hd=Error(s(519));function Ks(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Fn(r,i)),Hd}function _v(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Re]=i,r[qe]=u,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<cu.length;o++)Mt(cu[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Mc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),ks(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||P0(r.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Ks(i,!0)}function vv(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function oo(i){if(i!==Xe)return!1;if(!Bt)return vv(i),Bt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||op(i.type,i.memoizedProps)),o=!o),o&&ie&&Ks(i),vv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=q0(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=q0(i)}else r===27?(r=ie,ar(i.type)?(i=fp,fp=null,ie=i):ie=r):ie=Xe?Yn(i.stateNode.nextSibling):null;return!0}function ra(){ie=Xe=null,Bt=!1}function qd(){var i=Gs;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),Gs=null),i}function Fl(i){Gs===null?Gs=[i]:Gs.push(i)}var Gd=N(null),aa=null,ls=null;function Ys(i,r,o){lt(Gd,r._currentValue),r._currentValue=o}function us(i){i._currentValue=Gd.current,tt(Gd)}function Kd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Yd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var x=0;x<r.length;x++)if(A.context===r[x]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Kd(m.return,o,i),u||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Kd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function lo(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;Cn(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(pu):i=[pu])}f=f.return}i!==null&&Yd(r,i,o,u),r.flags|=262144}function th(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function oa(i){aa=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return Tv(aa,i)}function eh(i,r){return aa===null&&oa(i),Tv(i,r)}function Tv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var II=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},DI=e.unstable_scheduleCallback,xI=e.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new II,data:new Map,refCount:0}}function Hl(i){i.refCount--,i.refCount===0&&DI(xI,function(){i.controller.abort()})}var ql=null,Qd=0,uo=0,co=null;function VI(i,r){if(ql===null){var o=ql=[];Qd=0,uo=Zm(),co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,r.then(Ev,Ev),r}function Ev(){if(--Qd===0&&ql!==null){co!==null&&(co.status="fulfilled");var i=ql;ql=null,uo=0,co=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function MI(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Sv=W.S;W.S=function(i,r){r0=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&VI(i,r),Sv!==null&&Sv(i,r)};var la=N(null);function Xd(){var i=la.current;return i!==null?i:ee.pooledCache}function nh(i,r){r===null?lt(la,la.current):lt(la,r.pool)}function Av(){var i=Xd();return i===null?null:{parent:De._currentValue,pool:i}}var ho=Error(s(460)),Wd=Error(s(474)),ih=Error(s(542)),sh={then:function(){}};function bv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function wv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ai,ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Cv(i),i;default:if(typeof r.status=="string")r.then(ai,ai);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Cv(i),i}throw ca=r,ho}}function ua(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ca=o,ho):o}}var ca=null;function Rv(){if(ca===null)throw Error(s(459));var i=ca;return ca=null,i}function Cv(i){if(i===ho||i===ih)throw Error(s(483))}var fo=null,Gl=0;function rh(i){var r=Gl;return Gl+=1,fo===null&&(fo=[]),wv(fo,i,r)}function Kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ah(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Iv(i){function r(B,O){if(i){var H=B.deletions;H===null?(B.deletions=[O],B.flags|=16):H.push(O)}}function o(B,O){if(!i)return null;for(;O!==null;)r(B,O),O=O.sibling;return null}function u(B){for(var O=new Map;B!==null;)B.key!==null?O.set(B.key,B):O.set(B.index,B),B=B.sibling;return O}function f(B,O){return B=as(B,O),B.index=0,B.sibling=null,B}function m(B,O,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<O?(B.flags|=67108866,O):H):(B.flags|=67108866,O)):(B.flags|=1048576,O)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function A(B,O,H,Z){return O===null||O.tag!==6?(O=Bd(H,B.mode,Z),O.return=B,O):(O=f(O,H),O.return=B,O)}function x(B,O,H,Z){var yt=H.type;return yt===k?X(B,O,H.props.children,Z,H.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&ua(yt)===O.type)?(O=f(O,H.props),Kl(O,H),O.return=B,O):(O=Zc(H.type,H.key,H.props,null,B.mode,Z),Kl(O,H),O.return=B,O)}function q(B,O,H,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=zd(H,B.mode,Z),O.return=B,O):(O=f(O,H.children||[]),O.return=B,O)}function X(B,O,H,Z,yt){return O===null||O.tag!==7?(O=sa(H,B.mode,Z,yt),O.return=B,O):(O=f(O,H),O.return=B,O)}function J(B,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bd(""+O,B.mode,H),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return H=Zc(O.type,O.key,O.props,null,B.mode,H),Kl(H,O),H.return=B,H;case P:return O=zd(O,B.mode,H),O.return=B,O;case w:return O=ua(O),J(B,O,H)}if(de(O)||z(O))return O=sa(O,B.mode,H,null),O.return=B,O;if(typeof O.then=="function")return J(B,rh(O),H);if(O.$$typeof===Y)return J(B,eh(B,O),H);ah(B,O)}return null}function K(B,O,H,Z){var yt=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return yt!==null?null:A(B,O,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===yt?x(B,O,H,Z):null;case P:return H.key===yt?q(B,O,H,Z):null;case w:return H=ua(H),K(B,O,H,Z)}if(de(H)||z(H))return yt!==null?null:X(B,O,H,Z,null);if(typeof H.then=="function")return K(B,O,rh(H),Z);if(H.$$typeof===Y)return K(B,O,eh(B,H),Z);ah(B,H)}return null}function Q(B,O,H,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(H)||null,A(O,B,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return B=B.get(Z.key===null?H:Z.key)||null,x(O,B,Z,yt);case P:return B=B.get(Z.key===null?H:Z.key)||null,q(O,B,Z,yt);case w:return Z=ua(Z),Q(B,O,H,Z,yt)}if(de(Z)||z(Z))return B=B.get(H)||null,X(O,B,Z,yt,null);if(typeof Z.then=="function")return Q(B,O,H,rh(Z),yt);if(Z.$$typeof===Y)return Q(B,O,H,eh(O,Z),yt);ah(O,Z)}return null}function pt(B,O,H,Z){for(var yt=null,Ft=null,gt=O,xt=O=0,Pt=null;gt!==null&&xt<H.length;xt++){gt.index>xt?(Pt=gt,gt=null):Pt=gt.sibling;var Ht=K(B,gt,H[xt],Z);if(Ht===null){gt===null&&(gt=Pt);break}i&&gt&&Ht.alternate===null&&r(B,gt),O=m(Ht,O,xt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,gt=Pt}if(xt===H.length)return o(B,gt),Bt&&os(B,xt),yt;if(gt===null){for(;xt<H.length;xt++)gt=J(B,H[xt],Z),gt!==null&&(O=m(gt,O,xt),Ft===null?yt=gt:Ft.sibling=gt,Ft=gt);return Bt&&os(B,xt),yt}for(gt=u(gt);xt<H.length;xt++)Pt=Q(gt,B,xt,H[xt],Z),Pt!==null&&(i&&Pt.alternate!==null&&gt.delete(Pt.key===null?xt:Pt.key),O=m(Pt,O,xt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&gt.forEach(function(hr){return r(B,hr)}),Bt&&os(B,xt),yt}function vt(B,O,H,Z){if(H==null)throw Error(s(151));for(var yt=null,Ft=null,gt=O,xt=O=0,Pt=null,Ht=H.next();gt!==null&&!Ht.done;xt++,Ht=H.next()){gt.index>xt?(Pt=gt,gt=null):Pt=gt.sibling;var hr=K(B,gt,Ht.value,Z);if(hr===null){gt===null&&(gt=Pt);break}i&&gt&&hr.alternate===null&&r(B,gt),O=m(hr,O,xt),Ft===null?yt=hr:Ft.sibling=hr,Ft=hr,gt=Pt}if(Ht.done)return o(B,gt),Bt&&os(B,xt),yt;if(gt===null){for(;!Ht.done;xt++,Ht=H.next())Ht=J(B,Ht.value,Z),Ht!==null&&(O=m(Ht,O,xt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return Bt&&os(B,xt),yt}for(gt=u(gt);!Ht.done;xt++,Ht=H.next())Ht=Q(gt,B,xt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?xt:Ht.key),O=m(Ht,O,xt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&gt.forEach(function(HD){return r(B,HD)}),Bt&&os(B,xt),yt}function Jt(B,O,H,Z){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:t:{for(var yt=H.key;O!==null;){if(O.key===yt){if(yt=H.type,yt===k){if(O.tag===7){o(B,O.sibling),Z=f(O,H.props.children),Z.return=B,B=Z;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&ua(yt)===O.type){o(B,O.sibling),Z=f(O,H.props),Kl(Z,H),Z.return=B,B=Z;break t}o(B,O);break}else r(B,O);O=O.sibling}H.type===k?(Z=sa(H.props.children,B.mode,Z,H.key),Z.return=B,B=Z):(Z=Zc(H.type,H.key,H.props,null,B.mode,Z),Kl(Z,H),Z.return=B,B=Z)}return T(B);case P:t:{for(yt=H.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){o(B,O.sibling),Z=f(O,H.children||[]),Z.return=B,B=Z;break t}else{o(B,O);break}else r(B,O);O=O.sibling}Z=zd(H,B.mode,Z),Z.return=B,B=Z}return T(B);case w:return H=ua(H),Jt(B,O,H,Z)}if(de(H))return pt(B,O,H,Z);if(z(H)){if(yt=z(H),typeof yt!="function")throw Error(s(150));return H=yt.call(H),vt(B,O,H,Z)}if(typeof H.then=="function")return Jt(B,O,rh(H),Z);if(H.$$typeof===Y)return Jt(B,O,eh(B,H),Z);ah(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(o(B,O.sibling),Z=f(O,H),Z.return=B,B=Z):(o(B,O),Z=Bd(H,B.mode,Z),Z.return=B,B=Z),T(B)):o(B,O)}return function(B,O,H,Z){try{Gl=0;var yt=Jt(B,O,H,Z);return fo=null,yt}catch(gt){if(gt===ho||gt===ih)throw gt;var Ft=In(29,gt,null,B.mode);return Ft.lanes=Z,Ft.return=B,Ft}}}var ha=Iv(!0),Dv=Iv(!1),$s=!1;function Zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Wc(i),fv(i,null,o),r}return Xc(i,u,r,o),Wc(i)}function Yl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Tl(i,o)}}function tm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var em=!1;function $l(){if(em){var i=co;if(i!==null)throw i}}function Ql(i,r,o,u){em=!1;var f=i.updateQueue;$s=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,q=x.next;x.next=null,T===null?m=q:T.next=q,T=x;var X=i.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==T&&(A===null?X.firstBaseUpdate=q:A.next=q,X.lastBaseUpdate=x))}if(m!==null){var J=f.baseState;T=0,X=q=x=null,A=m;do{var K=A.lane&-536870913,Q=K!==A.lane;if(Q?(Nt&K)===K:(u&K)===K){K!==0&&K===uo&&(em=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=i,vt=A;K=r;var Jt=o;switch(vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){J=pt.call(Jt,J,K);break t}J=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,K=typeof pt=="function"?pt.call(Jt,J,K):pt,K==null)break t;J=v({},J,K);break t;case 2:$s=!0}}K=A.callback,K!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(q=X=Q,x=J):X=X.next=Q,T|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(x=J),f.baseState=x,f.firstBaseUpdate=q,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),er|=T,i.lanes=T,i.memoizedState=J}}function xv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Vv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)xv(o[i],r)}var mo=N(null),oh=N(0);function Mv(i,r){i=_s,lt(oh,i),lt(mo,r),_s=i|r.baseLanes}function nm(){lt(oh,_s),lt(mo,mo.current)}function im(){_s=oh.current,tt(mo),tt(oh)}var Dn=N(null),Kn=null;function Ws(i){var r=i.alternate;lt(Ee,Ee.current&1),lt(Dn,i),Kn===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Kn=i)}function sm(i){lt(Ee,Ee.current),lt(Dn,i),Kn===null&&(Kn=i)}function Ov(i){i.tag===22?(lt(Ee,Ee.current),lt(Dn,i),Kn===null&&(Kn=i)):Zs()}function Zs(){lt(Ee,Ee.current),lt(Dn,Dn.current)}function xn(i){tt(Dn),Kn===i&&(Kn=null),tt(Ee)}var Ee=N(0);function lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||cp(o)||hp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,Ct=null,Wt=null,xe=null,uh=!1,po=!1,fa=!1,ch=0,Xl=0,go=null,OI=0;function me(){throw Error(s(321))}function rm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function am(i,r,o,u,f,m){return cs=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?gT:Em,fa=!1,m=o(u,f),fa=!1,po&&(m=Pv(r,o,u,f)),Nv(i),m}function Nv(i){W.H=Jl;var r=Wt!==null&&Wt.next!==null;if(cs=0,xe=Wt=Ct=null,uh=!1,Xl=0,go=null,r)throw Error(s(300));i===null||Ve||(i=i.dependencies,i!==null&&th(i)&&(Ve=!0))}function Pv(i,r,o,u){Ct=i;var f=0;do{if(po&&(go=null),Xl=0,po=!1,25<=f)throw Error(s(301));if(f+=1,xe=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=yT,m=r(o,u)}while(po);return m}function NI(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function om(){var i=ch!==0;return ch=0,i}function lm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function um(i){if(uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}uh=!1}cs=0,xe=Wt=Ct=null,po=!1,Xl=ch=0,go=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ct.memoizedState=xe=i:xe=xe.next=i,xe}function Se(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=xe===null?Ct.memoizedState:xe.next;if(r!==null)xe=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},xe===null?Ct.memoizedState=xe=i:xe=xe.next=i}return xe}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Xl;return Xl+=1,go===null&&(go=[]),i=wv(go,i,r),r=Ct,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?gT:Em),i}function fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===Y)return We(i)}throw Error(s(438,String(i)))}function cm(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=hh(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function dh(i){var r=Se();return hm(r,Wt,i)}function hm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=T=null,x=null,q=r,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Nt&J)===J:(cs&J)===J){var K=q.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===uo&&(X=!0);else if((cs&K)===K){q=q.next,K===uo&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=J,T=m):x=x.next=J,Ct.lanes|=K,er|=K;J=q.action,fa&&o(m,J),m=q.hasEagerState?q.eagerState:o(m,J)}else K={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=K,T=m):x=x.next=K,Ct.lanes|=J,er|=J;q=q.next}while(q!==null&&q!==r);if(x===null?T=m:x.next=A,!Cn(m,i.memoizedState)&&(Ve=!0,X&&(o=co,o!==null)))throw o;i.memoizedState=m,i.baseState=T,i.baseQueue=x,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function fm(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);Cn(m,r.memoizedState)||(Ve=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function Lv(i,r,o){var u=Ct,f=Se(),m=Bt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Cn((Wt||f).memoizedState,o);if(T&&(f.memoizedState=o,Ve=!0),f=f.queue,pm(Bv.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,yo(9,{destroy:void 0},Uv.bind(null,u,f,o,r),null),ee===null)throw Error(s(349));m||(cs&127)!==0||kv(u,r,o)}return o}function kv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=hh(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Uv(i,r,o,u){r.value=o,r.getSnapshot=u,zv(r)&&jv(i)}function Bv(i,r,o){return o(function(){zv(r)&&jv(i)})}function zv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function jv(i){var r=ia(i,2);r!==null&&An(r,i,2)}function dm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),fa){Ln(!0);try{o()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Fv(i,r,o,u){return i.baseState=o,hm(i,Wt,typeof u=="function"?u:hs)}function PI(i,r,o,u,f){if(gh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,Hv(r,m)):(m.next=o.next,r.pending=o.next=m)}}function Hv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=W.T,T={};W.T=T;try{var A=o(f,u),x=W.S;x!==null&&x(T,A),qv(i,r,A)}catch(q){mm(i,r,q)}finally{m!==null&&T.types!==null&&(m.types=T.types),W.T=m}}else try{m=o(f,u),qv(i,r,m)}catch(q){mm(i,r,q)}}function qv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Gv(i,r,u)},function(u){return mm(i,r,u)}):Gv(i,r,o)}function Gv(i,r,o){r.status="fulfilled",r.value=o,Kv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Hv(i,o)))}function mm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Kv(r),r=r.next;while(r!==u)}i.action=null}function Kv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yv(i,r){return r}function $v(i,r){if(Bt){var o=ee.formState;if(o!==null){t:{var u=Ct;if(Bt){if(ie){e:{for(var f=ie,m=Gn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ie=Yn(f.nextSibling),u=f.data==="F!";break t}}Ks(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:r},o.queue=u,o=dT.bind(null,Ct,u),u.dispatch=o,u=dm(!1),m=Tm.bind(null,Ct,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=PI.bind(null,Ct,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Qv(i){var r=Se();return Xv(r,Wt,i)}function Xv(i,r,o){if(r=hm(i,r,Yv)[0],i=dh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Wl(r)}catch(T){throw T===ho?ih:T}else u=r;r=Se();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,yo(9,{destroy:void 0},LI.bind(null,f,o),null)),[u,m,i]}function LI(i,r){i.action=r}function Wv(i){var r=Se(),o=Wt;if(o!==null)return Xv(r,o,i);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function yo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=hh(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Zv(){return Se().memoizedState}function mh(i,r,o,u){var f=dn();Ct.flags|=i,f.memoizedState=yo(1|r,{destroy:void 0},o,u===void 0?null:u)}function ph(i,r,o,u){var f=Se();u=u===void 0?null:u;var m=f.memoizedState.inst;Wt!==null&&u!==null&&rm(u,Wt.memoizedState.deps)?f.memoizedState=yo(r,m,o,u):(Ct.flags|=i,f.memoizedState=yo(1|r,m,o,u))}function Jv(i,r){mh(8390656,8,i,r)}function pm(i,r){ph(2048,8,i,r)}function kI(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=hh(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function tT(i){var r=Se().memoizedState;return kI({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function eT(i,r){return ph(4,2,i,r)}function nT(i,r){return ph(4,4,i,r)}function iT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function sT(i,r,o){o=o!=null?o.concat([i]):null,ph(4,4,iT.bind(null,r,i),o)}function gm(){}function rT(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&rm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function aT(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&rm(r,u[1]))return u[0];if(u=i(),fa){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,r],u}function ym(i,r,o){return o===void 0||(cs&1073741824)!==0&&(Nt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=o0(),Ct.lanes|=i,er|=i,o)}function oT(i,r,o,u){return Cn(o,r)?o:mo.current!==null?(i=ym(i,o,u),Cn(i,r)||(Ve=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Nt&261930)===0?(Ve=!0,i.memoizedState=o):(i=o0(),Ct.lanes|=i,er|=i,r)}function lT(i,r,o,u,f){var m=st.p;st.p=m!==0&&8>m?m:8;var T=W.T,A={};W.T=A,Tm(i,!1,r,o);try{var x=f(),q=W.S;if(q!==null&&q(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=MI(x,u);Zl(i,r,X,On(i))}else Zl(i,r,u,On(i))}catch(J){Zl(i,r,{then:function(){},status:"rejected",reason:J},On())}finally{st.p=m,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function UI(){}function _m(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=uT(i).queue;lT(i,f,r,mt,o===null?UI:function(){return cT(i),o(u)})}function uT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:mt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function cT(i){var r=uT(i);r.next===null&&(r=i.alternate.memoizedState),Zl(i,r.next.queue,{},On())}function vm(){return We(pu)}function hT(){return Se().memoizedState}function fT(){return Se().memoizedState}function BI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=Qs(o);var u=Xs(r,i,o);u!==null&&(An(u,r,o),Yl(u,r,o)),r={cache:$d()},i.payload=r;return}r=r.return}}function zI(i,r,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gh(i)?mT(r,o):(o=kd(i,r,o,u),o!==null&&(An(o,i,u),pT(o,r,u)))}function dT(i,r,o){var u=On();Zl(i,r,o,u)}function Zl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(i))mT(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,o);if(f.hasEagerState=!0,f.eagerState=A,Cn(A,T))return Xc(i,r,f,0),ee===null&&Qc(),!1}catch{}if(o=kd(i,r,f,u),o!==null)return An(o,i,u),pT(o,r,u),!0}return!1}function Tm(i,r,o,u){if(u={lane:2,revertLane:Zm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gh(i)){if(r)throw Error(s(479))}else r=kd(i,o,u,2),r!==null&&An(r,i,2)}function gh(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function mT(i,r){po=uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function pT(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Tl(i,o)}}var Jl={readContext:We,use:fh,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Jl.useEffectEvent=me;var gT={readContext:We,use:fh,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:We,useEffect:Jv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,mh(4194308,4,iT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return mh(4194308,4,i,r)},useInsertionEffect:function(i,r){mh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(fa){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(fa){Ln(!0);try{o(r)}finally{Ln(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=zI.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=dm(i);var r=i.queue,o=dT.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:gm,useDeferredValue:function(i,r){var o=dn();return ym(o,i,r)},useTransition:function(){var i=dm(!1);return i=lT.bind(null,Ct,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ct,f=dn();if(Bt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ee===null)throw Error(s(349));(Nt&127)!==0||kv(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Jv(Bv.bind(null,u,m,i),[i]),u.flags|=2048,yo(9,{destroy:void 0},Uv.bind(null,u,m,o,r),null),o},useId:function(){var i=dn(),r=ee.identifierPrefix;if(Bt){var o=zi,u=Bi;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=OI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:vm,useFormState:$v,useActionState:$v,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Tm.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:cm,useCacheRefresh:function(){return dn().memoizedState=BI.bind(null,Ct)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if((Gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Em={readContext:We,use:fh,useCallback:rT,useContext:We,useEffect:pm,useImperativeHandle:sT,useInsertionEffect:eT,useLayoutEffect:nT,useMemo:aT,useReducer:dh,useRef:Zv,useState:function(){return dh(hs)},useDebugValue:gm,useDeferredValue:function(i,r){var o=Se();return oT(o,Wt.memoizedState,i,r)},useTransition:function(){var i=dh(hs)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:Lv,useId:hT,useHostTransitionStatus:vm,useFormState:Qv,useActionState:Qv,useOptimistic:function(i,r){var o=Se();return Fv(o,Wt,i,r)},useMemoCache:cm,useCacheRefresh:fT};Em.useEffectEvent=tT;var yT={readContext:We,use:fh,useCallback:rT,useContext:We,useEffect:pm,useImperativeHandle:sT,useInsertionEffect:eT,useLayoutEffect:nT,useMemo:aT,useReducer:fm,useRef:Zv,useState:function(){return fm(hs)},useDebugValue:gm,useDeferredValue:function(i,r){var o=Se();return Wt===null?ym(o,i,r):oT(o,Wt.memoizedState,i,r)},useTransition:function(){var i=fm(hs)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:Lv,useId:hT,useHostTransitionStatus:vm,useFormState:Wv,useActionState:Wv,useOptimistic:function(i,r){var o=Se();return Wt!==null?Fv(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:cm,useCacheRefresh:fT};yT.useEffectEvent=tT;function Sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Am={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=On(),f=Qs(u);f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(An(r,i,u),Yl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=On(),f=Qs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(An(r,i,u),Yl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),u=Qs(o);u.tag=2,r!=null&&(u.callback=r),r=Xs(i,u,o),r!==null&&(An(r,i,o),Yl(r,i,o))}};function _T(i,r,o,u,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,m):!0}function vT(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Am.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function TT(i){$c(i)}function ET(i){console.error(i)}function ST(i){$c(i)}function yh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function AT(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bm(i,r,o){return o=Qs(o),o.tag=3,o.payload={element:null},o.callback=function(){yh(i,r)},o}function bT(i){return i=Qs(i),i.tag=3,i}function wT(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){AT(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){AT(r,o,u),typeof f!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function jI(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&lo(r,o,f,!0),o=Dn.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?Dh():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Qm(i,u,f)),!1;case 22:return o.flags|=65536,u===sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Qm(i,u,f)),!1}throw Error(s(435,o.tag))}return Qm(i,u,f),Dh(),!1}if(Bt)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Hd&&(i=Error(s(422),{cause:u}),Fl(Fn(i,o)))):(u!==Hd&&(r=Error(s(423),{cause:u}),Fl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Fn(u,o),f=bm(i.stateNode,u,f),tm(i,f),pe!==4&&(pe=2)),!1;var m=Error(s(520),{cause:u});if(m=Fn(m,o),ou===null?ou=[m]:ou.push(m),pe!==4&&(pe=2),r===null)return!0;u=Fn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=bm(o.stateNode,u,i),tm(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(nr===null||!nr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=bT(f),wT(f,i,o,u),tm(o,f),!1}o=o.return}while(o!==null);return!1}var wm=Error(s(461)),Ve=!1;function Ze(i,r,o,u){r.child=i===null?Dv(r,null,o,u):ha(r,i.child,o,u)}function RT(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return oa(r),u=am(i,r,o,T,m,f),A=om(),i!==null&&!Ve?(lm(i,r,f),fs(i,r,f)):(Bt&&A&&jd(r),r.flags|=1,Ze(i,r,u,f),r.child)}function CT(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,IT(i,r,m,u,f)):(i=Zc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Om(i,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(T,u)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=as(m,u),i.ref=r.ref,i.return=r,r.child=i}function IT(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(Bl(m,u)&&i.ref===r.ref)if(Ve=!1,r.pendingProps=u=m,Om(i,f))(i.flags&131072)!==0&&(Ve=!0);else return r.lanes=i.lanes,fs(i,r,f)}return Rm(i,r,o,u,f)}function DT(i,r,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return xT(i,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&nh(r,m!==null?m.cachePool:null),m!==null?Mv(r,m):nm(),Ov(r);else return u=r.lanes=536870912,xT(i,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(nh(r,m.cachePool),Mv(r,m),Zs(),r.memoizedState=null):(i!==null&&nh(r,null),nm(),Zs());return Ze(i,r,f,o),r.child}function tu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function xT(i,r,o,u,f){var m=Xd();return m=m===null?null:{parent:De._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&nh(r,null),nm(),Ov(r),i!==null&&lo(i,r,u,!0),r.childLanes=f,null}function _h(i,r){return r=Th({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function VT(i,r,o){return ha(r,i.child,null,o),i=_h(r,r.pendingProps),i.flags|=2,xn(r),r.memoizedState=null,i}function FI(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(u.mode==="hidden")return i=_h(r,u),r.lanes=536870912,tu(null,i);if(sm(r),(i=ie)?(i=H0(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:qs!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=mv(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw Ks(r);return r.lanes=536870912,null}return _h(r,u)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(sm(r),f)if(r.flags&256)r.flags&=-257,r=VT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ve||lo(i,r,o,!1),f=(o&i.childLanes)!==0,Ve||f){if(u=ee,u!==null&&(T=El(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,ia(i,T),An(u,i,T),wm;Dh(),r=VT(i,r,o)}else i=m.treeContext,ie=Yn(T.nextSibling),Xe=r,Bt=!0,Gs=null,Gn=!1,i!==null&&yv(r,i),r=_h(r,u),r.flags|=4096;return r}return i=as(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Rm(i,r,o,u,f){return oa(r),o=am(i,r,o,u,void 0,f),u=om(),i!==null&&!Ve?(lm(i,r,f),fs(i,r,f)):(Bt&&u&&jd(r),r.flags|=1,Ze(i,r,o,f),r.child)}function MT(i,r,o,u,f,m){return oa(r),r.updateQueue=null,o=Pv(r,u,o,f),Nv(i),u=om(),i!==null&&!Ve?(lm(i,r,m),fs(i,r,m)):(Bt&&u&&jd(r),r.flags|=1,Ze(i,r,o,m),r.child)}function OT(i,r,o,u,f){if(oa(r),r.stateNode===null){var m=so,T=o.contextType;typeof T=="object"&&T!==null&&(m=We(T)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Am,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Zd(r),T=o.contextType,m.context=typeof T=="object"&&T!==null?We(T):so,m.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Sm(r,o,T,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Am.enqueueReplaceState(m,m.state,null),Ql(r,u,m,f),$l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,x=da(o,A);m.props=x;var q=m.context,X=o.contextType;T=so,typeof X=="object"&&X!==null&&(T=We(X));var J=o.getDerivedStateFromProps;X=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==T)&&vT(r,m,u,T),$s=!1;var K=r.memoizedState;m.state=K,Ql(r,u,m,f),$l(),q=r.memoizedState,A||K!==q||$s?(typeof J=="function"&&(Sm(r,o,J,u),q=r.memoizedState),(x=$s||_T(r,o,x,u,K,q,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=T,u=x):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Jd(i,r),T=r.memoizedProps,X=da(o,T),m.props=X,J=r.pendingProps,K=m.context,q=o.contextType,x=so,typeof q=="object"&&q!==null&&(x=We(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==J||K!==x)&&vT(r,m,u,x),$s=!1,K=r.memoizedState,m.state=K,Ql(r,u,m,f),$l();var Q=r.memoizedState;T!==J||K!==Q||$s||i!==null&&i.dependencies!==null&&th(i.dependencies)?(typeof A=="function"&&(Sm(r,o,A,u),Q=r.memoizedState),(X=$s||_T(r,o,X,u,K,Q,x)||i!==null&&i.dependencies!==null&&th(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,x)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),m.props=u,m.state=Q,m.context=x,u=X):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,vh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=ha(r,i.child,null,f),r.child=ha(r,null,o,f)):Ze(i,r,o,f),r.memoizedState=m.state,i=r.child):i=fs(i,r,f),i}function NT(i,r,o,u){return ra(),r.flags|=256,Ze(i,r,o,u),r.child}var Cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(i){return{baseLanes:i,cachePool:Av()}}function Dm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Mn),i}function PT(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(f?Ws(r):Zs(),(i=ie)?(i=H0(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:qs!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=mv(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw Ks(r);return hp(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(Zs(),f=r.mode,A=Th({mode:"hidden",children:A},f),u=sa(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Im(o),u.childLanes=Dm(i,T,o),r.memoizedState=Cm,tu(null,u)):(Ws(r),xm(r,A))}var x=i.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(m)r.flags&256?(Ws(r),r.flags&=-257,r=Vm(i,r,o)):r.memoizedState!==null?(Zs(),r.child=i.child,r.flags|=128,r=null):(Zs(),A=u.fallback,f=r.mode,u=Th({mode:"visible",children:u.children},f),A=sa(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ha(r,i.child,null,o),u=r.child,u.memoizedState=Im(o),u.childLanes=Dm(i,T,o),r.memoizedState=Cm,r=tu(null,u));else if(Ws(r),hp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(s(419)),u.stack="",u.digest=T,Fl({value:u,source:null,stack:null}),r=Vm(i,r,o)}else if(Ve||lo(i,r,o,!1),T=(o&i.childLanes)!==0,Ve||T){if(T=ee,T!==null&&(u=El(T,o),u!==0&&u!==x.retryLane))throw x.retryLane=u,ia(i,u),An(T,i,u),wm;cp(A)||Dh(),r=Vm(i,r,o)}else cp(A)?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,ie=Yn(A.nextSibling),Xe=r,Bt=!0,Gs=null,Gn=!1,i!==null&&yv(r,i),r=xm(r,u.children),r.flags|=4096);return r}return f?(Zs(),A=u.fallback,f=r.mode,x=i.child,q=x.sibling,u=as(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,q!==null?A=as(q,A):(A=sa(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,tu(null,u),u=r.child,A=i.child.memoizedState,A===null?A=Im(o):(f=A.cachePool,f!==null?(x=De._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Av(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Dm(i,T,o),r.memoizedState=Cm,tu(i.child,u)):(Ws(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function xm(i,r){return r=Th({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Th(i,r){return i=In(22,i,null,r),i.lanes=0,i}function Vm(i,r,o){return ha(r,i.child,null,o),i=xm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function LT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Kd(i.return,r,o)}function Mm(i,r,o,u,f,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function kT(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=Ee.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,lt(Ee,T),Ze(i,r,u,o),u=Bt?jl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LT(i,o,r);else if(i.tag===19)LT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&lh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Mm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&lh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Mm(r,!0,o,null,m,u);break;case"together":Mm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(lo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Om(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&th(i)))}function HI(i,r,o){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),Ys(r,De,i.memoizedState.cache),ra();break;case 27:case 5:Br(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:Ys(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,sm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ws(r),r.flags|=128,null):(o&r.child.childLanes)!==0?PT(i,r,o):(Ws(r),i=fs(i,r,o),i!==null?i.sibling:null);Ws(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(lo(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return kT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,DT(i,r,o,r.pendingProps);case 24:Ys(r,De,i.memoizedState.cache)}return fs(i,r,o)}function UT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ve=!0;else{if(!Om(i,o)&&(r.flags&128)===0)return Ve=!1,HI(i,r,o);Ve=(i.flags&131072)!==0}else Ve=!1,Bt&&(r.flags&1048576)!==0&&gv(r,jl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ua(r.elementType),r.type=i,typeof i=="function")Ud(i)?(u=da(i,u),r.tag=1,r=OT(null,r,i,u,o)):(r.tag=0,r=Rm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===at){r.tag=11,r=RT(null,r,i,u,o);break t}else if(f===C){r.tag=14,r=CT(null,r,i,u,o);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return Rm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=da(u,r.pendingProps),OT(i,r,u,f,o);case 3:t:{if(ke(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Jd(i,r),Ql(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ys(r,De,u),u!==m.cache&&Yd(r,[De],o,!0),$l(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=NT(i,r,u,o);break t}else if(u!==f){f=Fn(Error(s(424)),r),Fl(f),r=NT(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Yn(i.firstChild),Xe=r,Bt=!0,Gs=null,Gn=!0,o=Dv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ra(),u===f){r=fs(i,r,o);break t}Ze(i,r,u,o)}r=r.child}return r;case 26:return vh(i,r),i===null?(o=Q0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,i=r.pendingProps,u=Lh(Dt.current).createElement(o),u[Re]=r,u[qe]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=Q0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Br(r),i===null&&Bt&&(u=r.stateNode=K0(r.type,r.pendingProps,Dt.current),Xe=r,Gn=!0,f=ie,ar(r.type)?(fp=f,ie=Yn(u.firstChild)):ie=f),Ze(i,r,r.pendingProps.children,o),vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((f=u=ie)&&(u=vD(u,r.type,r.pendingProps,Gn),u!==null?(r.stateNode=u,Xe=r,ie=Yn(u.firstChild),Gn=!1,f=!0):f=!1),f||Ks(r)),Br(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,u=m.children,op(f,m)?u=null:T!==null&&op(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=am(i,r,NI,null,null,o),pu._currentValue=f),vh(i,r),Ze(i,r,u,o),r.child;case 6:return i===null&&Bt&&((i=o=ie)&&(o=TD(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,Xe=r,ie=null,i=!0):i=!1),i||Ks(r)),null;case 13:return PT(i,r,o);case 4:return ke(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ha(r,null,u,o):Ze(i,r,u,o),r.child;case 11:return RT(i,r,r.type,r.pendingProps,o);case 7:return Ze(i,r,r.pendingProps,o),r.child;case 8:return Ze(i,r,r.pendingProps.children,o),r.child;case 12:return Ze(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ys(r,r.type,u.value),Ze(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,oa(r),f=We(f),u=u(f),r.flags|=1,Ze(i,r,u,o),r.child;case 14:return CT(i,r,r.type,r.pendingProps,o);case 15:return IT(i,r,r.type,r.pendingProps,o);case 19:return kT(i,r,o);case 31:return FI(i,r,o);case 22:return DT(i,r,o,r.pendingProps);case 24:return oa(r),u=We(De),i===null?(f=Xd(),f===null&&(f=ee,m=$d(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Zd(r),Ys(r,De,f)):((i.lanes&o)!==0&&(Jd(i,r),Ql(r,null,null,o),$l()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ys(r,De,u)):(u=m.cache,Ys(r,De,u),u!==f.cache&&Yd(r,[De],o,!0))),Ze(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function Nm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(h0())i.flags|=8192;else throw ca=sh,Wd}else i.flags&=-16777217}function BT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tE(r))if(h0())i.flags|=8192;else throw ca=sh,Wd}function Eh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Cc():536870912,i.lanes|=r,Eo|=r)}function eu(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function qI(i,r,o){var u=r.pendingProps;switch(Fd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(De),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(oo(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qd())),se(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(ds(r),m!==null?(se(r),BT(r,m)):(se(r),Nm(r,f,null,u,o))):m?m!==i.memoizedState?(ds(r),se(r),BT(r,m)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ds(r),se(r),Nm(r,f,i,u,o)),null;case 27:if(Ba(r),o=Dt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ft.current,oo(r)?_v(r):(i=K0(f,u,o),r.stateNode=i,ds(r))}return se(r),null;case 5:if(Ba(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(m=ft.current,oo(r))_v(r);else{var T=Lh(Dt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[Re]=r,m[qe]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;t:switch(Je(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ds(r)}}return se(r),Nm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,oo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Re]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||P0(i.nodeValue,o)),i||Ks(r,!0)}else i=Lh(i).createTextNode(u),i[Re]=r,r.stateNode=i}return se(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=oo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Re]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else o=qd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=oo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Re]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=qd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Eh(r,r.updateQueue),se(r),null);case 4:return oe(),i===null&&np(r.stateNode.containerInfo),se(r),null;case 10:return us(r.type),se(r),null;case 19:if(tt(Ee),u=r.memoizedState,u===null)return se(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)eu(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=lh(i),m!==null){for(r.flags|=128,eu(u,!1),i=m.updateQueue,r.updateQueue=i,Eh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)dv(o,i),o=o.sibling;return lt(Ee,Ee.current&1|2),Bt&&os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Rh&&(r.flags|=128,f=!0,eu(u,!1),r.lanes=4194304)}else{if(!f)if(i=lh(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Eh(r,i),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Bt)return se(r),null}else 2*hn()-u.renderingStartTime>Rh&&o!==536870912&&(r.flags|=128,f=!0,eu(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Ee.current,lt(Ee,f?o&1|2:o&1),Bt&&os(r,u.treeForkCount),i):(se(r),null);case 22:case 23:return xn(r),im(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),o=r.updateQueue,o!==null&&Eh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&tt(la),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(De),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GI(i,r){switch(Fd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(De),oe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ba(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(xn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return tt(Ee),null;case 4:return oe(),null;case 10:return us(r.type),null;case 22:case 23:return xn(r),im(),i!==null&&tt(la),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(De),null;case 25:return null;default:return null}}function zT(i,r){switch(Fd(r),r.tag){case 3:us(De),oe();break;case 26:case 27:case 5:Ba(r);break;case 4:oe();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:tt(Ee);break;case 10:us(r.type);break;case 22:case 23:xn(r),im(),i!==null&&tt(la);break;case 24:us(De)}}function nu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){Qt(r,r.return,A)}}function Js(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var x=o,q=A;try{q()}catch(X){Qt(f,x,X)}}}u=u.next}while(u!==m)}}catch(X){Qt(r,r.return,X)}}function jT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Vv(r,o)}catch(u){Qt(i,i.return,u)}}}function FT(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Qt(i,r,u)}}function iu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Qt(i,r,f)}}function ji(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Qt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Qt(i,r,f)}else o.current=null}function HT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Qt(i,i.return,f)}}function Pm(i,r,o){try{var u=i.stateNode;dD(u,i.type,o,r),u[qe]=r}catch(f){Qt(i,i.return,f)}}function qT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ar(i.type)||i.tag===4}function Lm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||qT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ar(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function km(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&ar(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(km(i,r,o),i=i.sibling;i!==null;)km(i,r,o),i=i.sibling}function Sh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ar(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sh(i,r,o),i=i.sibling;i!==null;)Sh(i,r,o),i=i.sibling}function GT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,u,o),r[Re]=i,r[qe]=o}catch(m){Qt(i,i.return,m)}}var ms=!1,Me=!1,Um=!1,KT=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function KI(i,r){if(i=i.containerInfo,rp=Hh,i=sv(i),Vd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,A=-1,x=-1,q=0,X=0,J=i,K=null;e:for(;;){for(var Q;J!==o||f!==0&&J.nodeType!==3||(A=T+f),J!==m||u!==0&&J.nodeType!==3||(x=T+u),J.nodeType===3&&(T+=J.nodeValue.length),(Q=J.firstChild)!==null;)K=J,J=Q;for(;;){if(J===i)break e;if(K===o&&++q===f&&(A=T),K===m&&++X===u&&(x=T),(Q=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=Q}o=A===-1||x===-1?null:{start:A,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(ap={focusedElem:i,selectionRange:o},Hh=!1,Ke=r;Ke!==null;)if(r=Ke,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ke=i;else for(;Ke!==null;){switch(r=Ke,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var pt=da(o.type,f);i=u.getSnapshotBeforeUpdate(pt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Qt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)up(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ke=i;break}Ke=r.return}}function YT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&nu(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Qt(o,o.return,T)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Qt(o,o.return,T)}}u&64&&jT(o),u&512&&iu(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Vv(i,r)}catch(T){Qt(o,o.return,T)}}break;case 27:r===null&&u&4&&GT(o);case 26:case 5:gs(i,o),r===null&&u&4&&HT(o),u&512&&iu(o,o.return);break;case 12:gs(i,o);break;case 31:gs(i,o),u&4&&XT(i,o);break;case 13:gs(i,o),u&4&&WT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=eD.bind(null,o),ED(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||Me,f=ms;var m=Me;ms=u,(Me=r)&&!m?ys(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),ms=f,Me=m}break;case 30:break;default:gs(i,o)}}function $T(i){var r=i.alternate;r!==null&&(i.alternate=null,$T(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&qa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,vn=!1;function ps(i,r,o){for(o=o.child;o!==null;)QT(i,r,o),o=o.sibling}function QT(i,r,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:Me||ji(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||ji(o,r);var u=ue,f=vn;ar(o.type)&&(ue=o.stateNode,vn=!1),ps(i,r,o),fu(o.stateNode),ue=u,vn=f;break;case 5:Me||ji(o,r);case 6:if(u=ue,f=vn,ue=null,ps(i,r,o),ue=u,vn=f,ue!==null)if(vn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(m){Qt(o,r,m)}else try{ue.removeChild(o.stateNode)}catch(m){Qt(o,r,m)}break;case 18:ue!==null&&(vn?(i=ue,j0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Do(i)):j0(ue,o.stateNode));break;case 4:u=ue,f=vn,ue=o.stateNode.containerInfo,vn=!0,ps(i,r,o),ue=u,vn=f;break;case 0:case 11:case 14:case 15:Js(2,o,r),Me||Js(4,o,r),ps(i,r,o);break;case 1:Me||(ji(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&FT(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,ps(i,r,o),Me=u;break;default:ps(i,r,o)}}function XT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Do(i)}catch(o){Qt(r,r.return,o)}}}function WT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(o){Qt(r,r.return,o)}}function YI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new KT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new KT),r;default:throw Error(s(435,i.tag))}}function Ah(i,r){var o=YI(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=nD.bind(null,i,u);u.then(f,f)}})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(ar(A.type)){ue=A.stateNode,vn=!1;break t}break;case 5:ue=A.stateNode,vn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ue===null)throw Error(s(160));QT(m,T,f),ue=null,vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ZT(r,i),r=r.sibling}var fi=null;function ZT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),u&4&&(Js(3,i,i.return),nu(3,i),Js(5,i,i.return));break;case 1:Tn(r,i),En(i),u&512&&(Me||o===null||ji(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(Tn(r,i),En(i),u&512&&(Me||o===null||ji(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ci]||m[Re]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Je(m,u,o),m[Re]=i,Ce(m),u=m;break t;case"link":var T=Z0("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(u),Je(m,u,o),f.head.appendChild(m);break;case"meta":if(T=Z0("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}m=f.createElement(u),Je(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Re]=i,Ce(m),u=m}i.stateNode=u}else J0(f,i.type,i.stateNode);else i.stateNode=W0(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?J0(f,i.type,i.stateNode):W0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Pm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),En(i),u&512&&(Me||o===null||ji(o,o.return)),o!==null&&u&4&&Pm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),En(i),u&512&&(Me||o===null||ji(o,o.return)),i.flags&32){f=i.stateNode;try{_n(f,"")}catch(pt){Qt(i,i.return,pt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Pm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Um=!0);break;case 6:if(Tn(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pt){Qt(i,i.return,pt)}}break;case 3:if(Bh=null,f=fi,fi=kh(r.containerInfo),Tn(r,i),fi=f,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Do(r.containerInfo)}catch(pt){Qt(i,i.return,pt)}Um&&(Um=!1,JT(i));break;case 4:u=fi,fi=kh(i.stateNode.containerInfo),Tn(r,i),En(i),fi=u;break;case 12:Tn(r,i),En(i);break;case 31:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 22:f=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,q=ms,X=Me;if(ms=q||f,Me=X||x,Tn(r,i),Me=X,ms=q,En(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||x||ms||Me||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(m=x.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=x.stateNode;var J=x.memoizedProps.style,K=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pt){Qt(x,x.return,pt)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(pt){Qt(x,x.return,pt)}}}else if(r.tag===18){if(o===null){x=r;try{var Q=x.stateNode;f?F0(Q,!0):F0(x.stateNode,!1)}catch(pt){Qt(x,x.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ah(i,o))));break;case 19:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(qT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Lm(i);Sh(i,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(_n(T,""),o.flags&=-33);var A=Lm(i);Sh(i,A,T);break;case 3:case 4:var x=o.stateNode.containerInfo,q=Lm(i);km(i,q,x);break;default:throw Error(s(161))}}catch(X){Qt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function JT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;JT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)YT(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Js(4,r,r.return),ma(r);break;case 1:ji(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&FT(r,r.return,o),ma(r);break;case 27:fu(r.stateNode);case 26:case 5:ji(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,o),nu(4,m);break;case 1:if(ys(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Qt(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)xv(x[f],A)}catch(q){Qt(u,u.return,q)}}o&&T&64&&jT(m),iu(m,m.return);break;case 27:GT(m);case 26:case 5:ys(f,m,o),o&&u===null&&T&4&&HT(m),iu(m,m.return);break;case 12:ys(f,m,o);break;case 31:ys(f,m,o),o&&T&4&&XT(f,m);break;case 13:ys(f,m,o),o&&T&4&&WT(f,m);break;case 22:m.memoizedState===null&&ys(f,m,o),iu(m,m.return);break;case 30:break;default:ys(f,m,o)}r=r.sibling}}function Bm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Hl(o))}function zm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i))}function di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t0(i,r,o,u),r=r.sibling}function t0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,o,u),f&2048&&nu(9,r);break;case 1:di(i,r,o,u);break;case 3:di(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i)));break;case 12:if(f&2048){di(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Qt(r,r.return,x)}}else di(i,r,o,u);break;case 31:di(i,r,o,u);break;case 13:di(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?di(i,r,o,u):su(i,r):m._visibility&2?di(i,r,o,u):(m._visibility|=2,_o(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bm(T,r);break;case 24:di(i,r,o,u),f&2048&&zm(r.alternate,r);break;default:di(i,r,o,u)}}function _o(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,A=o,x=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:_o(m,T,A,x,f),nu(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?_o(m,T,A,x,f):su(m,T):(X._visibility|=2,_o(m,T,A,x,f)),f&&q&2048&&Bm(T.alternate,T);break;case 24:_o(m,T,A,x,f),f&&q&2048&&zm(T.alternate,T);break;default:_o(m,T,A,x,f)}r=r.sibling}}function su(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:su(o,u),f&2048&&Bm(u.alternate,u);break;case 24:su(o,u),f&2048&&zm(u.alternate,u);break;default:su(o,u)}r=r.sibling}}var ru=8192;function vo(i,r,o){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)e0(i,r,o),i=i.sibling}function e0(i,r,o){switch(i.tag){case 26:vo(i,r,o),i.flags&ru&&i.memoizedState!==null&&OD(o,fi,i.memoizedState,i.memoizedProps);break;case 5:vo(i,r,o);break;case 3:case 4:var u=fi;fi=kh(i.stateNode.containerInfo),vo(i,r,o),fi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,vo(i,r,o),ru=u):vo(i,r,o));break;default:vo(i,r,o)}}function n0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function au(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ke=u,s0(u,i)}n0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i0(i),i=i.sibling}function i0(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&Js(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,bh(i)):au(i);break;default:au(i)}}function bh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ke=u,s0(u,i)}n0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Js(8,r,r.return),bh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,bh(r));break;default:bh(r)}i=i.sibling}}function s0(i,r){for(;Ke!==null;){var o=Ke;switch(o.tag){case 0:case 11:case 15:Js(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ke=u;else t:for(o=i;Ke!==null;){u=Ke;var f=u.sibling,m=u.return;if($T(u),u===o){Ke=null;break t}if(f!==null){f.return=m,Ke=f;break t}Ke=m}}}var $I={getCacheForType:function(i){var r=We(De),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return We(De).controller.signal}},QI=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Nt=0,$t=0,Vn=null,tr=!1,To=!1,jm=!1,_s=0,pe=0,er=0,pa=0,Fm=0,Mn=0,Eo=0,ou=null,Sn=null,Hm=!1,wh=0,r0=0,Rh=1/0,Ch=null,nr=null,Be=0,ir=null,So=null,vs=0,qm=0,Gm=null,a0=null,lu=0,Km=null;function On(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:W.T!==null?Zm():Ic()}function o0(){if(Mn===0)if((Nt&536870912)===0||Bt){var i=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Mn=i}else Mn=536870912;return i=Dn.current,i!==null&&(i.flags|=32),Mn}function An(i,r,o){(i===ee&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),sr(i,Nt,Mn,!1)),Hr(i,o),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(pa|=o),pe===4&&sr(i,Nt,Mn,!1)),Fi(i))}function l0(i,r,o){if((Gt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ii(i,r),f=u?ZI(i,r):$m(i,r,!0),m=u;do{if(f===0){To&&!u&&sr(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!XI(o)){f=$m(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=ou;var x=A.current.memoizedState.isDehydrated;if(x&&(Ao(A,T).flags|=256),T=$m(A,T,!1),T!==2){if(jm&&!x){A.errorRecoveryDisabledLanes|=m,pa|=m,f=4;break t}m=Sn,Sn=f,m!==null&&(Sn===null?Sn=m:Sn.push.apply(Sn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ao(i,0),sr(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:sr(u,r,Mn,!tr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wh+300-hn(),10<f)){if(sr(u,r,Mn,!tr),bi(u,0,!0)!==0)break t;vs=r,u.timeoutHandle=B0(u0.bind(null,u,o,Sn,Ch,Hm,r,Mn,pa,Eo,tr,m,"Throttled",-0,0),f);break t}u0(u,o,Sn,Ch,Hm,r,Mn,pa,Eo,tr,m,null,-0,0)}}break}while(!0);Fi(i)}function u0(i,r,o,u,f,m,T,A,x,q,X,J,K,Q){if(i.timeoutHandle=-1,J=r.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},e0(r,m,J);var pt=(m&62914560)===m?wh-hn():(m&4194048)===m?r0-hn():0;if(pt=ND(J,pt),pt!==null){vs=m,i.cancelPendingCommit=pt(y0.bind(null,i,r,m,o,u,f,T,A,x,X,J,null,K,Q)),sr(i,m,T,!q);return}}y0(i,r,m,o,u,f,T,A,x)}function XI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Cn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(i,r,o,u){r&=~Fm,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-ve(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&qr(i,o,r)}function Ih(){return(Gt&6)===0?(uu(0),!1):!0}function Ym(){if(Vt!==null){if($t===0)var i=Vt.return;else i=Vt,ls=aa=null,um(i),fo=null,Gl=0,i=Vt;for(;i!==null;)zT(i.alternate,i),i=i.return;Vt=null}}function Ao(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,gD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),vs=0,Ym(),ee=i,Vt=o=as(i.current,null),Nt=r,$t=0,Vn=null,tr=!1,To=ii(i,r),jm=!1,Eo=Mn=Fm=pa=er=pe=0,Sn=ou=null,Hm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ve(u),m=1<<f;r|=i[f],u&=~m}return _s=r,Qc(),o}function c0(i,r){Ct=null,W.H=Jl,r===ho||r===ih?(r=Rv(),$t=3):r===Wd?(r=Rv(),$t=4):$t=r===wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Vt===null&&(pe=1,yh(i,Fn(r,i.current)))}function h0(){var i=Dn.current;return i===null?!0:(Nt&4194048)===Nt?Kn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?i===Kn:!1}function f0(){var i=W.H;return W.H=Jl,i===null?Jl:i}function d0(){var i=W.A;return W.A=$I,i}function Dh(){pe=4,tr||(Nt&4194048)!==Nt&&Dn.current!==null||(To=!0),(er&134217727)===0&&(pa&134217727)===0||ee===null||sr(ee,Nt,Mn,!1)}function $m(i,r,o){var u=Gt;Gt|=2;var f=f0(),m=d0();(ee!==i||Nt!==r)&&(Ch=null,Ao(i,r)),r=!1;var T=pe;t:do try{if($t!==0&&Vt!==null){var A=Vt,x=Vn;switch($t){case 8:Ym(),T=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var q=$t;if($t=0,Vn=null,bo(i,A,x,q),o&&To){T=0;break t}break;default:q=$t,$t=0,Vn=null,bo(i,A,x,q)}}WI(),T=pe;break}catch(X){c0(i,X)}while(!0);return r&&i.shellSuspendCounter++,ls=aa=null,Gt=u,W.H=f,W.A=m,Vt===null&&(ee=null,Nt=0,Qc()),T}function WI(){for(;Vt!==null;)m0(Vt)}function ZI(i,r){var o=Gt;Gt|=2;var u=f0(),f=d0();ee!==i||Nt!==r?(Ch=null,Rh=hn()+500,Ao(i,r)):To=ii(i,r);t:do try{if($t!==0&&Vt!==null){r=Vt;var m=Vn;e:switch($t){case 1:$t=0,Vn=null,bo(i,r,m,1);break;case 2:case 9:if(bv(m)){$t=0,Vn=null,p0(r);break}r=function(){$t!==2&&$t!==9||ee!==i||($t=7),Fi(i)},m.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:bv(m)?($t=0,Vn=null,p0(r)):($t=0,Vn=null,bo(i,r,m,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(T?tE(T):A.stateNode.complete){$t=0,Vn=null;var x=A.sibling;if(x!==null)Vt=x;else{var q=A.return;q!==null?(Vt=q,xh(q)):Vt=null}break e}}$t=0,Vn=null,bo(i,r,m,5);break;case 6:$t=0,Vn=null,bo(i,r,m,6);break;case 8:Ym(),pe=6;break t;default:throw Error(s(462))}}JI();break}catch(X){c0(i,X)}while(!0);return ls=aa=null,W.H=u,W.A=f,Gt=o,Vt!==null?0:(ee=null,Nt=0,Qc(),pe)}function JI(){for(;Vt!==null&&!bd();)m0(Vt)}function m0(i){var r=UT(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?xh(i):Vt=r}function p0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=MT(o,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=MT(o,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:um(r);default:zT(o,r),r=Vt=dv(r,_s),r=UT(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?xh(i):Vt=r}function bo(i,r,o,u){ls=aa=null,um(r),fo=null,Gl=0;var f=r.return;try{if(jI(i,f,r,o,Nt)){pe=1,yh(i,Fn(o,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;pe=1,yh(i,Fn(o,i.current)),Vt=null;return}r.flags&32768?(Bt||u===1?i=!0:To||(Nt&536870912)!==0?i=!1:(tr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),g0(r,i)):xh(r)}function xh(i){var r=i;do{if((r.flags&32768)!==0){g0(r,tr);return}i=r.return;var o=qI(r.alternate,r,_s);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);pe===0&&(pe=5)}function g0(i,r){do{var o=GI(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);pe=6,Vt=null}function y0(i,r,o,u,f,m,T,A,x){i.cancelPendingCommit=null;do Vh();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Ld,Cd(i,o,m,T,A,x),i===ee&&(Vt=ee=null,Nt=0),So=r,ir=i,vs=o,qm=m,Gm=f,a0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iD(Ns,function(){return S0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=st.p,st.p=2,T=Gt,Gt|=4;try{KI(i,r,o)}finally{Gt=T,st.p=f,W.T=u}}Be=1,_0(),v0(),T0()}}function _0(){if(Be===1){Be=0;var i=ir,r=So,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var f=Gt;Gt|=4;try{ZT(r,i);var m=ap,T=sv(i.containerInfo),A=m.focusedElem,x=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&iv(A.ownerDocument.documentElement,A)){if(x!==null&&Vd(A)){var q=x.start,X=x.end;if(X===void 0&&(X=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(X,A.value.length);else{var J=A.ownerDocument||document,K=J&&J.defaultView||window;if(K.getSelection){var Q=K.getSelection(),pt=A.textContent.length,vt=Math.min(x.start,pt),Jt=x.end===void 0?vt:Math.min(x.end,pt);!Q.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var B=nv(A,vt),O=nv(A,Jt);if(B&&O&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var H=J.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),vt>Jt?(Q.addRange(H),Q.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),Q.addRange(H))}}}}for(J=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hh=!!rp,ap=rp=null}finally{Gt=f,st.p=u,W.T=o}}i.current=r,Be=2}}function v0(){if(Be===2){Be=0;var i=ir,r=So,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var f=Gt;Gt|=4;try{YT(i,r.alternate,r)}finally{Gt=f,st.p=u,W.T=o}}Be=3}}function T0(){if(Be===4||Be===3){Be=0,Ec();var i=ir,r=So,o=vs,u=a0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,So=ir=null,E0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(nr=null),ns(o),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=st.p,st.p=2,W.T=null;try{for(var m=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];m(A.value,{componentStack:A.stack})}}finally{W.T=r,st.p=f}}(vs&3)!==0&&Vh(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Km?lu++:(lu=0,Km=i):lu=0,uu(0)}}function E0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Hl(r)))}function Vh(){return _0(),v0(),T0(),S0()}function S0(){if(Be!==5)return!1;var i=ir,r=qm;qm=0;var o=ns(vs),u=W.T,f=st.p;try{st.p=32>o?32:o,W.T=null,o=Gm,Gm=null;var m=ir,T=vs;if(Be=0,So=ir=null,vs=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,i0(m.current),t0(m,m.current,T,o),Gt=A,uu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ni,m)}catch{}return!0}finally{st.p=f,W.T=u,E0(i,r)}}function A0(i,r,o){r=Fn(o,r),r=bm(i.stateNode,r,2),i=Xs(i,r,2),i!==null&&(Hr(i,2),Fi(i))}function Qt(i,r,o){if(i.tag===3)A0(i,i,o);else for(;r!==null;){if(r.tag===3){A0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){i=Fn(o,i),o=bT(2),u=Xs(r,o,2),u!==null&&(wT(o,u,r,i),Hr(u,2),Fi(u));break}}r=r.return}}function Qm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new QI;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(jm=!0,f.add(o),i=tD.bind(null,i,r,o),r.then(i,i))}function tD(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Nt&o)===o&&(pe===4||pe===3&&(Nt&62914560)===Nt&&300>hn()-wh?(Gt&2)===0&&Ao(i,0):Fm|=o,Eo===Nt&&(Eo=0)),Fi(i)}function b0(i,r){r===0&&(r=Cc()),i=ia(i,r),i!==null&&(Hr(i,r),Fi(i))}function eD(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),b0(i,o)}function nD(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),b0(i,o)}function iD(i,r){return Ue(i,r)}var Mh=null,wo=null,Xm=!1,Oh=!1,Wm=!1,rr=0;function Fi(i){i!==wo&&i.next===null&&(wo===null?Mh=wo=i:wo=wo.next=i),Oh=!0,Xm||(Xm=!0,rD())}function uu(i,r){if(!Wm&&Oh){Wm=!0;do for(var o=!1,u=Mh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-ve(42|i)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,I0(u,m))}else m=Nt,m=bi(u,u===ee?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ii(u,m)||(o=!0,I0(u,m));u=u.next}while(o);Wm=!1}}function sD(){w0()}function w0(){Oh=Xm=!1;var i=0;rr!==0&&pD()&&(i=rr);for(var r=hn(),o=null,u=Mh;u!==null;){var f=u.next,m=R0(u,r);m===0?(u.next=null,o===null?Mh=f:o.next=f,f===null&&(wo=o)):(o=u,(i!==0||(m&3)!==0)&&(Oh=!0)),u=f}Be!==0&&Be!==5||uu(i),rr!==0&&(rr=0)}function R0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-ve(m),A=1<<T,x=f[T];x===-1?((A&o)===0||(A&u)!==0)&&(f[T]=Rd(A,r)):x<=r&&(i.expiredLanes|=A),m&=~A}if(r=ee,o=Nt,o=bi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Os(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Os(u),ns(o)){case 2:case 8:o=vl;break;case 32:o=Ns;break;case 268435456:o=Sc;break;default:o=Ns}return u=C0.bind(null,i),o=Ue(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Os(u),i.callbackPriority=2,i.callbackNode=null,2}function C0(i,r){if(Be!==0&&Be!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Vh()&&i.callbackNode!==o)return null;var u=Nt;return u=bi(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(l0(i,u,r),R0(i,hn()),i.callbackNode!=null&&i.callbackNode===o?C0.bind(null,i):null)}function I0(i,r){if(Vh())return null;l0(i,r,!0)}function rD(){yD(function(){(Gt&6)!==0?Ue(_l,sD):w0()})}function Zm(){if(rr===0){var i=uo;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),rr=i}return rr}function D0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$a(""+i)}function x0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function aD(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=D0((f[qe]||null).action),T=u.submitter;T&&(r=(r=T[qe]||null)?D0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new Pi("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(rr!==0){var x=T?x0(f,T):new FormData(f);_m(o,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(A.preventDefault(),x=T?x0(f,T):new FormData(f),_m(o,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var Jm=0;Jm<Pd.length;Jm++){var tp=Pd[Jm],oD=tp.toLowerCase(),lD=tp[0].toUpperCase()+tp.slice(1);hi(oD,"on"+lD)}hi(ov,"onAnimationEnd"),hi(lv,"onAnimationIteration"),hi(uv,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(bI,"onTransitionRun"),hi(wI,"onTransitionStart"),hi(RI,"onTransitionCancel"),hi(cv,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function V0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],x=A.instance,q=A.currentTarget;if(A=A.listener,x!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(X){$c(X)}f.currentTarget=null,m=x}else for(T=0;T<u.length;T++){if(A=u[T],x=A.instance,q=A.currentTarget,A=A.listener,x!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(X){$c(X)}f.currentTarget=null,m=x}}}}function Mt(i,r){var o=r[Ha];o===void 0&&(o=r[Ha]=new Set);var u=i+"__bubble";o.has(u)||(M0(r,i,2,!1),o.add(u))}function ep(i,r,o){var u=0;r&&(u|=4),M0(o,i,u,r)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function np(i){if(!i[Nh]){i[Nh]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(uD.has(o)||ep(o,!1,i),ep(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Nh]||(r[Nh]=!0,ep("selectionchange",!1,r))}}function M0(i,r,o,u){switch(oE(r)){case 2:var f=kD;break;case 8:f=UD;break;default:f=yp}o=f.bind(null,r,o,i),f=void 0,!Qr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function ip(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ii(A),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){u=m=T;continue t}A=A.parentNode}}u=u.return}zs(function(){var q=m,X=Un(o),J=[];t:{var K=hv.get(i);if(K!==void 0){var Q=Pi,pt=i;switch(i){case"keypress":if(Wr(o)===0)break t;case"keydown":case"keyup":Q=Gc;break;case"focusin":pt="focus",Q=Jr;break;case"focusout":pt="blur",Q=Jr;break;case"beforeblur":case"afterblur":Q=Jr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case ov:case lv:case uv:Q=Uc;break;case cv:Q=b;break;case"scroll":case"scrollend":Q=Nl;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rs;break;case"toggle":case"beforetoggle":Q=Rt}var vt=(r&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),B=vt?K!==null?K+"Capture":null:K;vt=[];for(var O=q,H;O!==null;){var Z=O;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||B===null||(Z=oi(O,B),Z!=null&&vt.push(hu(O,Z,H))),Jt)break;O=O.return}0<vt.length&&(K=new Q(K,pt,null,o,X),J.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",K&&o!==Vl&&(pt=o.relatedTarget||o.fromElement)&&(Ii(pt)||pt[Ri]))break t;if((Q||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(pt=o.relatedTarget||o.toElement,Q=q,pt=pt?Ii(pt):null,pt!==null&&(Jt=l(pt),vt=pt.tag,pt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(pt=null)):(Q=null,pt=q),Q!==pt)){if(vt=Pl,Z="onMouseLeave",B="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(vt=rs,Z="onPointerLeave",B="onPointerEnter",O="pointer"),Jt=Q==null?K:wn(Q),H=pt==null?K:wn(pt),K=new vt(Z,O+"leave",Q,o,X),K.target=Jt,K.relatedTarget=H,Z=null,Ii(X)===q&&(vt=new vt(B,O+"enter",pt,o,X),vt.target=H,vt.relatedTarget=Jt,Z=vt),Jt=Z,Q&&pt)e:{for(vt=cD,B=Q,O=pt,H=0,Z=B;Z;Z=vt(Z))H++;Z=0;for(var yt=O;yt;yt=vt(yt))Z++;for(;0<H-Z;)B=vt(B),H--;for(;0<Z-H;)O=vt(O),Z--;for(;H--;){if(B===O||O!==null&&B===O.alternate){vt=B;break e}B=vt(B),O=vt(O)}vt=null}else vt=null;Q!==null&&O0(J,K,Q,vt,!1),pt!==null&&Jt!==null&&O0(J,Jt,pt,vt,!0)}}t:{if(K=q?wn(q):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Ft=X_;else if($_(K))if(W_)Ft=EI;else{Ft=vI;var gt=_I}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Ya(q.elementType)&&(Ft=X_):Ft=TI;if(Ft&&(Ft=Ft(i,q))){Q_(J,Ft,o,X);break t}gt&&gt(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Il(K,"number",K.value)}switch(gt=q?wn(q):window,i){case"focusin":($_(gt)||gt.contentEditable==="true")&&(eo=gt,Md=q,zl=null);break;case"focusout":zl=Md=eo=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,rv(J,o,X);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":rv(J,o,X)}var xt;if(qt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else to?ta(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ui&&o.locale!=="ko"&&(to||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&to&&(xt=Ol()):(Ni=X,Ml="value"in Ni?Ni.value:Ni.textContent,to=!0)),gt=Ph(q,Pt),0<gt.length&&(Pt=new ki(Pt,i,null,o,X),J.push({event:Pt,listeners:gt}),xt?Pt.data=xt:(xt=Ja(o),xt!==null&&(Pt.data=xt)))),(xt=zn?mI(i,o):pI(i,o))&&(Pt=Ph(q,"onBeforeInput"),0<Pt.length&&(gt=new ki("onBeforeInput","beforeinput",null,o,X),J.push({event:gt,listeners:Pt}),gt.data=xt)),aD(J,i,q,o,X)}V0(J,r)})}function hu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ph(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=oi(i,o),f!=null&&u.unshift(hu(i,f,m)),f=oi(i,r),f!=null&&u.push(hu(i,f,m))),i.tag===3)return u;i=i.return}return[]}function cD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O0(i,r,o,u,f){for(var m=r._reactName,T=[];o!==null&&o!==u;){var A=o,x=A.alternate,q=A.stateNode;if(A=A.tag,x!==null&&x===u)break;A!==5&&A!==26&&A!==27||q===null||(x=q,f?(q=oi(o,m),q!=null&&T.unshift(hu(o,q,x))):f||(q=oi(o,m),q!=null&&T.push(hu(o,q,x)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var hD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function N0(i){return(typeof i=="string"?i:""+i).replace(hD,`
`).replace(fD,"")}function P0(i,r){return r=N0(r),N0(i)===r}function Zt(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_n(i,""+u);break;case"className":Rn(i,"class",u);break;case"tabIndex":Rn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(i,o,u);break;case"style":xl(i,u,m);break;case"data":if(r!=="object"){Rn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=$a(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=$a(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ai);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=$a(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ga(i,"popover",u);break;case"xlinkActuate":Ie(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ga(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pc.get(o)||o,Ga(i,o,u))}}function sp(i,r,o,u,f,m){switch(o){case"style":xl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[qe]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ga(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,T,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),u&&Zt(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var A=m=T=f=null,x=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":T=X;break;case"checked":x=X;break;case"defaultChecked":q=X;break;case"value":m=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Zt(i,r,u,X,o,null)}}Mc(i,m,A,x,q,T,f,!1);return;case"select":Mt("invalid",i),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Zt(i,r,f,A,o,null)}r=m,o=T,i.multiple=!!u,r!=null?Ls(i,!!u,r,!1):o!=null&&Ls(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,T,A,o,null)}ks(i,u,f,m);return;case"option":for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null)&&(x==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Zt(i,r,x,u,o,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<cu.length;u++)Mt(cu[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,q,u,o,null)}return;default:if(Ya(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&sp(i,r,X,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Zt(i,r,A,u,o,null))}function dD(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,x=null,q=null,X=null;for(Q in o){var J=o[Q];if(o.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=J;default:u.hasOwnProperty(Q)||Zt(i,r,Q,null,u,J)}}for(var K in u){var Q=u[K];if(J=o[K],u.hasOwnProperty(K)&&(Q!=null||J!=null))switch(K){case"type":m=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":X=Q;break;case"value":T=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==J&&Zt(i,r,K,Q,u,J)}}Ka(i,T,A,x,q,X,m,f);return;case"select":Q=T=A=K=null;for(m in o)if(x=o[m],o.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":Q=x;default:u.hasOwnProperty(m)||Zt(i,r,m,null,u,x)}for(f in u)if(m=u[f],x=o[f],u.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==x&&Zt(i,r,f,m,u,x)}r=A,o=T,u=Q,K!=null?Ls(i,!!o,K,!1):!!u!=!!o&&(r!=null?Ls(i,!!o,r,!0):Ls(i,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,T,f,u,m)}Oc(i,K,Q);return;case"option":for(var pt in o)K=o[pt],o.hasOwnProperty(pt)&&K!=null&&!u.hasOwnProperty(pt)&&(pt==="selected"?i.selected=!1:Zt(i,r,pt,null,u,K));for(x in u)K=u[x],Q=o[x],u.hasOwnProperty(x)&&K!==Q&&(K!=null||Q!=null)&&(x==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":Zt(i,r,x,K,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Zt(i,r,vt,null,u,K);for(q in u)if(K=u[q],Q=o[q],u.hasOwnProperty(q)&&K!==Q&&(K!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,q,K,u,Q)}return;default:if(Ya(r)){for(var Jt in o)K=o[Jt],o.hasOwnProperty(Jt)&&K!==void 0&&!u.hasOwnProperty(Jt)&&sp(i,r,Jt,void 0,u,K);for(X in u)K=u[X],Q=o[X],!u.hasOwnProperty(X)||K===Q||K===void 0&&Q===void 0||sp(i,r,X,K,u,Q);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&Zt(i,r,B,null,u,K);for(J in u)K=u[J],Q=o[J],!u.hasOwnProperty(J)||K===Q||K==null&&Q==null||Zt(i,r,J,K,u,Q)}function L0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,T=f.initiatorType,A=f.duration;if(m&&A&&L0(T)){for(T=0,A=f.responseEnd,u+=1;u<o.length;u++){var x=o[u],q=x.startTime;if(q>A)break;var X=x.transferSize,J=x.initiatorType;X&&L0(J)&&(x=x.responseEnd,T+=X*(x<A?1:(A-q)/(x-q)))}if(--u,r+=8*(m+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var rp=null,ap=null;function Lh(i){return i.nodeType===9?i:i.ownerDocument}function k0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function op(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lp=null;function pD(){var i=window.event;return i&&i.type==="popstate"?i===lp?!1:(lp=i,!0):(lp=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,gD=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,yD=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(i){return z0.resolve(null).then(i).catch(_D)}:B0;function _D(i){setTimeout(function(){throw i})}function ar(i){return i==="head"}function j0(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Do(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")fu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,fu(o);for(var m=o.firstChild;m;){var T=m.nextSibling,A=m.nodeName;m[Ci]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&fu(i.ownerDocument.body);o=f}while(o);Do(r)}function F0(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function up(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":up(o),qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function vD(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function TD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function H0(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yn(i.nextSibling),i===null))return null;return i}function cp(i){return i.data==="$?"||i.data==="$~"}function hp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ED(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var fp=null;function q0(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Yn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function G0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function K0(i,r,o){switch(r=Lh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function fu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);qa(i)}var $n=new Map,Y0=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=st.d;st.d={f:SD,r:AD,D:bD,C:wD,L:RD,m:CD,X:DD,S:ID,M:xD};function SD(){var i=Ts.f(),r=Ih();return i||r}function AD(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?cT(r):Ts.r(i)}var Ro=typeof document>"u"?null:document;function $0(i,r,o){var u=Ro;if(u&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Y0.has(f)||(Y0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function bD(i){Ts.D(i),$0("dns-prefetch",i,null)}function wD(i,r){Ts.C(i,r),$0("preconnect",i,r)}function RD(i,r,o){Ts.L(i,r,o);var u=Ro;if(u&&i&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yn(o.imageSizes)+'"]')):f+='[href="'+yn(i)+'"]';var m=f;switch(r){case"style":m=Co(i);break;case"script":m=Io(i)}$n.has(m)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(du(m))||r==="script"&&u.querySelector(mu(m))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function CD(i,r){Ts.m(i,r);var o=Ro;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Io(i)}if(!$n.has(m)&&(i=v({rel:"modulepreload",href:i},r),$n.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(m)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function ID(i,r,o){Ts.S(i,r,o);var u=Ro;if(u&&i){var f=Di(u).hoistableStyles,m=Co(i);r=r||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(du(m)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(m))&&dp(i,o);var x=T=u.createElement("link");Ce(x),Je(x,"link",i),x._p=new Promise(function(q,X){x.onload=q,x.onerror=X}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Uh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function DD(i,r){Ts.X(i,r);var o=Ro;if(o&&i){var u=Di(o).hoistableScripts,f=Io(i),m=u.get(f);m||(m=o.querySelector(mu(f)),m||(i=v({src:i,async:!0},r),(r=$n.get(f))&&mp(i,r),m=o.createElement("script"),Ce(m),Je(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function xD(i,r){Ts.M(i,r);var o=Ro;if(o&&i){var u=Di(o).hoistableScripts,f=Io(i),m=u.get(f);m||(m=o.querySelector(mu(f)),m||(i=v({src:i,async:!0,type:"module"},r),(r=$n.get(f))&&mp(i,r),m=o.createElement("script"),Ce(m),Je(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Q0(i,r,o,u){var f=(f=Dt.current)?kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Co(o.href),o=Di(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var m=Di(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(du(i)))&&!m._p&&(T.instance=m,T.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),m||VD(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Io(o),o=Di(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Co(i){return'href="'+yn(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function X0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function VD(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function Io(i){return'[src="'+yn(i)+'"]'}function mu(i){return"script[async]"+i}function W0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",f),Uh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Co(o.href);var m=i.querySelector(du(f));if(m)return r.state.loading|=4,r.instance=m,Ce(m),m;u=X0(o),(f=$n.get(f))&&dp(u,f),m=(i.ownerDocument||i).createElement("link"),Ce(m);var T=m;return T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),Je(m,"link",u),r.state.loading|=4,Uh(m,o.precedence,i),r.instance=m;case"script":return m=Io(o.src),(f=i.querySelector(mu(m)))?(r.instance=f,Ce(f),f):(u=o,(f=$n.get(m))&&(u=v({},o),mp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Je(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Uh(u,o.precedence,i));return r.instance}function Uh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function mp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Bh=null;function Z0(i,r,o){if(Bh===null){var u=new Map,f=Bh=new Map;f.set(o,u)}else f=Bh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ci]||m[Re]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(m):u.set(T,[m])}}return u}function J0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function MD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OD(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Co(u.href),m=r.querySelector(du(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,Ce(m);return}m=r.ownerDocument||r,u=X0(u),(f=$n.get(f))&&dp(u,f),m=m.createElement("link"),Ce(m);var T=m;T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),Je(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=zh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var pp=0;function ND(i,r){return i.stylesheets&&i.count===0&&Fh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&pp===0&&(pp=62500*mD());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>pp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jh=null;function Fh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jh=new Map,r.forEach(PD,i),jh=null,zh.call(i))}function PD(i,r){if(!(r.state.loading&4)){var o=jh.get(i);if(o)var u=o.get(null);else{o=new Map,jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var pu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function LD(i,r,o,u,f,m,T,A,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function eE(i,r,o,u,f,m,T,A,x,q,X,J){return i=new LD(i,r,o,T,x,q,X,J,A),r=1,m===!0&&(r|=24),m=In(3,null,null,r),i.current=m,m.stateNode=i,r=$d(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Zd(m),i}function nE(i){return i?(i=so,i):so}function iE(i,r,o,u,f,m){f=nE(f),u.context===null?u.context=f:u.pendingContext=f,u=Qs(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xs(i,u,r),o!==null&&(An(o,i,r),Yl(o,i,r))}function sE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function gp(i,r){sE(i,r),(i=i.alternate)&&sE(i,r)}function rE(i){if(i.tag===13||i.tag===31){var r=ia(i,67108864);r!==null&&An(r,i,67108864),gp(i,67108864)}}function aE(i){if(i.tag===13||i.tag===31){var r=On();r=Gr(r);var o=ia(i,r);o!==null&&An(o,i,r),gp(i,r)}}var Hh=!0;function kD(i,r,o,u){var f=W.T;W.T=null;var m=st.p;try{st.p=2,yp(i,r,o,u)}finally{st.p=m,W.T=f}}function UD(i,r,o,u){var f=W.T;W.T=null;var m=st.p;try{st.p=8,yp(i,r,o,u)}finally{st.p=m,W.T=f}}function yp(i,r,o,u){if(Hh){var f=_p(u);if(f===null)ip(i,r,u,qh,o),lE(i,u);else if(zD(f,i,r,o,u))u.stopPropagation();else if(lE(i,u),r&4&&-1<BD.indexOf(i)){for(;f!==null;){var m=kn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ai(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var x=1<<31-ve(T);A.entanglements[1]|=x,T&=~x}Fi(m),(Gt&6)===0&&(Rh=hn()+500,uu(0))}}break;case 31:case 13:A=ia(m,2),A!==null&&An(A,m,2),Ih(),gp(m,2)}if(m=_p(u),m===null&&ip(i,r,u,qh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else ip(i,r,u,null,o)}}function _p(i){return i=Un(i),vp(i)}var qh=null;function vp(i){if(qh=null,i=Ii(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qh=i,null}function oE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case _l:return 2;case vl:return 8;case Ns:case wd:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var Tp=!1,or=null,lr=null,ur=null,gu=new Map,yu=new Map,cr=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lE(i,r){switch(i){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":gu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(r.pointerId)}}function _u(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&rE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function zD(i,r,o,u,f){switch(r){case"focusin":return or=_u(or,i,r,o,u,f),!0;case"dragenter":return lr=_u(lr,i,r,o,u,f),!0;case"mouseover":return ur=_u(ur,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return gu.set(m,_u(gu.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,yu.set(m,_u(yu.get(m)||null,i,r,o,u,f)),!0}return!1}function uE(i){var r=Ii(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,si(i.priority,function(){aE(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,si(i.priority,function(){aE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=_p(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Vl=u,o.target.dispatchEvent(u),Vl=null}else return r=kn(o),r!==null&&rE(r),i.blockedOn=o,!1;r.shift()}return!0}function cE(i,r,o){Gh(i)&&o.delete(r)}function jD(){Tp=!1,or!==null&&Gh(or)&&(or=null),lr!==null&&Gh(lr)&&(lr=null),ur!==null&&Gh(ur)&&(ur=null),gu.forEach(cE),yu.forEach(cE)}function Kh(i,r){i.blockedOn===r&&(i.blockedOn=null,Tp||(Tp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jD)))}var Yh=null;function hE(i){Yh!==i&&(Yh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(vp(u||o)===null)continue;break}var m=kn(o);m!==null&&(i.splice(r,3),r-=3,_m(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Do(i){function r(x){return Kh(x,i)}or!==null&&Kh(or,i),lr!==null&&Kh(lr,i),ur!==null&&Kh(ur,i),gu.forEach(r),yu.forEach(r);for(var o=0;o<cr.length;o++){var u=cr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<cr.length&&(o=cr[0],o.blockedOn===null);)uE(o),o.blockedOn===null&&cr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[qe]||null;if(typeof m=="function")T||hE(o);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[qe]||null)A=T.formAction;else if(vp(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),hE(o)}}}function fE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Ep(i){this._internalRoot=i}$h.prototype.render=Ep.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=On();iE(o,u,i,r,null,null)},$h.prototype.unmount=Ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;iE(i.current,2,null,i,null,null),Ih(),r[Ri]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ic();i={blockedOn:null,target:i,priority:r};for(var o=0;o<cr.length&&r!==0&&r<cr[o].priority;o++);cr.splice(o,0,i),o===0&&uE(i)}};var dE=t.version;if(dE!=="19.2.3")throw Error(s(527,dE,"19.2.3"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var FD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ni=Qh.inject(FD),$e=Qh}catch{}}return Tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=TT,m=ET,T=ST;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=eE(i,1,!1,null,null,o,u,null,f,m,T,fE),i[Ri]=r.current,np(i),new Ep(r)},Tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=TT,T=ET,A=ST,x=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(x=o.formState)),r=eE(i,1,!0,r,o??null,u,f,x,m,T,A,fE),r.context=nE(null),o=r.current,u=On(),u=Gr(u),f=Qs(u),f.callback=null,Xs(o,f,u),o=u,r.current.lanes=o,Hr(r,o),Fi(r),i[Ri]=r.current,np(i),new $h(r)},Tu.version="19.2.3",Tu}var AE;function JD(){if(AE)return bp.exports;AE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bp.exports=ZD(),bp.exports}var t2=JD();const e2=bb(t2);var bE="popstate";function n2(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return lg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Hu(a)}return s2(t,n,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ei(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i2(){return Math.random().toString(36).substring(2,10)}function wE(e,t){return{usr:e.state,key:e.key,idx:t}}function lg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:n,key:t&&t.key||s||i2()}}function Hu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function il(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function s2(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let L=y(),F=L==null?null:L-g;g=L,p&&p({action:d,location:k.location,delta:F})}function S(L,F){d="PUSH";let G=lg(k.location,L,F);g=y()+1;let Y=wE(G,g),at=k.createHref(G);try{c.pushState(Y,"",at)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;a.location.assign(at)}l&&p&&p({action:d,location:k.location,delta:1})}function R(L,F){d="REPLACE";let G=lg(k.location,L,F);g=y();let Y=wE(G,g),at=k.createHref(G);c.replaceState(Y,"",at),l&&p&&p({action:d,location:k.location,delta:0})}function P(L){return r2(L)}let k={get action(){return d},get location(){return e(a,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(bE,v),p=L,()=>{a.removeEventListener(bE,v),p=null}},createHref(L){return t(a,L)},createURL:P,encodeLocation(L){let F=P(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:R,go(L){return c.go(L)}};return k}function r2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ce(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Hu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wb(e,t,n="/"){return a2(e,t,n,!1)}function a2(e,t,n,s){let a=typeof t=="string"?il(t):t,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=Rb(e);o2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=_2(l);d=g2(c[p],g,s)}return d}function Rb(e,t=[],n=[],s="",a=!1){let l=(c,d,p=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;ce(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=bs([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(ce(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Rb(c.children,t,S,v,p)),!(c.path==null&&!c.index)&&t.push({path:v,score:m2(v,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of Cb(c.path))l(c,d,!0,p)}),t}function Cb(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Cb(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function o2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var l2=/^:[\w-]+$/,u2=3,c2=2,h2=1,f2=10,d2=-2,RE=e=>e==="*";function m2(e,t){let n=e.split("/"),s=n.length;return n.some(RE)&&(s+=d2),t&&(s+=c2),n.filter(a=>!RE(a)).reduce((a,l)=>a+(l2.test(l)?u2:l===""?h2:f2),s)}function p2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function g2(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),S=p.route;if(!v&&g&&n&&!s[s.length-1].route.index&&(v=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:bs([l,v.pathname]),pathnameBase:S2(bs([l,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(l=bs([l,v.pathnameBase]))}return c}function Rf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=y2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:v},S)=>{if(y==="*"){let P=d[S]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const R=d[S];return v&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function y2(e,t=!1,n=!0){ei(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function _2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ei(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v2=e=>Ib.test(e);function T2(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?il(e):e,l;if(n)if(v2(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=CE(n.substring(1),"/"):l=CE(n,t)}else l=t;return{pathname:l,search:A2(s),hash:b2(a)}}function CE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ip(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sy(e){let t=E2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ry(e,t,n,s=!1){let a;typeof e=="string"?a=il(e):(a={...e},ce(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let v=t.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),v-=1;a.pathname=S.join("/")}d=v>=0?t[v]:"/"}let p=T2(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),S2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,w2=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function R2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function C2(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xb(e,t){let n=e;if(typeof n!="string"||!Ib.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Db)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Cs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{ei(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vb=["POST","PUT","PATCH","DELETE"];new Set(Vb);var I2=["GET",...Vb];new Set(I2);var sl=U.createContext(null);sl.displayName="DataRouter";var td=U.createContext(null);td.displayName="DataRouterState";var D2=U.createContext(!1),Mb=U.createContext({isTransitioning:!1});Mb.displayName="ViewTransition";var x2=U.createContext(new Map);x2.displayName="Fetchers";var V2=U.createContext(null);V2.displayName="Await";var Pn=U.createContext(null);Pn.displayName="Navigation";var rc=U.createContext(null);rc.displayName="Location";var ts=U.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var ay=U.createContext(null);ay.displayName="RouteError";var Ob="REACT_ROUTER_ERROR",M2="REDIRECT",O2="ROUTE_ERROR_RESPONSE";function N2(e){if(e.startsWith(`${Ob}:${M2}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function P2(e){if(e.startsWith(`${Ob}:${O2}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new w2(t.status,t.statusText,t.data)}catch{}}function L2(e,{relative:t}={}){ce(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Pn),{hash:a,pathname:l,search:c}=ac(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:bs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function rl(){return U.useContext(rc)!=null}function Or(){return ce(rl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rc).location}var Nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pb(e){U.useContext(Pn).static||U.useLayoutEffect(e)}function Lb(){let{isDataRoute:e}=U.useContext(ts);return e?Q2():k2()}function k2(){ce(rl(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(sl),{basename:t,navigator:n}=U.useContext(Pn),{matches:s}=U.useContext(ts),{pathname:a}=Or(),l=JSON.stringify(sy(s)),c=U.useRef(!1);return Pb(()=>{c.current=!0}),U.useCallback((p,g={})=>{if(ei(c.current,Nb),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=ry(p,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:bs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}U.createContext(null);function ac(e,{relative:t}={}){let{matches:n}=U.useContext(ts),{pathname:s}=Or(),a=JSON.stringify(sy(n));return U.useMemo(()=>ry(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function U2(e,t){return kb(e,t)}function kb(e,t,n,s,a){ce(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Pn),{matches:c}=U.useContext(ts),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let G=v&&v.path||"";Bb(g,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Or(),R;if(t){let G=typeof t=="string"?il(t):t;ce(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=S;let P=R.pathname||"/",k=P;if(y!=="/"){let G=y.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=wb(e,{pathname:k});ei(v||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ei(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=H2(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:bs([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:bs([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,a);return t&&F?U.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function B2(){let e=$2(),t=R2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var z2=U.createElement(B2,null),Ub=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=P2(e.digest);n&&(e=n)}let t=e!==void 0?U.createElement(ts.Provider,{value:this.props.routeContext},U.createElement(ay.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?U.createElement(j2,{error:e},t):t}};Ub.contextType=D2;var Dp=new WeakMap;function j2({children:e,error:t}){let{basename:n}=U.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=N2(t.digest);if(s){let a=Dp.get(t);if(a)throw a;let l=xb(s.location,n);if(Db&&!Dp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Dp.set(t,c),c}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function F2({routeContext:e,match:t,children:n}){let s=U.useContext(sl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(ts.Provider,{value:e},n)}function H2(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ce(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:S,errors:R}=n,P=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||P){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:C2(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,S)=>{let R,P=!1,k=null,L=null;n&&(R=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||z2,d&&(p<0&&S===0?(Bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,L=null):p===S&&(P=!0,L=v.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,S+1)),G=()=>{let Y;return R?Y=k:P?Y=L:v.route.Component?Y=U.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=y,U.createElement(F2,{match:v,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:Y})};return n&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?U.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:k,error:R,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):G()},null)}function oy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(e){let t=U.useContext(sl);return ce(t,oy(e)),t}function G2(e){let t=U.useContext(td);return ce(t,oy(e)),t}function K2(e){let t=U.useContext(ts);return ce(t,oy(e)),t}function ly(e){let t=K2(e),n=t.matches[t.matches.length-1];return ce(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Y2(){return ly("useRouteId")}function $2(){let e=U.useContext(ay),t=G2("useRouteError"),n=ly("useRouteError");return e!==void 0?e:t.errors?.[n]}function Q2(){let{router:e}=q2("useNavigate"),t=ly("useNavigate"),n=U.useRef(!1);return Pb(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{ei(n.current,Nb),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var IE={};function Bb(e,t,n){!t&&!IE[e]&&(IE[e]=!0,ei(!1,n))}U.memo(X2);function X2({routes:e,future:t,state:n,onError:s}){return kb(e,void 0,n,s,t)}function zb({to:e,replace:t,state:n,relative:s}){ce(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Pn);ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(ts),{pathname:c}=Or(),d=Lb(),p=ry(e,sy(l),c,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:s})},[d,g,s,t,n]),null}function xo(e){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ce(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=il(n));let{pathname:g="/",search:y="",hash:v="",state:S=null,key:R="default"}=n,P=U.useMemo(()=>{let k=Cs(g,d);return k==null?null:{location:{pathname:k,search:y,hash:v,state:S,key:R},navigationType:s}},[d,g,y,v,S,R,s]);return ei(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(Pn.Provider,{value:p},U.createElement(rc.Provider,{children:t,value:P}))}function Z2({children:e,location:t}){return U2(ug(e),t)}function ug(e,t=[]){let n=[];return U.Children.forEach(e,(s,a)=>{if(!U.isValidElement(s))return;let l=[...t,a];if(s.type===U.Fragment){n.push.apply(n,ug(s.props.children,l));return}ce(s.type===xo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=ug(s.props.children,l)),n.push(c)}),n}var cf="get",hf="application/x-www-form-urlencoded";function ed(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function J2(e){return ed(e)&&e.tagName.toLowerCase()==="button"}function tx(e){return ed(e)&&e.tagName.toLowerCase()==="form"}function ex(e){return ed(e)&&e.tagName.toLowerCase()==="input"}function nx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ix(e,t){return e.button===0&&(!t||t==="_self")&&!nx(e)}var Xh=null;function sx(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(e){return e!=null&&!rx.has(e)?(ei(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):e}function ax(e,t){let n,s,a,l,c;if(tx(e)){let d=e.getAttribute("action");s=d?Cs(d,t):null,n=e.getAttribute("method")||cf,a=xp(e.getAttribute("enctype"))||hf,l=new FormData(e)}else if(J2(e)||ex(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(s=p?Cs(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||cf,a=xp(e.getAttribute("formenctype"))||xp(d.getAttribute("enctype"))||hf,l=new FormData(d,e),!sx()){let{name:g,type:y,value:v}=e;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,v)}}else{if(ed(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cf,s=null,a=hf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ox(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function lx(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ux(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cx(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await lx(l,n);return c.links?c.links():[]}return[]}));return mx(s.flat(1).filter(ux).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DE(e,t,n,s,a,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hx(e,t,{includeHydrateFallback:n}={}){return fx(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function fx(e){return[...new Set(e)]}function dx(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function mx(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(dx(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function jb(){let e=U.useContext(sl);return uy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function px(){let e=U.useContext(td);return uy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cy=U.createContext(void 0);cy.displayName="FrameworkContext";function Fb(){let e=U.useContext(cy);return uy(e,"You must render this element inside a <HydratedRouter> element"),e}function gx(e,t){let n=U.useContext(cy),[s,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,S=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=F=>{F.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[e]),U.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let R=()=>{a(!0)},P=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:Eu(d,R),onBlur:Eu(p,P),onMouseEnter:Eu(g,R),onMouseLeave:Eu(y,P),onTouchStart:Eu(v,R)}]:[!1,S,{}]}function Eu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yx({page:e,...t}){let{router:n}=jb(),s=U.useMemo(()=>wb(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?U.createElement(vx,{page:e,matches:s,...t}):null}function _x(e){let{manifest:t,routeModules:n}=Fb(),[s,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return cx(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function vx({page:e,matches:t,...n}){let s=Or(),{future:a,manifest:l,routeModules:c}=Fb(),{basename:d}=jb(),{loaderData:p,matches:g}=px(),y=U.useMemo(()=>DE(e,t,g,l,s,"data"),[e,t,g,l,s]),v=U.useMemo(()=>DE(e,t,g,l,s,"assets"),[e,t,g,l,s]),S=U.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,L=!1;if(t.forEach(G=>{let Y=l.routes[G.route.id];!Y||!Y.hasLoader||(!y.some(at=>at.route.id===G.route.id)&&G.route.id in p&&c[G.route.id]?.shouldRevalidate||Y.hasClientLoader?L=!0:k.add(G.route.id))}),k.size===0)return[];let F=ox(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return L&&k.size>0&&F.searchParams.set("_routes",t.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,t,e,c]),R=U.useMemo(()=>hx(v,l),[v,l]),P=_x(v);return U.createElement(U.Fragment,null,S.map(k=>U.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>U.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),P.map(({key:k,link:L})=>U.createElement("link",{key:k,nonce:n.nonce,...L})))}function Tx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ex&&(window.__reactRouterVersion="7.12.0")}catch{}function Sx({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=U.useRef();a.current==null&&(a.current=n2({window:s,v5Compat:!0}));let l=a.current,[c,d]=U.useState({action:l.action,location:l.location}),p=U.useCallback(g=>{n===!1?d(g):U.startTransition(()=>d(g))},[n]);return U.useLayoutEffect(()=>l.listen(p),[l,p]),U.createElement(W2,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qb=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S,...R},P){let{basename:k,unstable_useTransitions:L}=U.useContext(Pn),F=typeof g=="string"&&Hb.test(g),G=xb(g,k);g=G.to;let Y=L2(g,{relative:a}),[at,rt,ut]=gx(s,R),C=wx(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function w(M){t&&t(M),M.defaultPrevented||C(M)}let I=U.createElement("a",{...R,...ut,href:G.absoluteURL||Y,onClick:G.isExternal||l?t:w,ref:Tx(P,rt),target:p,"data-discover":!F&&n==="render"?"true":void 0});return at&&!F?U.createElement(U.Fragment,null,I,U.createElement(yx,{page:Y})):I});qb.displayName="Link";var Gb=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let v=ac(c,{relative:g.relative}),S=Or(),R=U.useContext(td),{navigator:P,basename:k}=U.useContext(Pn),L=R!=null&&xx(v)&&d===!0,F=P.encodeLocation?P.encodeLocation(v).pathname:v.pathname,G=S.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&k&&(Y=Cs(Y,k)||Y);const at=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let rt=G===F||!a&&G.startsWith(F)&&G.charAt(at)==="/",ut=Y!=null&&(Y===F||!a&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),C={isActive:rt,isPending:ut,isTransitioning:L},w=rt?t:void 0,I;typeof s=="function"?I=s(C):I=[s,rt?"active":null,ut?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(C):l;return U.createElement(qb,{...g,"aria-current":w,className:I,ref:y,style:M,to:c,viewTransition:d},typeof p=="function"?p(C):p)});Gb.displayName="NavLink";var Ax=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=cf,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S,...R},P)=>{let{unstable_useTransitions:k}=U.useContext(Pn),L=Ix(),F=Dx(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&Hb.test(d),at=rt=>{if(p&&p(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,C=ut?.getAttribute("formmethod")||c,w=()=>L(ut||rt.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S});k&&n!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:P,method:G,action:F,onSubmit:s?p:at,...R,"data-discover":!Y&&e==="render"?"true":void 0})});Ax.displayName="Form";function bx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(e){let t=U.useContext(sl);return ce(t,bx(e)),t}function wx(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=Lb(),y=Or(),v=ac(e,{relative:l});return U.useCallback(S=>{if(ix(S,t)){S.preventDefault();let R=n!==void 0?n:Hu(y)===Hu(v),P=()=>g(e,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?U.startTransition(()=>P()):P()}},[y,g,v,n,s,t,e,a,l,c,d,p])}var Rx=0,Cx=()=>`__${String(++Rx)}__`;function Ix(){let{router:e}=Kb("useSubmit"),{basename:t}=U.useContext(Pn),n=Y2(),s=e.fetch,a=e.navigate;return U.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:v}=ax(l,t);if(c.navigate===!1){let S=c.fetcherKey||Cx();await s(S,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function Dx(e,{relative:t}={}){let{basename:n}=U.useContext(Pn),s=U.useContext(ts);ce(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ac(e||".",{relative:t})},c=Or();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:bs([n,l.pathname])),Hu(l)}function xx(e,{relative:t}={}){let n=U.useContext(Mb);ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kb("useViewTransitionState"),a=ac(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rf(a.pathname,c)!=null||Rf(a.pathname,l)!=null}const Vx=()=>{};var xE={};const Yb=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Mx=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,p=a+2<e.length,g=p?e[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(S=64)),s.push(n[y],n[v],n[S],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Mx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new Ox;const S=l<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),v!==64){const P=g<<6&192|v;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nx=function(e){const t=Yb(e);return $b.encodeByteArray(t,!0)},Cf=function(e){return Nx(e).replace(/\./g,"")},Qb=function(e){try{return $b.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lx=()=>Px().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof xE>"u")return;const e=xE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ux=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qb(e[1]);return t&&JSON.parse(t)},nd=()=>{try{return Vx()||Lx()||kx()||Ux()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xb=e=>nd()?.emulatorHosts?.[e],Wb=e=>{const t=Xb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Zb=()=>nd()?.config,Jb=e=>nd()?.[`_${e}`];class Bx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Nr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hy(e){return(await fetch(e,{credentials:"include"})).ok}function tw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(c)),""].join(".")}const Vu={};function zx(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vu))Vu[t]?e.emulator.push(t):e.prod.push(t);return e}function jx(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let VE=!1;function fy(e,t){if(typeof window>"u"||typeof document>"u"||!Nr(window.location.host)||Vu[e]===t||Vu[e]||VE)return;Vu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=zx().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{VE=!0,c()},S}function y(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=jx(s),R=n("text"),P=document.getElementById(R)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),F=n("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),y(L,k);const at=g();p(G,F),Y.append(G,P,L,at),document.body.appendChild(Y)}l?(P.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Hx(){const e=nd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yx(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $x(){return!Hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Xx(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const Wx="FirebaseError";class es extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Wx,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Zx(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new es(a,d,s)}}function Zx(e,t){return e.replace(Jx,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const Jx=/\{\$([^}]+)}/g;function tV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ia(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(ME(l)&&ME(c)){if(!Ia(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ME(e){return e!==null&&typeof e=="object"}function lc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function eV(e,t){const n=new nV(e,t);return n.subscribe.bind(n)}class nV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iV(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Vp),a.error===void 0&&(a.error=Vp),a.complete===void 0&&(a.complete=Vp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vp(){}function He(e){return e&&e._delegate?e._delegate:e}class br{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ya="[DEFAULT]";class sV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Bx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aV(t))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ya){return this.instances.has(t)}getOptions(t=ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rV(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ya){return this.component?this.component.multipleInstances?t:ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rV(e){return e===ya?void 0:e}function aV(e){return e.instantiationMode==="EAGER"}class oV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const lV={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},uV=Lt.INFO,cV={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},hV=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=cV[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dy{constructor(t){this.name=t,this._logLevel=uV,this._logHandler=hV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const fV=(e,t)=>t.some(n=>e instanceof n);let OE,NE;function dV(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mV(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,cg=new WeakMap,nw=new WeakMap,Mp=new WeakMap,my=new WeakMap;function pV(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Tr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ew.set(n,e)}).catch(()=>{}),my.set(t,e),t}function gV(e){if(cg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});cg.set(e,t)}let hg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return cg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yV(e){hg=e(hg)}function _V(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Op(this),t,...n);return nw.set(s,t.sort?t.sort():[t]),Tr(s)}:mV().includes(e)?function(...t){return e.apply(Op(this),t),Tr(ew.get(this))}:function(...t){return Tr(e.apply(Op(this),t))}}function vV(e){return typeof e=="function"?_V(e):(e instanceof IDBTransaction&&gV(e),fV(e,dV())?new Proxy(e,hg):e)}function Tr(e){if(e instanceof IDBRequest)return pV(e);if(Mp.has(e))return Mp.get(e);const t=vV(e);return t!==e&&(Mp.set(e,t),my.set(t,e)),t}const Op=e=>my.get(e);function TV(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Tr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Tr(c.result),p.oldVersion,p.newVersion,Tr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const EV=["get","getKey","getAll","getAllKeys","count"],SV=["put","add","delete","clear"],Np=new Map;function PE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Np.get(t))return Np.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=SV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||EV.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&p.done]))[0]};return Np.set(t,l),l}yV(e=>({...e,get:(t,n,s)=>PE(t,n)||e.get(t,n,s),has:(t,n)=>!!PE(t,n)||e.has(t,n)}));class AV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bV(e){return e.getComponent()?.type==="VERSION"}const fg="@firebase/app",LE="0.14.7";const Is=new dy("@firebase/app"),wV="@firebase/app-compat",RV="@firebase/analytics-compat",CV="@firebase/analytics",IV="@firebase/app-check-compat",DV="@firebase/app-check",xV="@firebase/auth",VV="@firebase/auth-compat",MV="@firebase/database",OV="@firebase/data-connect",NV="@firebase/database-compat",PV="@firebase/functions",LV="@firebase/functions-compat",kV="@firebase/installations",UV="@firebase/installations-compat",BV="@firebase/messaging",zV="@firebase/messaging-compat",jV="@firebase/performance",FV="@firebase/performance-compat",HV="@firebase/remote-config",qV="@firebase/remote-config-compat",GV="@firebase/storage",KV="@firebase/storage-compat",YV="@firebase/firestore",$V="@firebase/ai",QV="@firebase/firestore-compat",XV="firebase",WV="12.8.0";const dg="[DEFAULT]",ZV={[fg]:"fire-core",[wV]:"fire-core-compat",[CV]:"fire-analytics",[RV]:"fire-analytics-compat",[DV]:"fire-app-check",[IV]:"fire-app-check-compat",[xV]:"fire-auth",[VV]:"fire-auth-compat",[MV]:"fire-rtdb",[OV]:"fire-data-connect",[NV]:"fire-rtdb-compat",[PV]:"fire-fn",[LV]:"fire-fn-compat",[kV]:"fire-iid",[UV]:"fire-iid-compat",[BV]:"fire-fcm",[zV]:"fire-fcm-compat",[jV]:"fire-perf",[FV]:"fire-perf-compat",[HV]:"fire-rc",[qV]:"fire-rc-compat",[GV]:"fire-gcs",[KV]:"fire-gcs-compat",[YV]:"fire-fst",[QV]:"fire-fst-compat",[$V]:"fire-vertex","fire-js":"fire-js",[XV]:"fire-js-all"};const If=new Map,JV=new Map,mg=new Map;function kE(e,t){try{e.container.addComponent(t)}catch(n){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Da(e){const t=e.name;if(mg.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;mg.set(t,e);for(const n of If.values())kE(n,e);for(const n of JV.values())kE(n,e);return!0}function id(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e==null?!1:e.settings!==void 0}const tM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new oc("app","Firebase",tM);class eM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Na=WV;function iw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:dg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=Zb()),!n)throw Er.create("no-options");const l=If.get(a);if(l){if(Ia(n,l.options)&&Ia(s,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const c=new oV(a);for(const p of mg.values())c.addComponent(p);const d=new eM(n,s,c);return If.set(a,d),d}function py(e=dg){const t=If.get(e);if(!t&&e===dg&&Zb())return iw();if(!t)throw Er.create("no-app",{appName:e});return t}function Gi(e,t,n){let s=ZV[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Da(new br(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const nM="firebase-heartbeat-database",iM=1,qu="firebase-heartbeat-store";let Pp=null;function sw(){return Pp||(Pp=TV(nM,iM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Er.create("idb-open",{originalErrorMessage:e.message})})),Pp}async function sM(e){try{const n=(await sw()).transaction(qu),s=await n.objectStore(qu).get(rw(e));return await n.done,s}catch(t){if(t instanceof es)Is.warn(t.message);else{const n=Er.create("idb-get",{originalErrorMessage:t?.message});Is.warn(n.message)}}}async function UE(e,t){try{const s=(await sw()).transaction(qu,"readwrite");await s.objectStore(qu).put(t,rw(e)),await s.done}catch(n){if(n instanceof es)Is.warn(n.message);else{const s=Er.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function rw(e){return`${e.name}!${e.options.appId}`}const rM=1024,aM=30;class oM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>aM){const a=cM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BE(),{heartbeatsToSend:n,unsentEntries:s}=lM(this._heartbeatsCache.heartbeats),a=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Is.warn(t),""}}}function BE(){return new Date().toISOString().substring(0,10)}function lM(e,t=rM){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),zE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),zE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qx()?Xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zE(e){return Cf(JSON.stringify({version:2,heartbeats:e})).length}function cM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function hM(e){Da(new br("platform-logger",t=>new AV(t),"PRIVATE")),Da(new br("heartbeat",t=>new oM(t),"PRIVATE")),Gi(fg,LE,e),Gi(fg,LE,"esm2020"),Gi("fire-js","")}hM("");function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fM=aw,ow=new oc("auth","Firebase",aw());const Df=new dy("@firebase/auth");function dM(e,...t){Df.logLevel<=Lt.WARN&&Df.warn(`Auth (${Na}): ${e}`,...t)}function ff(e,...t){Df.logLevel<=Lt.ERROR&&Df.error(`Auth (${Na}): ${e}`,...t)}function Wi(e,...t){throw yy(e,...t)}function _i(e,...t){return yy(e,...t)}function gy(e,t,n){const s={...fM(),[t]:n};return new oc("auth","Firebase",s).create(t,{appName:e.name})}function Aa(e){return gy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mM(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Wi(e,"argument-error"),gy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return ow.create(e,...t)}function Et(e,t,...n){if(!e)throw yy(t,...n)}function Ss(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function Ds(e,t){e||Ss(t)}function pg(){return typeof self<"u"&&self.location?.href||""}function pM(){return jE()==="http:"||jE()==="https:"}function jE(){return typeof self<"u"&&self.location?.protocol||null}function gM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pM()||Gx()||"connection"in navigator)?navigator.onLine:!0}function yM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class uc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ds(n>t,"Short delay should be less than long delay!"),this.isMobile=Fx()||Kx()}get(){return gM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _y(e,t){Ds(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class lw{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TM=new uc(3e4,6e4);function vy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function al(e,t,n,s,a={}){return uw(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=lc({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...l};return qx()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Nr(e.emulatorConfig.host)&&(g.credentials="include"),lw.fetch()(await cw(e,e.config.apiHost,n,d),g)})}async function uw(e,t,n){e._canInitEmulator=!1;const s={..._M,...t};try{const a=new SM(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wh(e,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gy(e,y,g);Wi(e,y)}}catch(a){if(a instanceof es)throw a;Wi(e,"network-request-failed",{message:String(a)})}}async function EM(e,t,n,s,a={}){const l=await al(e,t,n,s,a);return"mfaPendingCredential"in l&&Wi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function cw(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?_y(e.config,a):`${e.config.apiScheme}://${a}`;return vM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class SM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),TM.get())})}}function Wh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=_i(e,t,s);return a.customData._tokenResponse=n,a}async function AM(e,t){return al(e,"POST","/v1/accounts:delete",t)}async function xf(e,t){return al(e,"POST","/v1/accounts:lookup",t)}function Mu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bM(e,t=!1){const n=He(e),s=await n.getIdToken(t),a=Ty(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Mu(Lp(a.auth_time)),issuedAtTime:Mu(Lp(a.iat)),expirationTime:Mu(Lp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lp(e){return Number(e)*1e3}function Ty(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=Qb(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function FE(e){const t=Ty(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof es&&wM(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function wM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class RM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vf(e){const t=e.auth,n=await e.getIdToken(),s=await Gu(e,xf(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?hw(a.providerUserInfo):[],c=IM(e.providerData,l),d=e.isAnonymous,p=!(e.email&&a.passwordHash)&&!c?.length,g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function CM(e){const t=He(e);await Vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IM(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function hw(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DM(e,t){const n=await uw(e,{},async()=>{const s=lc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await cw(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Nr(e.emulatorConfig.host)&&(p.credentials="include"),lw.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xM(e,t){return al(e,"POST","/v2/accounts:revokeToken",vy(e,t))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=FE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await DM(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Bo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function fr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new RM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bM(this,t)}reload(){return CM(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Aa(this.auth));const t=await this.getIdToken();return await Gu(this,AM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:R,providerData:P,stsTokenManager:k}=n;Et(v&&k,t,"internal-error");const L=Bo.fromJSON(this.name,k);Et(typeof v=="string",t,"internal-error"),fr(s,t.name),fr(a,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof R=="boolean",t,"internal-error"),fr(l,t.name),fr(c,t.name),fr(d,t.name),fr(p,t.name),fr(g,t.name),fr(y,t.name);const F=new gi({uid:v,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(F.providerData=P.map(G=>({...G}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new Bo;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Vf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Bo;d.updateFromIdToken(s);const p=new gi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const HE=new Map;function As(e){Ds(e instanceof Function,"Expected a class definition");let t=HE.get(e);return t?(Ds(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,HE.set(e,t),t)}class fw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fw.type="NONE";const qE=fw;function df(e,t,n){return`firebase:${e}:${t}:${n}`}class zo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await xf(this.auth,{idToken:t}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new zo(As(qE),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||As(qE);const c=df(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let v;if(typeof y=="string"){const S=await xf(t,{idToken:y}).catch(()=>{});if(!S)break;v=await gi._fromGetAccountInfoResponse(t,S,y)}else v=gi._fromJSON(t,y);g!==l&&(d=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zo(l,t,s))}}function GE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_w(t))return"Blackberry";if(vw(t))return"Webos";if(mw(t))return"Safari";if((t.includes("chrome/")||pw(t))&&!t.includes("edge/"))return"Chrome";if(yw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function dw(e=cn()){return/firefox\//i.test(e)}function mw(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pw(e=cn()){return/crios\//i.test(e)}function gw(e=cn()){return/iemobile/i.test(e)}function yw(e=cn()){return/android/i.test(e)}function _w(e=cn()){return/blackberry/i.test(e)}function vw(e=cn()){return/webos/i.test(e)}function Ey(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function VM(e=cn()){return Ey(e)&&!!window.navigator?.standalone}function MM(){return Yx()&&document.documentMode===10}function Tw(e=cn()){return Ey(e)||yw(e)||vw(e)||_w(e)||/windows phone/i.test(e)||gw(e)}function Ew(e,t=[]){let n;switch(e){case"Browser":n=GE(cn());break;case"Worker":n=`${GE(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${s}`}class OM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function NM(e,t={}){return al(e,"GET","/v2/passwordPolicy",vy(e,t))}const PM=6;class LM{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class kM{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new OM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await xf(this,{idToken:t}),s=await gi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Aa(this));const n=t?He(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NM(this),n=new LM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&As(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sd(e){return He(e)}class KE{constructor(t){this.auth=t,this.observer=null,this.addObserver=eV(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UM(e){Sy=e}function BM(e){return Sy.loadJS(e)}function zM(){return Sy.gapiScript}function jM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function FM(e,t){const n=id(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ia(l,t??{}))return a;Wi(a,"already-initialized")}return n.initialize({options:t})}function HM(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(As);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function qM(e,t,n){const s=sd(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Sw(t),{host:c,port:d}=GM(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ia(g,s.config.emulator)&&Ia(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Nr(c)?(hy(`${l}//${c}${p}`),fy("Auth",!0)):KM()}function Sw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GM(e){const t=Sw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:YE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:YE(c)}}}function YE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function KM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Aw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(t){return Ss("not implemented")}_linkToIdToken(t,n){return Ss("not implemented")}_getReauthenticationResolver(t){return Ss("not implemented")}}async function jo(e,t){return EM(e,"POST","/v1/accounts:signInWithIdp",vy(e,t))}const YM="http://localhost";class xa extends Aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new xa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return jo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,jo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,jo(t,n)}buildRequest(){const t={requestUri:YM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=lc(n)}return t}}class Ay{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class cc extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class mr extends cc{constructor(){super("facebook.com")}static credential(t){return xa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class Es extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";class pr extends cc{constructor(){super("github.com")}static credential(t){return xa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class gr extends cc{constructor(){super("twitter.com")}static credential(t,n){return xa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return gr.credential(n,s)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";class Ko{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await gi._fromIdTokenResponse(t,s,a),c=$E(s);return new Ko({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=$E(s);return new Ko({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function $E(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mf extends es{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Mf(t,n,s,a)}}function bw(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(e,l,t,s):l})}async function $M(e,t,n=!1){const s=await Gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ko._forOperation(e,"link",s)}async function QM(e,t,n=!1){const{auth:s}=e;if(Xn(s.app))return Promise.reject(Aa(s));const a="reauthenticate";try{const l=await Gu(e,bw(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=Ty(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),Ko._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Wi(s,"user-mismatch"),l}}async function XM(e,t,n=!1){if(Xn(e.app))return Promise.reject(Aa(e));const s="signIn",a=await bw(e,s,t),l=await Ko._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function WM(e,t,n,s){return He(e).onIdTokenChanged(t,n,s)}function ZM(e,t,n){return He(e).beforeAuthStateChanged(t,n)}function JM(e,t,n,s){return He(e).onAuthStateChanged(t,n,s)}function tO(e){return He(e).signOut()}const Of="__sak";class ww{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const eO=1e3,nO=10;class Rw extends ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);MM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,nO):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Rw.type="LOCAL";const iO=Rw;class Cw extends ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Cw.type="SESSION";const Iw=Cw;function sO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class rd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new rd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await sO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];function by(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class rO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=by("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const S=v;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ki(){return window}function aO(e){Ki().location.href=e}function Dw(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function oO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lO(){return navigator?.serviceWorker?.controller||null}function uO(){return Dw()?self:null}const xw="firebaseLocalStorageDb",cO=1,Nf="firebaseLocalStorage",Vw="fbase_key";class hc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(e,t){return e.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function hO(){const e=indexedDB.deleteDatabase(xw);return new hc(e).toPromise()}function yg(){const e=indexedDB.open(xw,cO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Nf,{keyPath:Vw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Nf)?t(s):(s.close(),await hO(),t(await yg()))})})}async function QE(e,t,n){const s=ad(e,!0).put({[Vw]:t,value:n});return new hc(s).toPromise()}async function fO(e,t){const n=ad(e,!1).get(t),s=await new hc(n).toPromise();return s===void 0?null:s.value}function XE(e,t){const n=ad(e,!0).delete(t);return new hc(n).toPromise()}const dO=800,mO=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(uO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yg();return await QE(t,Of,"1"),await XE(t,Of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>fO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ad(a,!1).getAll();return new hc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const pO=Mw;new uc(3e4,6e4);function Ow(e,t){return t?As(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class wy extends Aw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return jo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gO(e){return XM(e.auth,new wy(e),e.bypassAuthState)}function yO(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),QM(n,new wy(e),e.bypassAuthState)}async function _O(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),$M(n,new wy(e),e.bypassAuthState)}class Nw{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gO;case"linkViaPopup":case"linkViaRedirect":return _O;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:Wi(this.auth,"internal-error")}}resolve(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vO=new uc(2e3,1e4);async function TO(e,t,n){if(Xn(e.app))return Promise.reject(_i(e,"operation-not-supported-in-this-environment"));const s=sd(e);mM(e,t,Ay);const a=Ow(s,n);return new va(s,"signInViaPopup",t,a).executeNotNull()}class va extends Nw{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const t=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vO.get())};t()}}va.currentPopupAction=null;const EO="pendingRedirect",mf=new Map;class SO extends Nw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const s=await AO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(e,t){const n=RO(t),s=wO(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function bO(e,t){mf.set(e._key(),t)}function wO(e){return As(e._redirectPersistence)}function RO(e){return df(EO,e.config.apiKey,e.name)}async function CO(e,t,n=!1){if(Xn(e.app))return Promise.reject(Aa(e));const s=sd(e),a=Ow(s,t),c=await new SO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const IO=600*1e3;class DO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Pw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(_i(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(t))}saveEventToCache(t){this.cachedEventUids.add(WE(t)),this.lastProcessedEventTime=Date.now()}}function WE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Pw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function xO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(e);default:return!1}}async function VO(e,t={}){return al(e,"GET","/v1/projects",t)}const MO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OO=/^https?/;async function NO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await VO(e);for(const n of t)try{if(PO(n))return}catch{}Wi(e,"unauthorized-domain")}function PO(e){const t=pg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!OO.test(n))return!1;if(MO.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const LO=new uc(3e4,6e4);function ZE(){const e=Ki().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function kO(e){return new Promise((t,n)=>{function s(){ZE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(_i(e,"network-request-failed"))},timeout:LO.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const a=jM("iframefcb");return Ki()[a]=()=>{gapi.load?s():n(_i(e,"network-request-failed"))},BM(`${zM()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw pf=null,t})}let pf=null;function UO(e){return pf=pf||kO(e),pf}const BO=new uc(5e3,15e3),zO="__/auth/iframe",jO="emulator/auth/iframe",FO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qO(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_y(t,jO):`https://${e.config.authDomain}/${zO}`,s={apiKey:t.apiKey,appName:e.name,v:Na},a=HO.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${lc(s).slice(1)}`}async function GO(e){const t=await UO(e),n=Ki().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:qO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=_i(e,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},BO.get());function p(){Ki().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const KO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YO=500,$O=600,QO="_blank",XO="http://localhost";class JE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WO(e,t,n,s=YO,a=$O){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...KO,width:s.toString(),height:a.toString(),top:l,left:c},g=cn().toLowerCase();n&&(d=pw(g)?QO:n),dw(g)&&(t=t||XO,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[R,P])=>`${S}${R}=${P},`,"");if(VM(g)&&d!=="_self")return ZO(t||"",d),new JE(null);const v=window.open(t||"",d,y);Et(v,e,"popup-blocked");try{v.focus()}catch{}return new JE(v)}function ZO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const JO="__/auth/handler",tN="emulator/auth/handler",eN=encodeURIComponent("fac");async function tS(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Na,eventId:a};if(t instanceof Ay){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",tV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof cc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await e._getAppCheckToken(),g=p?`#${eN}=${encodeURIComponent(p)}`:"";return`${nN(e)}?${lc(d).slice(1)}${g}`}function nN({config:e}){return e.emulator?_y(e,tN):`https://${e.authDomain}/${JO}`}const kp="webStorageSupport";class iN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iw,this._completeRedirectFn=CO,this._overrideRedirectResult=bO}async _openPopup(t,n,s,a){Ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await tS(t,n,s,pg(),a);return WO(t,l,by())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await tS(t,n,s,pg(),a);return aO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ds(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await GO(t),s=new DO(t);return n.register("authEvent",a=>(Et(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(kp,{type:kp},a=>{const l=a?.[0]?.[kp];l!==void 0&&n(!!l),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tw()||mw()||Ey()}}const sN=iN;var eS="@firebase/auth",nS="1.12.0";class rN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oN(e){Da(new br("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(e)},g=new kM(s,a,l,p);return HM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Da(new br("auth-internal",t=>{const n=sd(t.getProvider("auth").getImmediate());return(s=>new rN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(eS,nS,aN(e)),Gi(eS,nS,"esm2020")}const lN=300,uN=Jb("authIdTokenMaxAge")||lN;let iS=null;const cN=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uN)return;const a=n?.token;iS!==a&&(iS=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hN(e=py()){const t=id(e,"auth");if(t.isInitialized())return t.getImmediate();const n=FM(e,{popupRedirectResolver:sN,persistence:[pO,iO,Iw]}),s=Jb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=cN(l.toString());ZM(n,c,()=>c(n.currentUser)),WM(n,d=>c(d))}}const a=Xb("auth");return a&&qM(n,`http://${a}`),n}function fN(){return document.getElementsByTagName("head")?.[0]??document}UM({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=_i("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",fN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oN("Browser");var dN="firebase",mN="12.8.0";Gi(dN,mN,"app");var sS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,Lw;(function(){var e;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,V,z){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return w.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],V=C.g[2];let z=C.g[3],D;D=w+(z^I&(V^z))+M[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(V^w&(I^V))+M[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(I^z&(w^I))+M[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(w^V&(z^w))+M[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(z^I&(V^z))+M[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(V^w&(I^V))+M[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(I^z&(w^I))+M[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(w^V&(z^w))+M[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(z^I&(V^z))+M[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(V^w&(I^V))+M[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(I^z&(w^I))+M[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(w^V&(z^w))+M[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(z^I&(V^z))+M[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(V^w&(I^V))+M[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(I^z&(w^I))+M[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(w^V&(z^w))+M[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=w+(V^z&(I^V))+M[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(w^I))+M[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(z^w))+M[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(V^z))+M[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(I^V))+M[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(w^I))+M[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(z^w))+M[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(V^z))+M[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(I^V))+M[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(w^I))+M[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(z^w))+M[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(V^z))+M[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(I^V))+M[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(w^I))+M[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^I&(z^w))+M[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(V^z))+M[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=w+(I^V^z)+M[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^V)+M[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^I)+M[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^w)+M[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^z)+M[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^V)+M[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^I)+M[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^w)+M[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^z)+M[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^V)+M[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^I)+M[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^w)+M[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(I^V^z)+M[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^V)+M[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^I)+M[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^w)+M[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=w+(V^(I|~z))+M[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~V))+M[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~I))+M[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~w))+M[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~z))+M[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~V))+M[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~I))+M[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~w))+M[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~z))+M[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~V))+M[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~I))+M[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~w))+M[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=w+(V^(I|~z))+M[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~V))+M[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~I))+M[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,M=this.C;let V=this.h,z=0;for(;z<w;){if(V==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<w;)if(M[V++]=C.charCodeAt(z++),V==this.blockSize){a(this,M),V=0;break}}else for(;z<w;)if(M[V++]=C[z++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[w++]=this.g[I]>>>M&255;return C};function l(C,w){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;const I=[];let M=!0;for(let V=C.length-1;V>=0;V--){const z=C[V]|0;M&&z==w||(I[V]=z,M=!1)}this.g=I}var d={};function p(C){return-128<=C&&C<128?l(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return L(g(-C));const w=[];let I=1;for(let M=0;C>=I;M++)w[M]=C/I|0,I*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return L(y(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let M=v;for(let z=0;z<C.length;z+=8){var V=Math.min(8,C.length-z);const D=parseInt(C.substring(z,z+V),w);V<8?(V=g(Math.pow(w,V)),M=M.j(V).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var v=p(0),S=p(1),R=p(16777216);e=c.prototype,e.m=function(){if(k(this))return-L(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(k(this))return"-"+L(this).toString(C);const w=g(Math.pow(C,6));var I=this;let M="";for(;;){const V=at(I,w).g;I=F(I,V.j(w));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,P(I))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function k(C){return C.h==-1}e.l=function(C){return C=F(this,C),k(C)?-1:P(C)?0:1};function L(C){const w=C.g.length,I=[];for(let M=0;M<w;M++)I[M]=~C.g[M];return new c(I,~C.h).add(S)}e.abs=function(){return k(this)?L(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let V=0;V<=w;V++){let z=M+(this.i(V)&65535)+(C.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,z&=65535,D&=65535,I[V]=D<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(C,w){return C.add(L(w))}e.j=function(C){if(P(this)||P(C))return v;if(k(this))return k(C)?L(this).j(L(C)):L(L(this).j(C));if(k(C))return L(this.j(L(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const z=this.i(M)>>>16,D=this.i(M)&65535,te=C.i(V)>>>16,de=C.i(V)&65535;I[2*M+2*V]+=D*de,G(I,2*M+2*V),I[2*M+2*V+1]+=z*de,G(I,2*M+2*V+1),I[2*M+2*V+1]+=D*te,G(I,2*M+2*V+1),I[2*M+2*V+2]+=z*te,G(I,2*M+2*V+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new c(I,0)};function G(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function at(C,w){if(P(w))throw Error("division by zero");if(P(C))return new Y(v,v);if(k(C))return w=at(L(C),w),new Y(L(w.g),L(w.h));if(k(w))return w=at(C,L(w)),new Y(L(w.g),w.h);if(C.g.length>30){if(k(C)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=w;M.l(C)<=0;)I=rt(I),M=rt(M);var V=ut(I,1),z=ut(M,1);for(M=ut(M,2),I=ut(I,2);!P(M);){var D=z.add(M);D.l(C)<=0&&(V=V.add(I),z=D),M=ut(M,1),I=ut(I,1)}return w=F(C,V.j(w)),new Y(V,w)}for(V=v;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=g(I),D=z.j(w);k(D)||D.l(C)>0;)I-=M,z=g(I),D=z.j(w);P(z)&&(z=S),V=V.add(z),C=F(C,D)}return new Y(V,C)}e.B=function(C){return at(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&C.i(M);return new c(I,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|C.i(M);return new c(I,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^C.i(M);return new c(I,this.h^C.h)};function rt(C){const w=C.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(I,C.h)}function ut(C,w){const I=w>>5;w%=32;const M=C.g.length-I,V=[];for(let z=0;z<M;z++)V[z]=w>0?C.i(z+I)>>>w|C.i(z+I+1)<<32-w:C.i(z+I);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Lw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Sr=c}).apply(typeof sS<"u"?sS:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kw,wu,Uw,gf,_g,Bw,zw,jw;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var j=h[b];if(!(j in E))break t;E=E[j]}h=h[h.length-1],b=E[h],_=_(b),_!=b&&_!=null&&t(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],b;for(b in _)Object.prototype.hasOwnProperty.call(_,b)&&E.push([b,_[b]]);return E}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){return g=p,g.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,j,$){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return _.prototype[j].apply(b,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const _=h.length;if(_>0){const E=Array(_);for(let b=0;b<_;b++)E[b]=h[b];return E}return[]}function P(h,_){for(let b=1;b<arguments.length;b++){const j=arguments[b];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=h.length||0;const $=j.length||0;h.length=E+$;for(let ot=0;ot<$;ot++)h[E+ot]=j[ot]}else h.push(j)}}class k{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,E){const b=Y.get();b.set(_,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new k(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ut=!1,C=new G,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){L(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function te(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(te,V),te.prototype.init=function(h,_){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),W=0;function st(h,_,E,b,j){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!b,this.ha=j,this.key=++W,this.da=this.fa=!1}function mt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,_,E){for(const b in h)_.call(E,h[b],b,h)}function Ot(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function N(h){const _={};for(const E in h)_[E]=h[E];return _}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,_){let E,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(E in b)h[E]=b[E];for(let $=0;$<tt.length;$++)E=tt[$],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,_,E,b,j){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ot=Dt(h,_,b,j);return ot>-1?(_=h[ot],E||(_.fa=!1)):(_=new st(_,this.src,$,!!b,j),_.fa=E,h.push(_)),_};function St(h,_){const E=_.type;if(E in h.g){var b=h.g[E],j=Array.prototype.indexOf.call(b,_,void 0),$;($=j>=0)&&Array.prototype.splice.call(b,j,1),$&&(mt(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Dt(h,_,E,b){for(let j=0;j<h.length;++j){const $=h[j];if(!$.da&&$.listener==_&&$.capture==!!E&&$.ha==b)return j}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),ke={};function oe(h,_,E,b,j){if(Array.isArray(_)){for(let $=0;$<_.length;$++)oe(h,_[$],E,b,j);return null}return E=yl(E),h&&h[de]?h.J(_,E,d(b)?!!b.capture:!1,j):Br(h,_,E,!1,b,j)}function Br(h,_,E,b,j,$){if(!_)throw Error("Invalid event type");const ot=d(j)?!!j.capture:!!j;let Rt=zr(h);if(Rt||(h[zt]=Rt=new ft(h)),E=Rt.add(_,E,b,ot,$),E.proxy)return E;if(b=Ba(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)z||(j=ot),j===void 0&&(j=!1),h.addEventListener(_.toString(),b,j);else if(h.attachEvent)h.attachEvent(Ei(_.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ba(){function h(E){return _.call(h.src,h.listener,E)}const _=pl;return h}function za(h,_,E,b,j){if(Array.isArray(_))for(var $=0;$<_.length;$++)za(h,_[$],E,b,j);else b=d(b)?!!b.capture:!!b,E=yl(E),h&&h[de]?(h=h.i,$=String(_).toString(),$ in h.g&&(_=h.g[$],E=Dt(_,E,b,j),E>-1&&(mt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[$],h.h--)))):h&&(h=zr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Dt(_,E,b,j)),(E=h>-1?_[h]:null)&&ja(E))}function ja(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[de])St(_.i,h);else{var E=h.type,b=h.proxy;_.removeEventListener?_.removeEventListener(E,b,h.capture):_.detachEvent?_.detachEvent(Ei(E),b):_.addListener&&_.removeListener&&_.removeListener(b),(E=zr(_))?(St(E,h),E.h==0&&(E.src=null,_[zt]=null)):mt(h)}}}function Ei(h){return h in ke?ke[h]:ke[h]="on"+h}function pl(h,_){if(h.da)h=!0;else{_=new te(_,this);const E=h.listener,b=h.ha||h.src;h.fa&&ja(h),h=E.call(b,_)}return h}function zr(h){return h=h[zt],h instanceof ft?h:null}var gl="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(h){return typeof h=="function"?h:(h[gl]||(h[gl]=function(_){return h.handleEvent(_)}),h[gl])}function be(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}v(be,M),be.prototype[de]=!0,be.prototype.removeEventListener=function(h,_,E,b){za(this,h,_,E,b)};function Ue(h,_){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var j=_;_=new V(b,h),lt(_,j)}j=!0;let $,ot;if(E)for(ot=E.length-1;ot>=0;ot--)$=_.g=E[ot],j=Os($,b,!0,_)&&j;if($=_.g=h,j=Os($,b,!0,_)&&j,j=Os($,b,!1,_)&&j,E)for(ot=0;ot<E.length;ot++)$=_.g=E[ot],j=Os($,b,!1,_)&&j}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let b=0;b<E.length;b++)mt(E[b]);delete h.g[_],h.h--}}this.G=null},be.prototype.J=function(h,_,E,b){return this.i.add(String(h),_,!1,E,b)},be.prototype.K=function(h,_,E,b){return this.i.add(String(h),_,!0,E,b)};function Os(h,_,E,b){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let j=!0;for(let $=0;$<_.length;++$){const ot=_[$];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,Te=ot.ha||ot.src;ot.fa&&St(h.i,ot),j=Rt.call(Te,b)!==!1&&j}}return j&&!b.defaultPrevented}function bd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ec(h){h.g=bd(()=>{h.g=null,h.i&&(h.i=!1,Ec(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class hn extends M{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ec(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(h){M.call(this),this.h=h,this.g={}}v(jr,M);var _l=[];function vl(h){It(h.g,function(_,E){this.g.hasOwnProperty(E)&&ja(_)},h),h.g={}}jr.prototype.N=function(){jr.Z.N.call(this),vl(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=c.JSON.stringify,wd=c.JSON.parse,Sc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ac(){}function bc(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){V.call(this,"d")}v($e,V);function Ln(){V.call(this,"c")}v(Ln,V);var ve={},wc=null;function Fa(){return wc=wc||new be}ve.Ia="serverreachability";function Rc(h){V.call(this,ve.Ia,h)}v(Rc,V);function Si(h){const _=Fa();Ue(_,new Rc(_))}ve.STAT_EVENT="statevent";function Fr(h,_){V.call(this,ve.STAT_EVENT,h),this.stat=_}v(Fr,V);function we(h){const _=Fa();Ue(_,new Fr(_,h))}ve.Ja="timingevent";function Ai(h,_){V.call(this,ve.Ja,h),this.size=_}v(Ai,V);function bi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Rd(h,_,E,b,j,$){h.info(function(){if(h.g)if($){var ot="",Rt=$.split("&");for(let qt=0;qt<Rt.length;qt++){var Te=Rt[qt].split("=");if(Te.length>1){const le=Te[0];Te=Te[1];const zn=le.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(le+"="+Te+"&"):ot+(le+"=redacted&")}}}else ot=null;else ot=$;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+_+`
`+E+`
`+ot})}function Cc(h,_,E,b,j,$,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+_+`
`+E+`
`+$+" "+ot})}function wi(h,_,E,b){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cd(h,E)+(b?" "+b:"")})}function Hr(h,_){h.info(function(){return"TIMEOUT: "+_})}ii.prototype.info=function(){};function Cd(h,_){if(!h.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ot=1;ot<b.length;ot++)b[ot]=""}}}}return Ns($)}catch{return _}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Gr(){}v(Gr,Ac),Gr.prototype.g=function(){return new XMLHttpRequest},El=new Gr;function ns(h){return encodeURIComponent(String(h))}function Ic(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function si(h,_,E,b){this.j=h,this.i=_,this.l=E,this.S=b||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function Ri(h,_,E){h.M=1,h.A=Kr(Ie(_)),h.u=E,h.R=!0,Ha(h,null)}function Ha(h,_){h.F=Date.now(),Ci(h),h.B=Ie(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ya(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ri,h.g=Hc(h.j,E?_:null,!h.u),h.P>0&&(h.O=new hn(g(h.Y,h,h.g),h.P)),_=h.V,E=h.g,b=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(_l[0]=j.toString()),j=_l);for(let $=0;$<j.length;$++){const ot=oe(E,j[$],b||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Si(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const _=this.O;_&&li(h)==3?_.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=li(this.g),Te=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||Te==7||(Te==8||qt<=0?Si(3):Si(2)),Ii(this);var _=this.g.ca();this.X=_;var E=Id(this);if(this.o=_==200,Cc(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var $=b;break e}}$=null}if(h=$)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,we(12),wn(this),kn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=xc(this,E),le==qe){Rt==4&&(this.m=4,we(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Re){this.m=4,we(15),wi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,le,null),Di(this,le);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,we(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ll(ot),ot.P=!0,we(11))}}else wi(this.i,this.l,E,null),Di(this,E);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?Bc(this.j,this):(this.o=!1,Ci(this)))}else ss(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),wn(this),kn(this)}}}catch{}};function Id(h){if(!Dc(h))return h.g.la();const _=Qe(h.g);if(_==="")return"";let E="";const b=_.length,j=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<b;$++)h.h.h=!0,E+=h.h.i.decode(_[$],{stream:!(j&&$==b-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Dc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function xc(h,_){var E=h.C,b=_.indexOf(`
`,E);return b==-1?qe:(E=Number(_.substring(E,b)),isNaN(E)?Re:(b+=1,b+E>_.length?qe:(_=_.slice(b,b+E),h.C=b+E,_)))}si.prototype.cancel=function(){this.K=!0,wn(this)};function Ci(h){h.T=Date.now()+h.H,qa(h,h.H)}function qa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bi(g(h.aa,h),_)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(Si(),we(17)),wn(this),this.m=2,kn(this)):qa(this,this.T-h)};function kn(h){h.j.I==0||h.K||Bc(h.j,h)}function wn(h){Ii(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,vl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Di(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Vi(E.h,h))){if(!h.L&&Vi(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Za(E),Fs(E);else break t;Jr(E),we(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(g(E.Va,E),6e3));xi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((h.L||E.g==h)&&Za(E),!D(_))for(j=E.Ba.g.parse(_),_=0;_<j.length;_++){let qt=j[_];const le=qt[0];if(!(le<=E.K))if(E.K=le,qt=qt[1],E.I==2)if(qt[0]=="c"){E.M=qt[1],E.ba=qt[2];const zn=qt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Ui=qt[4];Ui!=null&&(E.za=Ui,E.j.info("SVER="+E.za));const ui=qt[5];ui!=null&&typeof ui=="number"&&ui>0&&(b=1.5*ui,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ci=h.g;if(ci){const ta=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var $=b.h;$.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(bl($,$.h),$.h=null))}if(b.G){const Ja=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(b.wa=Ja,Yt(b.J,b.G,Ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ot=h;if(b.na=Fc(b,b.L?b.ba:null,b.W),ot.L){wl(b.h,ot);var Rt=ot,Te=b.O;Te&&(Rt.H=Te),Rt.D&&(Ii(Rt),Ci(Rt)),b.g=ot}else kc(b);E.i.length>0&&Li(E)}else qt[0]!="stop"&&qt[0]!="close"||ki(E,7);else E.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ki(E,7):Nl(E):qt[0]!="noop"&&E.l&&E.l.qa(qt),E.A=0)}}Si(4)}catch{}}var Ce=class{constructor(h,_){this.g=h,this.map=_}};function Sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xi(h){return h.h?1:h.g?h.g.size:0}function Vi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function bl(h,_){h.g?h.g.add(_):h.h=_}function wl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return R(h.i)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let j,$=null;b>=0?(j=h[E].substring(0,b),$=h[E].substring(b+1)):j=h[E],_(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Rn?(this.l=h.l,Ge(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.u),this.h=h.h,Cl(this,Pc(h.i)),this.m=h.m):h&&(_=String(h).match(Vc))?(this.l=!1,Ge(this,_[1]||"",!0),this.o=Mi(_[2]||""),this.g=Mi(_[3]||"",!0),Ps(this,_[4]),this.h=Mi(_[5]||"",!0),Cl(this,_[6]||"",!0),this.m=Mi(_[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Rn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Yr(_,Ka,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Yr(_,Ka,!0),"@"),h.push(ns(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?Il:Mc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,Oc)),h.join("")},Rn.prototype.resolve=function(h){const _=Ie(this);let E=!!h.j;E?Ge(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var b=h.h;if(E)Ps(_,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=_.h.lastIndexOf("/");j!=-1&&(b=_.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const $=[];for(let ot=0;ot<j.length;){const Rt=j[ot++];Rt=="."?b&&ot==j.length&&$.push(""):Rt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),b&&ot==j.length&&$.push("")):($.push(Rt),b=!0)}b=$.join("/")}else b=j}return E?_.h=b:E=h.i.toString()!=="",E?Cl(_,Pc(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ie(h){return new Rn(h)}function Ge(h,_,E){h.j=E?Mi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Cl(h,_,E){_ instanceof ks?(h.i=_,$a(h.i,h.l)):(E||(_=Yr(_,Ls)),h.i=new ks(_,h.l))}function Yt(h,_,E){h.i.set(_,E)}function Kr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,yn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ka=/[#\/\?@]/g,Mc=/[#\?:]/g,Il=/[#\?]/g,Ls=/[#\?@]/g,Oc=/#/g;function ks(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&Ga(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}e=ks.prototype,e.add=function(h,_){_n(this),this.i=null,h=Us(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function Nc(h,_){_n(h),_=Us(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Dl(h,_){return _n(h),_=Us(h,_),h.g.has(_)}e.forEach=function(h,_){_n(this),this.g.forEach(function(E,b){E.forEach(function(j){h.call(_,j,b,this)},this)},this)};function xl(h,_){_n(h);let E=[];if(typeof _=="string")Dl(h,_)&&(E=E.concat(h.g.get(Us(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}e.set=function(h,_){return _n(this),this.i=null,h=Us(this,h),Dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=xl(this,h),h.length>0?String(h[0]):_):_};function Ya(h,_,E){Nc(h,_),E.length>0&&(h.i=null,h.g.set(Us(h,_),R(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let b=0;b<_.length;b++){var E=_[b];const j=ns(E);E=xl(this,E);for(let $=0;$<E.length;$++){let ot=j;E[$]!==""&&(ot+="="+ns(E[$])),h.push(ot)}}return this.i=h.join("&")};function Pc(h){const _=new ks;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Us(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function $a(h,_){_&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(E,b){const j=b.toLowerCase();b!=j&&(Nc(this,b),Ya(this,j,E))},h)),h.j=_}function ai(h,_){const E=new ii;if(c.Image){const b=new Image;b.onload=y(Un,E,"TestLoadImage: loaded",!0,_,b),b.onerror=y(Un,E,"TestLoadImage: error",!1,_,b),b.onabort=y(Un,E,"TestLoadImage: abort",!1,_,b),b.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,_,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else _(!1)}function Vl(h,_){const E=new ii,b=new AbortController,j=setTimeout(()=>{b.abort(),Un(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:b.signal}).then($=>{clearTimeout(j),$.ok?Un(E,"TestPingServer: ok",!0,_):Un(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Un(E,"TestPingServer: error",!1,_)})}function Un(h,_,E,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(E)}catch{}}function Bs(){this.g=new Sc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Oi,Ac),Oi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,_){be.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v($r,be),e=$r.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,oi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?zs(this):oi(this),this.readyState==3&&Qa(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,zs(this))},e.Na=function(h){this.g&&(this.response=h,zs(this))},e.ga=function(){this.g&&zs(this)};function zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}e.setRequestHeader=function(h,_){this.A.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let _="";return It(h,function(E,b){_+=b,_+=":",_+=E,_+=`\r
`}),_}function Qr(h,_,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Bn(E),typeof h=="string"?E!=null&&ns(E):Yt(h,_,E))}function Xt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Xt,be);var Ni=/^https?$/i,Ml=["POST","PUT"];e=Xt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,_,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch($){Xr(this,$);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)E.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())E.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),j=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ml,_,void 0)>=0)||b||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ot]of E)this.g.setRequestHeader($,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Xr(this,$)}};function Xr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Ol(h),is(h)}function Ol(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Xt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},e.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof l<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),li(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var b;if(b=$===0){let ot=String(h.D).match(Vc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),b=!Ni.test(ot?ot.toLowerCase():"")}E=b}if(E)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var j=li(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",Ol(h)}}finally{is(h)}}}}function is(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Ue(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}e.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),wd(_)}};function Qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const _={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var E=Ic(h[b]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=_[j]||[];_[j]=$,$.push(E)}Ot(_,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function js(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,h),this.Za=Pi("retryDelaySeedMs",1e4,h),this.Ta=Pi("forwardChannelMaxRetries",2,h),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new Bs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=js.prototype,e.ka=8,e.I=1,e.connect=function(h,_,E,b){we(0),this.W=h,this.H=_||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Fc(this,null,this.W),Li(this)};function Nl(h){if(Xa(h),h.I==3){var _=h.V++,E=Ie(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",_),Yt(E,"TYPE","terminate"),Zr(h,E),_=new si(h,h.j,_),_.M=2,_.A=Kr(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Hc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ci(_)}jc(h)}function Fs(h){h.g&&(Ll(h),h.g.cancel(),h.g=null)}function Xa(h){Fs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!Al(h.h)&&!h.m){h.m=!0;var _=h.Ea;rt||w(),ut||(rt(),ut=!0),C.add(_,h),h.D=0}}function Wa(h,_){return xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bi(g(h.Ea,h,_),zc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new si(this,this.j,h);let $=this.o;if(this.U&&($?($=N($),lt($,this.U)):$=this.U),this.u!==null||this.R||(j.J=$,$=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(_+=b,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Lc(this,j,_),E=Ie(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Zr(this,E),$&&(this.R?_="headers="+ns(Bn($))+"&"+_:this.u&&Qr(E,this.u,$)),bl(this.h,j),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",_),Yt(E,"SID","null"),j.U=!0,Ri(j,E,null)):Ri(j,E,_),this.I=2}}else this.I==3&&(h?Pl(this,h):this.i.length==0||Al(this.h)||Pl(this))};function Pl(h,_){var E;_?E=_.l:E=h.V++;const b=Ie(h.J);Yt(b,"SID",h.M),Yt(b,"RID",E),Yt(b,"AID",h.K),Zr(h,b),h.u&&h.o&&Qr(b,h.u,h.o),E=new si(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Lc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,E),Ri(E,b,_)}function Zr(h,_){h.H&&It(h.H,function(E,b){Yt(_,b,E)}),h.l&&It({},function(E,b){Yt(_,b,E)})}function Lc(h,_,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var j=h.i;let Rt=-1;for(;;){const Te=["count="+E];Rt==-1?E>0?(Rt=j[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let qt=!0;for(let le=0;le<E;le++){var $=j[le].g;const zn=j[le].map;if($-=Rt,$<0)Rt=Math.max(0,j[le].g-100),qt=!1;else try{$="req"+$+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Ui,ui]of ot){let ci=ui;d(ui)&&(ci=Ns(ui)),Te.push($+Ui+"="+encodeURIComponent(ci))}}catch(Ui){throw Te.push($+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(zn)}}if(qt){ot=Te.join("&");break t}}ot=void 0}return h=h.i.splice(0,E),_.G=h,ot}function kc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;rt||w(),ut||(rt(),ut=!0),C.add(_,h),h.A=0}}function Jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bi(g(h.Da,h),zc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Fs(this),Uc(this))};function Ll(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Uc(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ie(h.na);Yt(_,"RID","rpc"),Yt(_,"SID",h.M),Yt(_,"AID",h.K),Yt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(_,"TO",h.ia),Yt(_,"TYPE","xmlhttp"),Zr(h,_),h.u&&h.o&&Qr(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(Ie(_)),E.u=null,E.R=!0,Ha(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Fs(this),Jr(this),we(19))};function Za(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Bc(h,_){var E=null;if(h.g==_){Za(h),Ll(h),h.g=null;var b=2}else if(Vi(h.h,_))E=_.G,wl(h.h,_),b=1;else return;if(h.I!=0){if(_.o)if(b==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var j=h.D;b=Fa(),Ue(b,new Ai(b,E)),Li(h)}else kc(h);else if(j=_.m,j==3||j==0&&_.X>0||!(b==1&&Wa(h,_)||b==2&&Jr(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),j){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function zc(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function ki(h,_){if(h.j.info("Error code "+_),_==2){var E=g(h.bb,h),b=h.Ua;const j=!b;b=new Rn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(b,"https"),Kr(b),j?ai(b.toString(),E):Vl(b.toString(),E)}else we(2);h.I=0,h.l&&h.l.pa(_),jc(h),Xa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function jc(h){if(h.I=0,h.ja=[],h.l){const _=Rl(h.h);(_.length!=0||h.i.length!=0)&&(P(h.ja,_),P(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Fc(h,_,E){var b=E instanceof Rn?Ie(E):new Rn(E);if(b.g!="")_&&(b.g=_+"."+b.g),Ps(b,b.u);else{var j=c.location;b=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;const $=new Rn(null);b&&Ge($,b),_&&($.g=_),j&&Ps($,j),E&&($.h=E),b=$}return E=h.G,_=h.wa,E&&_&&Yt(b,E,_),Yt(b,"VER",h.ka),Zr(h,b),b}function Hc(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Xt(new Oi({ab:E})):new Xt(h.ma),_.Fa(h.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}e=qc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Hs(){}Hs.prototype.g=function(h,_){return new fn(h,_)};function fn(h,_){be.call(this),this.g=new js(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new rs(this)}v(fn,be),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Nl(this.g)},fn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ns(h),h=E);_.i.push(new Ce(_.Ya++,h)),_.I==3&&Li(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,fn.Z.N.call(this)};function Gc(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const E in _){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Gc,$e);function Kc(){Ln.call(this),this.status=1}v(Kc,Ln);function rs(h){this.g=h}v(rs,qc),rs.prototype.ra=function(){Ue(this.g,"a")},rs.prototype.qa=function(h){Ue(this.g,new Gc(h))},rs.prototype.pa=function(h){Ue(this.g,new Kc)},rs.prototype.oa=function(){Ue(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,jw=function(){return new Hs},zw=function(){return Fa()},Bw=ve,_g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,gf=qr,Tl.COMPLETE="complete",Uw=Tl,bc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",be.prototype.listen=be.prototype.J,wu=bc,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,kw=Xt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.8.0";function pN(e){ol=e}const Va=new dy("@firebase/firestore");function Vo(){return Va.logLevel}function ht(e,...t){if(Va.logLevel<=Lt.DEBUG){const n=t.map(Ry);Va.debug(`Firestore (${ol}): ${e}`,...n)}}function xs(e,...t){if(Va.logLevel<=Lt.ERROR){const n=t.map(Ry);Va.error(`Firestore (${ol}): ${e}`,...n)}}function Yo(e,...t){if(Va.logLevel<=Lt.WARN){const n=t.map(Ry);Va.warn(`Firestore (${ol}): ${e}`,...n)}}function Ry(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Fw(e,s,n)}function Fw(e,t,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xs(s),new Error(s)}function Kt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||Fw(t,a,s)}function wt(e,t){return e}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends es{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ba{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Hw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ba,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ba)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new Hw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class vN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Cy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=SN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function vg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Up(a)===Up(l)?kt(a,l):Up(a)?1:-1}return kt(e.length,t.length)}const AN=55296,bN=57343;function Up(e){const t=e.charCodeAt(0);return t>=AN&&t<=bN}function $o(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const aS="__name__";class Hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Hi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=Hi.isNumericId(t),a=Hi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hi.extractNumericId(t).compare(Hi.extractNumericId(n)):vg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sr.fromString(t.substring(4,t.length-2))}}class ne extends Hi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const wN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Hi{construct(t,n,s){return new nn(t,n,s)}static isValidIdentifier(t){return wN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aS}static keyField(){return new nn([aS])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ne.fromString(t))}static fromName(t){return new _t(ne.fromString(t).popFirst(5))}static empty(){return new _t(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ne(t.slice()))}}function qw(e,t,n){if(!n)throw new ct(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function RN(e,t,n,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function oS(e){if(!_t.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lS(e){if(_t.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function od(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function Ou(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(e);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Le(e,t){const n={typeString:e};return t&&(n.value=t),n}function fc(e,t){if(!Gw(e))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(et.INVALID_ARGUMENT,n);return!0}const uS=-62135596800,cS=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cS);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uS)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cS}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fc(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Le("string",re._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function CN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new wr(a,_t.empty(),t)}function IN(e){return new wr(e.readTime,e.key,Ku)}class wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(At.min(),_t.empty(),Ku)}static max(){return new wr(At.max(),_t.empty(),Ku)}}function DN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const xN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==xN)throw e;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(p=>s(p)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((a=>a?nt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function MN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}class ld{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ld.ce=-1;const Iy=-1;function ud(e){return e==null}function Pf(e){return e===0&&1/e==-1/0}function ON(e){return typeof e=="number"&&Number.isInteger(e)&&!Pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Kw="";function NN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hS(t)),t=PN(e.get(n),t);return hS(t)}function PN(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Kw:n+="";break;default:n+=l}}return n}function hS(e){return e+Kw+""}function fS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new en(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(t){return new dS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class dS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new yi([])}unionWith(t){let n=new Fe(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class $w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $w("Invalid base64 string: "+l):l}})(t);return new sn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=LN.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(e.seconds),nanos:Ae(e.nanos)}}function Ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Cr(e){return typeof e=="string"?sn.fromBase64String(e):sn.fromUint8Array(e)}const Qw="server_timestamp",Xw="__type__",Ww="__previous_value__",Zw="__local_write_time__";function Dy(e){return(e?.mapValue?.fields||{})[Xw]?.stringValue===Qw}function cd(e){const t=e.mapValue.fields[Ww];return Dy(t)?cd(t):t}function Yu(e){const t=Rr(e.mapValue.fields[Zw].timestampValue);return new re(t.seconds,t.nanos)}class kN{constructor(t,n,s,a,l,c,d,p,g,y,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=v}}const Lf="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||Lf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function UN(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(e.options.projectId,t)}const Jw="__type__",BN="__max__",tf={mapValue:{}},t1="__vector__",kf="value";function Ir(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dy(e)?4:jN(e)?9007199254740991:zN(e)?10:11:Tt(28295,{value:e})}function Zi(e,t){if(e===t)return!0;const n=Ir(e);if(n!==Ir(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yu(e).isEqual(Yu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rr(a.timestampValue),d=Rr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Cr(a.bytesValue).isEqual(Cr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ae(a.geoPointValue.latitude)===Ae(l.geoPointValue.latitude)&&Ae(a.geoPointValue.longitude)===Ae(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ae(a.integerValue)===Ae(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ae(a.doubleValue),d=Ae(l.doubleValue);return c===d?Pf(c)===Pf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return $o(e.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(fS(c)!==fS(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Zi(c[p],d[p])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Qu(e,t){return(e.values||[]).find((n=>Zi(n,t)))!==void 0}function Qo(e,t){if(e===t)return 0;const n=Ir(e),s=Ir(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ae(l.integerValue||l.doubleValue),p=Ae(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return mS(e.timestampValue,t.timestampValue);case 4:return mS(Yu(e),Yu(t));case 5:return vg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Cr(l),p=Cr(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=kt(d[g],p[g]);if(y!==0)return y}return kt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=kt(Ae(l.latitude),Ae(c.latitude));return d!==0?d:kt(Ae(l.longitude),Ae(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return pS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[kf]?.arrayValue,y=p[kf]?.arrayValue,v=kt(g?.values?.length||0,y?.values?.length||0);return v!==0?v:pS(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===tf.mapValue&&c===tf.mapValue)return 0;if(l===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const S=vg(p[v],y[v]);if(S!==0)return S;const R=Qo(d[p[v]],g[y[v]]);if(R!==0)return R}return kt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function mS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Rr(e),s=Rr(t),a=kt(n.seconds,s.seconds);return a!==0?a:kt(n.nanos,s.nanos)}function pS(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Qo(n[a],s[a]);if(l)return l}return kt(n.length,s.length)}function Xo(e){return Tg(e)}function Tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Rr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Cr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return _t.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Tg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Tg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function yf(e){switch(Ir(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cd(e);return t?16+yf(t):16;case 5:return 2*e.stringValue.length;case 6:return Cr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+yf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Pa(s.fields,((l,c)=>{a+=l.length+yf(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function gS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Eg(e){return!!e&&"integerValue"in e}function xy(e){return!!e&&"arrayValue"in e}function yS(e){return!!e&&"nullValue"in e}function _S(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _f(e){return!!e&&"mapValue"in e}function zN(e){return(e?.mapValue?.fields||{})[Jw]?.stringValue===t1}function Nu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Pa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nu(e.arrayValue.values[n]);return t}return{...e}}function jN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===BN}class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!_f(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nu(n)}setAll(t){let n=nn.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Nu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Pa(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Wn(Nu(this.value))}}function e1(e){const t=[];return Pa(e.fields,((n,s)=>{const a=new nn([n]);if(_f(s)){const l=e1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new yi(t)}class ln{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,At.min(),At.min(),At.min(),Wn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,At.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,At.min(),At.min(),Wn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,At.min(),At.min(),Wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uf{constructor(t,n){this.position=t,this.inclusive=n}}function vS(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=_t.comparator(_t.fromName(c.referenceValue),n.key):s=Qo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function TS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zi(e.position[n],t.position[n]))return!1;return!0}class Xu{constructor(t,n="asc"){this.field=t,this.dir=n}}function FN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class n1{}class Pe extends n1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new qN(t,n,s):n==="array-contains"?new YN(t,s):n==="in"?new $N(t,s):n==="not-in"?new QN(t,s):n==="array-contains-any"?new XN(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new GN(t,s):new KN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends n1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ti(t,n)}matches(t){return i1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i1(e){return e.op==="and"}function s1(e){return HN(e)&&i1(e)}function HN(e){for(const t of e.filters)if(t instanceof Ti)return!1;return!0}function Sg(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+Xo(e.value);if(s1(e))return e.filters.map((t=>Sg(t))).join(",");{const t=e.filters.map((n=>Sg(n))).join(",");return`${e.op}(${t})`}}function r1(e,t){return e instanceof Pe?(function(s,a){return a instanceof Pe&&s.op===a.op&&s.field.isEqual(a.field)&&Zi(s.value,a.value)})(e,t):e instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&r1(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function a1(e){return e instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(e):e instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(a1).join(" ,")+"}"})(e):"Filter"}class qN extends Pe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class GN extends Pe{constructor(t,n){super(t,"in",n),this.keys=o1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class KN extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=o1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function o1(e,t){return(t.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class YN extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xy(n)&&Qu(n.arrayValue,this.value)}}class $N extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class QN extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class XN extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Qu(this.value.arrayValue,s)))}}class WN{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ES(e,t=null,n=[],s=[],a=null,l=null,c=null){return new WN(e,t,n,s,a,l,c)}function Vy(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Sg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ud(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Xo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Xo(s))).join(",")),t.Te=n}return t.Te}function My(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!FN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!r1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TS(e.startAt,t.startAt)&&TS(e.endAt,t.endAt)}function Ag(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class cl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZN(e,t,n,s,a,l,c,d){return new cl(e,t,n,s,a,l,c,d)}function Oy(e){return new cl(e)}function SS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function JN(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function l1(e){return e.collectionGroup!==null}function Pu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(nn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Xu(l,s))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new Xu(nn.keyField(),s))}return t.Ie}function Yi(e){const t=wt(e);return t.Ee||(t.Ee=tP(t,Pu(e))),t.Ee}function tP(e,t){if(e.limitType==="F")return ES(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xu(a.field,l)}));const n=e.endAt?new Uf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Uf(e.startAt.position,e.startAt.inclusive):null;return ES(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function bg(e,t){const n=e.filters.concat([t]);return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function eP(e,t){const n=e.explicitOrderBy.concat([t]);return new cl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function Bf(e,t,n){return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hd(e,t){return My(Yi(e),Yi(t))&&e.limitType===t.limitType}function u1(e){return`${Vy(Yi(e))}|lt:${e.limitType}`}function Mo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>a1(a))).join(", ")}]`),ud(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Xo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Xo(a))).join(",")),`Target(${s})`})(Yi(e))}; limitType=${e.limitType})`}function fd(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_t.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Pu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=vS(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Pu(s),a)||s.endAt&&!(function(c,d,p){const g=vS(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Pu(s),a))})(e,t)}function nP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function c1(e){return(t,n)=>{let s=!1;for(const a of Pu(e)){const l=iP(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function iP(e,t,n){const s=e.field.isKeyField()?_t.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Qo(p,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}class La{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return Yw(this.inner)}size(){return this.innerSize}}const sP=new fe(_t.comparator);function Vs(){return sP}const h1=new fe(_t.comparator);function Ru(...e){let t=h1;for(const n of e)t=t.insert(n.key,n);return t}function f1(e){let t=h1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ta(){return Lu()}function d1(){return Lu()}function Lu(){return new La((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rP=new fe(_t.comparator),aP=new Fe(_t.comparator);function Ut(...e){let t=aP;for(const n of e)t=t.add(n);return t}const oP=new Fe(kt);function lP(){return oP}function Ny(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function m1(e){return{integerValue:""+e}}function uP(e,t){return ON(t)?m1(t):Ny(e,t)}class dd{constructor(){this._=void 0}}function cP(e,t,n){return e instanceof Wu?(function(a,l){const c={fields:{[Xw]:{stringValue:Qw},[Zw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Dy(l)&&(l=cd(l)),l&&(c.fields[Ww]=l),{mapValue:c}})(n,t):e instanceof Zu?g1(e,t):e instanceof Ju?y1(e,t):(function(a,l){const c=p1(a,l),d=AS(c)+AS(a.Ae);return Eg(c)&&Eg(a.Ae)?m1(d):Ny(a.serializer,d)})(e,t)}function hP(e,t,n){return e instanceof Zu?g1(e,t):e instanceof Ju?y1(e,t):n}function p1(e,t){return e instanceof zf?(function(s){return Eg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Wu extends dd{}class Zu extends dd{constructor(t){super(),this.elements=t}}function g1(e,t){const n=_1(t);for(const s of e.elements)n.some((a=>Zi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ju extends dd{constructor(t){super(),this.elements=t}}function y1(e,t){let n=_1(t);for(const s of e.elements)n=n.filter((a=>!Zi(a,s)));return{arrayValue:{values:n}}}class zf extends dd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function AS(e){return Ae(e.integerValue||e.doubleValue)}function _1(e){return xy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fP{constructor(t,n){this.field=t,this.transform=n}}function dP(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Zu&&a instanceof Zu||s instanceof Ju&&a instanceof Ju?$o(s.elements,a.elements,Zi):s instanceof zf&&a instanceof zf?Zi(s.Ae,a.Ae):s instanceof Wu&&a instanceof Wu})(e.transform,t.transform)}class mP{constructor(t,n){this.version=t,this.transformResults=n}}class ws{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class md{}function v1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new E1(e.key,ws.none()):new dc(e.key,e.data,ws.none());{const n=e.data,s=Wn.empty();let a=new Fe(nn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ka(e.key,s,new yi(a.toArray()),ws.none())}}function pP(e,t,n){e instanceof dc?(function(a,l,c){const d=a.value.clone(),p=wS(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof ka?(function(a,l,c){if(!vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=wS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(T1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function ku(e,t,n,s){return e instanceof dc?(function(l,c,d,p){if(!vf(l.precondition,c))return d;const g=l.value.clone(),y=RS(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof ka?(function(l,c,d,p){if(!vf(l.precondition,c))return d;const g=RS(l.fieldTransforms,p,c),y=c.data;return y.setAll(T1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,s):(function(l,c,d){return vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function gP(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=p1(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function bS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&$o(s,a,((l,c)=>dP(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dc extends md{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ka extends md{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function T1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function wS(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,hP(c,d,n[a]))}return s}function RS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,cP(l,c,t))}return s}class E1 extends md{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yP extends md{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _P{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&pP(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ku(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ku(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=d1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=v1(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,((n,s)=>bS(n,s)))&&$o(this.baseMutations,t.baseMutations,((n,s)=>bS(n,s)))}}class Py{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return rP})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Py(t,n,s,a)}}class vP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TP{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,jt;function EP(e){switch(e){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function S1(e){if(e===void 0)return xs("GRPC error has no .code"),et.UNKNOWN;switch(e){case Oe.OK:return et.OK;case Oe.CANCELLED:return et.CANCELLED;case Oe.UNKNOWN:return et.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return et.INTERNAL;case Oe.UNAVAILABLE:return et.UNAVAILABLE;case Oe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Oe.NOT_FOUND:return et.NOT_FOUND;case Oe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Oe.ABORTED:return et.ABORTED;case Oe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Oe.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:e})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function SP(){return new TextEncoder}const AP=new Sr([4294967295,4294967295],0);function CS(e){const t=SP().encode(e),n=new Lw;return n.update(t),new Uint8Array(n.digest())}function IS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class Ly{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Sr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Sr.fromNumber(s)));return a.compare(AP)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=CS(t),[s,a]=IS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Ly(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=CS(t),[s,a]=IS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,mc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new pd(At.min(),a,new fe(kt),Vs(),Ut())}}class mc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mc(s,n,Ut(),Ut(),Ut())}}class Tf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class A1{constructor(t,n){this.targetId=t,this.Ce=n}}class b1{constructor(t,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class DS{constructor(){this.ve=0,this.Fe=xS(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new mc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=xS()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vs(),this.He=ef(),this.Je=ef(),this.Ze=new fe(kt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ag(l))if(s===0){const c=new _t(l.path);this.et(n,c,ln.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Cr(s).toUint8Array()}catch(p){if(p instanceof $w)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ly(c,a,l)}catch(p){return Yo(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Ag(d.target)){const p=new _t(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,ln.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Ut();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new pd(t,n,this.Ze,this.je,s);return this.je=Vs(),this.He=ef(),this.Je=ef(),this.Ze=new fe(kt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new DS,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(kt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(kt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ef(){return new fe(_t.comparator)}function xS(){return new fe(_t.comparator)}const wP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class IP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wg(e,t){return e.useProto3Json||ud(t)?t:{value:t}}function jf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DP(e,t){return jf(e,t.toTimestamp())}function $i(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const s=Rr(n);return new re(s.seconds,s.nanos)})(e))}function ky(e,t){return Rg(e,t).canonicalString()}function Rg(e,t){const n=(function(a){return new ne(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function R1(e){const t=ne.fromString(e);return Kt(V1(t),10190,{key:t.toString()}),t}function Cg(e,t){return ky(e.databaseId,t.path)}function Bp(e,t){const n=R1(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _t(I1(n))}function C1(e,t){return ky(e.databaseId,t)}function xP(e){const t=R1(e);return t.length===4?ne.emptyPath():I1(t)}function Ig(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function I1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function VS(e,t,n){return{name:Cg(e,t),fields:n.value.mapValue.fields}}function VP(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?et.UNKNOWN:S1(g.code);return new ct(y,g.message||"")})(c);n=new b1(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Bp(e,s.document.name),l=$i(s.document.updateTime),c=s.document.createTime?$i(s.document.createTime):At.min(),d=new Wn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Tf(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Bp(e,s.document),l=s.readTime?$i(s.readTime):At.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Bp(e,s.document),l=s.removedTargetIds||[];n=new Tf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new TP(a,l),d=s.targetId;n=new A1(d,c)}}return n}function MP(e,t){let n;if(t instanceof dc)n={update:VS(e,t.key,t.value)};else if(t instanceof E1)n={delete:Cg(e,t.key)};else if(t instanceof ka)n={update:VS(e,t.key,t.data),updateMask:jP(t.fieldMask)};else{if(!(t instanceof yP))return Tt(16599,{dt:t.type});n={verify:Cg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:DP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function OP(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(At.min())&&(c=$i(l)),new mP(c,a.transformResults||[])})(n,t)))):[]}function NP(e,t){return{documents:[C1(e,t.path)]}}function PP(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=C1(e,a);const l=(function(g){if(g.length!==0)return x1(Ti.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Oo(S.field),direction:UP(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=wg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function LP(e){let t=xP(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const S=D1(v);return S instanceof Ti&&s1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((S=>(function(P){return new Xu(No(P.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let S;return S=typeof v=="object"?v.value:v,ud(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(v){const S=!!v.before,R=v.values||[];return new Uf(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const S=!v.before,R=v.values||[];return new Uf(R,S)})(n.endAt)),ZN(t,a,c,l,d,"F",p,g)}function kP(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=No(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Pe.create(No(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>D1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function UP(e){return wP[e]}function BP(e){return RP[e]}function zP(e){return CP[e]}function Oo(e){return{fieldPath:e.canonicalString()}}function No(e){return nn.fromServerFormat(e.fieldPath)}function x1(e){return e instanceof Pe?(function(n){if(n.op==="=="){if(_S(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(yS(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_S(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(yS(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:BP(n.op),value:n.value}}})(e):e instanceof Ti?(function(n){const s=n.getFilters().map((a=>x1(a)));return s.length===1?s[0]:{compositeFilter:{op:zP(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function jP(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function V1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function M1(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class _r{constructor(t,n,s,a,l=At.min(),c=At.min(),d=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new _r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FP{constructor(t){this.yt=t}}function HP(e){const t=LP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Bf(t,t.limit,"L"):t}class qP{constructor(){this.Sn=new GP}addToCollectionParentIndex(t,n){return this.Sn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(wr.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(wr.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class GP{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(ne.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(ne.comparator)).toArray()}}const MS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(O1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Wo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wo(0)}static ar(){return new Wo(-1)}}const OS="LruGarbageCollector",KP=1048576;function NS([e,t],[n,s]){const a=kt(e,n);return a===0?kt(t,s):a}class YP{constructor(t){this.Pr=t,this.buffer=new Fe(NS),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $P{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(OS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?ht(OS,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class QP{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(ld.ce);const s=new YP(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(MS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MS):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,d=Date.now(),this.removeTargets(t,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(g=Date.now(),Vo()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function XP(e,t){return new QP(e,t)}class WP{constructor(){this.changes=new La((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class JP{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&ku(s.mutation,a,yi.empty(),re.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=Ta();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Ru();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Vs();const c=Lu(),d=(function(){return Lu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof ka)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),ku(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,yi.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new ZP(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Lu();let a=new fe(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||yi.empty();y=d.applyToLocalView(g,y),s.set(p,y);const v=(a.get(d.batchId)||Ut()).add(p);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,v=d1();y.forEach((S=>{if(!l.has(S)){const R=v1(n.get(S),s.get(S));R!==null&&v.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return nt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return JN(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):l1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(Ta());let d=Ku,p=l;return c.next((g=>nt.forEach(g,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:f1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let a=Ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(t,l).next((d=>nt.forEach(d,(p=>{const g=(function(v,S){return new cl(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((v,S)=>{c=c.insert(v,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let d=Ru();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&ku(y.mutation,g,yi.empty(),re.now()),fd(n,g)&&(d=d.insert(p,g))})),d}))}}class tL{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return nt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:HP(a.bundledQuery),readTime:$i(a.readTime)}})(n)),nt.resolve()}}class eL{constructor(){this.overlays=new fe(_t.comparator),this.Lr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ta();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=Ta(),l=n.length+1,c=new _t(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Ta(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return nt.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new vP(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ut(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class nL{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}class Uy{constructor(){this.kr=new Fe(Ye.Kr),this.qr=new Fe(Ye.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ye(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ye(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new _t(new ne([])),s=new Ye(n,t),a=new Ye(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new _t(new ne([])),s=new Ye(n,t),a=new Ye(n,t+1);let l=Ut();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ye(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return _t.comparator(t.key,n.key)||kt(t.Hr,n.Hr)}static Ur(t,n){return kt(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}class iL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ye.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _P(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Ye(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Iy:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ye(n,0),a=new Ye(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(kt);return n.forEach((a=>{const l=new Ye(a,0),c=new Ye(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),nt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;_t.isDocumentKey(l)||(l=l.child(""));const c=new Ye(new _t(l),0);let d=new Fe(kt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Kt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return nt.forEach(n.mutations,(a=>{const l=new Ye(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ye(n,0),a=this.Jr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sL{constructor(t){this.ti=t,this.docs=(function(){return new fe(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=Vs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Vs();const c=n.path,d=new _t(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DN(IN(y),s)<=0||(a.has(y.key)||fd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ni(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new rL(this)}getSize(t){return nt.resolve(this.size)}}class rL extends WP{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class aL{constructor(t){this.persistence=t,this.ri=new La((n=>Vy(n)),My),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new Uy,this.targetCount=0,this.oi=Wo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),nt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Wo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.lr(n),nt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.si.containsKey(n))}}class N1{constructor(t,n){this._i={},this.overlays={},this.ai=new ld(0),this.ui=!1,this.ui=!0,this.ci=new nL,this.referenceDelegate=t(this),this.li=new aL(this),this.indexManager=new qP,this.remoteDocumentCache=(function(a){return new sL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new FP(n),this.Pi=new tL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new eL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new iL(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const a=new oL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return nt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class oL extends VN{constructor(t){super(),this.currentSequenceNumber=t}}class By{constructor(t){this.persistence=t,this.Ri=new Uy,this.Ai=null}static Vi(t){return new By(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(s=>{const a=_t.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,At.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ff{constructor(t,n){this.persistence=t,this.fi=new La((s=>NN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=XP(this,n)}static Vi(t,n){return new Ff(t,n)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return nt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}wr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new zy(t,n.fromCache,s,a)}}class lL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $x()?8:MN(cn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new lL;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Vo()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Vo()<=Lt.DEBUG&&ht("QueryEngine","Query:",Mo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Vo()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(n))):nt.resolve())}gs(t,n){if(SS(n))return nt.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Bf(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,d);return this.Ss(n,g,c,p.readTime)?this.gs(t,Bf(n,null,"F")):this.Ds(t,g,n,p)}))))})))))}ps(t,n,s,a){return SS(n)||a.isEqual(At.min())?nt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?nt.resolve(null):(Vo()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.Ds(t,c,n,CN(a,Ku)).next((d=>d)))}))}bs(t,n){let s=new Fe(c1(t));return n.forEach(((a,l)=>{fd(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Vo()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(t,n,wr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const jy="LocalStore",cL=3e8;class hL{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new fe(kt),this.Fs=new La((l=>Vy(l)),My),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function fL(e,t,n,s){return new hL(e,t,n,s)}async function P1(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function dL(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const v=g.batch,S=v.keys();let R=nt.resolve();return S.forEach((P=>{R=R.next((()=>y.getEntry(p,P))).next((k=>{const L=g.docVersions.get(P);Kt(L!==null,48541),k.version.compareTo(L)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function L1(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function mL(e,t){const n=wt(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,v)=>{const S=a.get(v);if(!S)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let R=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?R=R.withResumeToken(sn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(v,R),(function(k,L,F){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=cL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,R,y)&&d.push(n.li.updateTargetData(l,R))}));let p=Vs(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(pL(l,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!s.isEqual(At.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return nt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.vs=a,l)))}function pL(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Vs();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(jy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function gL(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Iy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yL(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,nt.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new _r(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Dg(e,t,n){const s=wt(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;ht(jy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function PS(e,t,n){const s=wt(e);let a=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const v=wt(p),S=v.Fs.get(y);return S!==void 0?nt.resolve(v.vs.get(S)):v.li.getTargetData(g,y)})(s,c,Yi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:Ut()))).next((d=>(_L(s,nP(t),d),{documents:d,ks:l})))))}function _L(e,t,n){let s=e.Ms.get(t)||At.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class LS{constructor(){this.activeTargetIds=lP()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vL{constructor(){this.vo=new LS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new LS,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TL{Mo(t){}shutdown(){}}const kS="ConnectivityMonitor";class US{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(kS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(kS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nf=null;function xg(){return nf===null?nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():nf++,"0x"+nf.toString(16)}const zp="RestConnection",EL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Lf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=xg(),d=this.Qo(t,n.toUriEncodedString());ht(zp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(d),y=Nr(g);return this.zo(t,d,p,s,y).then((v=>(ht(zp,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Yo(zp,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",s),v}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=EL[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class AL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const an="WebChannelConnection",Su=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Fo extends SL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fo.c_){const t=zw();Su(t,Bw.STAT_EVENT,(n=>{n.stat===_g.PROXY?ht(an,"STAT_EVENT: detected buffering proxy"):n.stat===_g.NOPROXY&&ht(an,"STAT_EVENT: detected no buffering proxy")})),Fo.c_=!0}}zo(t,n,s,a,l){const c=xg();return new Promise(((d,p)=>{const g=new kw;g.setWithCredentials(!0),g.listenOnce(Uw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gf.NO_ERROR:const v=g.getResponseJson();ht(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case gf.TIMEOUT:ht(an,`RPC '${t}' ${c} timed out`),p(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const S=g.getStatus();if(ht(an,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R?.error;if(P&&P.status&&P.message){const k=(function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(G)>=0?G:et.UNKNOWN})(P.status);p(new ct(k,P.message))}else p(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(an,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(an,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=xg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const g=l.join("");ht(an,`Creating RPC '${t}' stream ${a}: ${g}`,d);const y=c.createWebChannel(g,d);this.I_(y);let v=!1,S=!1;const R=new AL({Ho:P=>{S?ht(an,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(v||(ht(an,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ht(an,`RPC '${t}' stream ${a} sending:`,P),y.send(P))},Jo:()=>y.close()});return Su(y,wu.EventType.OPEN,(()=>{S||(ht(an,`RPC '${t}' stream ${a} transport opened.`),R.i_())})),Su(y,wu.EventType.CLOSE,(()=>{S||(S=!0,ht(an,`RPC '${t}' stream ${a} transport closed`),R.o_(),this.E_(y))})),Su(y,wu.EventType.ERROR,(P=>{S||(S=!0,Yo(an,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),R.o_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),Su(y,wu.EventType.MESSAGE,(P=>{if(!S){const k=P.data[0];Kt(!!k,16349);const L=k,F=L?.error||L[0]?.error;if(F){ht(an,`RPC '${t}' stream ${a} received error:`,F);const G=F.status;let Y=(function(ut){const C=Oe[ut];if(C!==void 0)return S1(C)})(G),at=F.message;Y===void 0&&(Y=et.INTERNAL,at="Unknown error status: "+G+" with message "+F.message),S=!0,R.o_(new ct(Y,at)),y.close()}else ht(an,`RPC '${t}' stream ${a} received:`,k),R.__(k)}})),Fo.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jw()}}function bL(e){return new Fo(e)}function jp(){return typeof document<"u"?document:null}function gd(e){return new IP(e,!0)}Fo.c_=!1;class k1{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const BS="PersistentStream";class U1{constructor(t,n,s,a,l,c,d,p){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(BS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ht(BS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wL extends U1{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=VP(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?$i(c.readTime):At.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Ig(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=Ag(p)?{documents:NP(l,p)}:{query:PP(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=w1(l,c.resumeToken);const g=wg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=jf(l,c.snapshotVersion.toTimestamp());const g=wg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=kP(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Ig(this.serializer),n.removeTarget=t,this.K_(n)}}class RL extends U1{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=OP(t.writeResults,t.commitTime),s=$i(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Ig(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>MP(this.serializer,s)))};this.K_(n)}}class CL{}class IL extends CL{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Rg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(et.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Rg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DL(e,t,n,s){return new IL(e,t,n,s)}class xL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class VL{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ua(this)&&(ht(Ma,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await pc(g),g.Va.set("Unknown"),g.Ea.delete(4),await yd(g)})(this))}))})),this.Va=new xL(s,a)}}async function yd(e){if(Ua(e))for(const t of e.Ra)await t(!0)}async function pc(e){for(const t of e.Ra)await t(!1)}function B1(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Gy(n)?qy(n):hl(n).O_()&&Hy(n,t))}function Fy(e,t){const n=wt(e),s=hl(n);n.Ia.delete(t),s.O_()&&z1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ua(n)&&n.Va.set("Unknown"))}function Hy(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).Z_(t)}function z1(e,t){e.da.$e(t),hl(e).X_(t)}function qy(e){e.da=new bP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.Va.ua()}function Gy(e){return Ua(e)&&!hl(e).x_()&&e.Ia.size>0}function Ua(e){return wt(e).Ea.size===0}function j1(e){e.da=void 0}async function ML(e){e.Va.set("Online")}async function OL(e){e.Ia.forEach(((t,n)=>{Hy(e,t)}))}async function NL(e,t){j1(e),Gy(e)?(e.Va.ha(t),qy(e)):e.Va.set("Unknown")}async function PL(e,t,n){if(e.Va.set("Online"),t instanceof b1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){ht(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hf(e,s)}else if(t instanceof Tf?e.da.Xe(t):t instanceof A1?e.da.st(t):e.da.tt(t),!n.isEqual(At.min()))try{const s=await L1(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),z1(l,p);const v=new _r(y.target,p,g,y.sequenceNumber);Hy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ht(Ma,"Failed to raise snapshot:",s),await Hf(e,s)}}async function Hf(e,t,n){if(!ul(t))throw t;e.Ea.add(1),await pc(e),e.Va.set("Offline"),n||(n=()=>L1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(Ma,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await yd(e)}))}function F1(e,t){return t().catch((n=>Hf(e,n,t)))}async function _d(e){const t=wt(e),n=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Iy;for(;LL(t);)try{const a=await gL(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,kL(t,a)}catch(a){await Hf(t,a)}H1(t)&&q1(t)}function LL(e){return Ua(e)&&e.Ta.length<10}function kL(e,t){e.Ta.push(t);const n=Dr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function H1(e){return Ua(e)&&!Dr(e).x_()&&e.Ta.length>0}function q1(e){Dr(e).start()}async function UL(e){Dr(e).ra()}async function BL(e){const t=Dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function zL(e,t,n){const s=e.Ta.shift(),a=Py.from(s,t,n);await F1(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await _d(e)}async function jL(e,t){t&&Dr(e).Y_&&await(async function(s,a){if((function(c){return EP(c)&&c!==et.ABORTED})(a.code)){const l=s.Ta.shift();Dr(s).B_(),await F1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await _d(s)}})(e,t),H1(e)&&q1(e)}async function zS(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ht(Ma,"RemoteStore received new credentials");const s=Ua(n);n.Ea.add(3),await pc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await yd(n)}async function FL(e,t){const n=wt(e);t?(n.Ea.delete(2),await yd(n)):t||(n.Ea.add(2),await pc(n),n.Va.set("Unknown"))}function hl(e){return e.ma||(e.ma=(function(n,s,a){const l=wt(n);return l.sa(),new wL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:ML.bind(null,e),Yo:OL.bind(null,e),t_:NL.bind(null,e),J_:PL.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),Gy(e)?qy(e):e.Va.set("Unknown")):(await e.ma.stop(),j1(e))}))),e.ma}function Dr(e){return e.fa||(e.fa=(function(n,s,a){const l=wt(n);return l.sa(),new RL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UL.bind(null,e),t_:jL.bind(null,e),ta:BL.bind(null,e),na:zL.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await _d(e)):(await e.fa.stop(),e.Ta.length>0&&(ht(Ma,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ky{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new Ky(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(e,t){if(xs("AsyncQueue",`${t}: ${e}`),ul(e))return new ct(et.UNAVAILABLE,`${t}: ${e}`);throw e}class Ho{static emptySet(t){return new Ho(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Ru(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ho)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class jS{constructor(){this.ga=new fe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Zo{constructor(t,n,s,a,l,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Zo(t,n,Ho.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class HL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qL{constructor(){this.queries=FS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=wt(n),l=a.queries;a.queries=FS(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(s)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function FS(){return new La((e=>u1(e)),hd)}async function GL(e,t){const n=wt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new HL,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Yy(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&$y(n)}async function KL(e,t){const n=wt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YL(e,t){const n=wt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&$y(n)}function $L(e,t,n){const s=wt(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function $y(e){e.Ca.forEach((t=>{t.next()}))}var Vg,HS;(HS=Vg||(Vg={})).Ma="default",HS.Cache="cache";class QL{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Zo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vg.Cache}}class G1{constructor(t){this.key=t}}class K1{constructor(t){this.key=t}}class XL{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=c1(t),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new jS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const S=a.get(y),R=fd(this.query,v)?v:null,P=!!S&&this.mutatedKeys.has(S.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;S&&R?S.data.isEqual(R.data)?P!==k&&(s.track({type:3,doc:R}),L=!0):this.su(S,R)||(s.track({type:2,doc:R}),L=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),L=!0):S&&!R&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(d=!0)),L&&(R?(c=c.add(R),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(R,P){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return k(R)-k(P)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Zo(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new K1(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new G1(s))})),n}cu(t){this.Za=t.ks,this.Ya=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qy="SyncEngine";class WL{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZL{constructor(t){this.key=t,this.hu=!1}}class JL{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((d=>u1(d)),hd),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(_t.comparator),this.Au=new Map,this.Vu=new Uy,this.du={},this.mu=new Map,this.fu=Wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tk(e,t,n=!0){const s=Z1(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Y1(s,t,n,!0),a}async function ek(e,t){const n=Z1(e);await Y1(n,t,!0,!1)}async function Y1(e,t,n,s){const a=await yL(e.localStore,Yi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await nk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&B1(e.remoteStore,a),d}async function nk(e,t,n,s,a){e.pu=(v,S,R)=>(async function(k,L,F,G){let Y=L.view.ru(F);Y.Ss&&(Y=await PS(k.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,Y))));const at=G&&G.targetChanges.get(L.targetId),rt=G&&G.targetMismatches.get(L.targetId)!=null,ut=L.view.applyChanges(Y,k.isPrimaryClient,at,rt);return GS(k,L.targetId,ut.au),ut.snapshot})(e,v,S,R);const l=await PS(e.localStore,t,!0),c=new XL(t,l.ks),d=c.ru(l.documents),p=mc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,p);GS(e,n,g.au);const y=new WL(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function ik(e,t,n){const s=wt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!hd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Dg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Fy(s.remoteStore,a.targetId),Mg(s,a.targetId)})).catch(ll)):(Mg(s,a.targetId),await Dg(s.localStore,a.targetId,!0))}async function sk(e,t){const n=wt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fy(n.remoteStore,s.targetId))}async function rk(e,t,n){const s=fk(e);try{const a=await(function(c,d){const p=wt(c),g=re.now(),y=d.reduce(((R,P)=>R.add(P.key)),Ut());let v,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let P=Vs(),k=Ut();return p.xs.getEntries(R,y).next((L=>{P=L,P.forEach(((F,G)=>{G.isValidDocument()||(k=k.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,P))).next((L=>{v=L;const F=[];for(const G of d){const Y=gP(G,v.get(G.key).overlayedDocument);Y!=null&&F.push(new ka(G.key,Y,e1(Y.value.mapValue),ws.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,F,d)})).next((L=>{S=L;const F=L.applyToLocalDocumentSet(v,k);return p.documentOverlayCache.saveOverlays(R,L.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:f1(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(s,a.batchId,n),await gc(s,a.changes),await _d(s.remoteStore)}catch(a){const l=Yy(a,"Failed to persist write");n.reject(l)}}async function $1(e,t){const n=wt(e);try{const s=await mL(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Kt(c.hu,14607):a.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await gc(n,s,t)}catch(s){await ll(s)}}function qS(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,v)=>{for(const S of v.ba)S.va(d)&&(g=!0)})),g&&$y(p)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function ak(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new fe(_t.comparator);c=c.insert(l,ln.newNoDocument(l,At.min()));const d=Ut().add(l),p=new pd(At.min(),new Map,new fe(kt),c,d);await $1(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(t),Xy(s)}else await Dg(s.localStore,t,!1).then((()=>Mg(s,t,n))).catch(ll)}async function ok(e,t){const n=wt(e),s=t.batch.batchId;try{const a=await dL(n.localStore,t);X1(n,s,null),Q1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gc(n,a)}catch(a){await ll(a)}}async function lk(e,t,n){const s=wt(e);try{const a=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((v=>(Kt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);X1(s,t,n),Q1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gc(s,a)}catch(a){await ll(a)}}function Q1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function X1(e,t,n){const s=wt(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Mg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||W1(e,s)}))}function W1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Fy(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Xy(e))}function GS(e,t,n){for(const s of n)s instanceof G1?(e.Vu.addReference(s.key,t),uk(e,s)):s instanceof K1?(ht(Qy,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||W1(e,s.key)):Tt(19791,{wu:s})}function uk(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(ht(Qy,"New document in limbo: "+n),e.Eu.add(s),Xy(e))}function Xy(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new _t(ne.fromString(t)),s=e.fu.next();e.Au.set(s,new ZL(n)),e.Ru=e.Ru.insert(n,s),B1(e.remoteStore,new _r(Yi(Oy(n.path)),s,"TargetPurposeLimboResolution",ld.ce))}}async function gc(e,t,n){const s=wt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){a.push(g);const y=zy.Es(p.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,g){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>nt.forEach(g,(S=>nt.forEach(S.Ts,(R=>y.persistence.referenceDelegate.addReference(v,S.targetId,R))).next((()=>nt.forEach(S.Is,(R=>y.persistence.referenceDelegate.removeReference(v,S.targetId,R)))))))))}catch(v){if(!ul(v))throw v;ht(jy,"Failed to update sequence numbers: "+v)}for(const v of g){const S=v.targetId;if(!v.fromCache){const R=y.vs.get(S),P=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(P);y.vs=y.vs.insert(S,k)}}})(s.localStore,l))}async function ck(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ht(Qy,"User change. New user:",t.toKey());const s=await P1(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ct(et.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gc(n,s.Ns)}}function hk(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Z1(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ak.bind(null,t),t.Pu.J_=YL.bind(null,t.eventManager),t.Pu.yu=$L.bind(null,t.eventManager),t}function fk(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ok.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lk.bind(null,t),t}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fL(this.persistence,new uL,t.initialUser,this.serializer)}Cu(t){return new N1(By.Vi,this.serializer)}Du(t){return new vL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class dk extends qf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Ff,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $P(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new N1((s=>Ff.Vi(s,n)),this.serializer)}}class Og{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ck.bind(null,this.syncEngine),await FL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qL})()}createDatastore(t){const n=gd(t.databaseInfo.databaseId),s=bL(t.databaseInfo);return DL(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new VL(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>qS(this.syncEngine,n,0)),(function(){return US.v()?new US:new TL})())}createSyncEngine(t,n){return(function(a,l,c,d,p,g,y){const v=new JL(a,l,c,d,p,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(Ma,"RemoteStore shutting down."),s.Ea.add(5),await pc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Og.provider={build:()=>new Og};class mk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const xr="FirestoreClient";class pk{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ht(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Yy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Fp(e,t){e.asyncQueue.verifyOperationInProgress(),ht(xr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await P1(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function KS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gk(e);ht(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>zS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>zS(t.remoteStore,a))),e._onlineComponents=t}async function gk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(xr,"Using user provided OfflineComponentProvider");try{await Fp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Fp(e,new qf)}}else ht(xr,"Using default OfflineComponentProvider"),await Fp(e,new dk(void 0));return e._offlineComponents}async function J1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(xr,"Using user provided OnlineComponentProvider"),await KS(e,e._uninitializedComponentsProvider._online)):(ht(xr,"Using default OnlineComponentProvider"),await KS(e,new Og))),e._onlineComponents}function yk(e){return J1(e).then((t=>t.syncEngine))}async function YS(e){const t=await J1(e),n=t.eventManager;return n.onListen=tk.bind(null,t.syncEngine),n.onUnlisten=ik.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ek.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sk.bind(null,t.syncEngine),n}function _k(e,t,n,s){const a=new mk(s),l=new QL(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>GL(await YS(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>KL(await YS(e),l)))}}function vk(e,t){const n=new ba;return e.asyncQueue.enqueueAndForget((async()=>rk(await yk(e),t,n))),n.promise}function tR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tk="ComponentProvider",$S=new Map;function Ek(e,t,n,s,a){return new kN(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,tR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const eR="firestore.googleapis.com",QS=!0;class XS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eR,this.ssl=QS}else this.host=t.host,this.ssl=t.ssl??QS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KP)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gN;switch(s.type){case"firstParty":return new TN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$S.get(n);s&&(ht(Tk,"Removing Datastore"),$S.delete(n),s.terminate())})(this),Promise.resolve()}}function Sk(e,t,n,s={}){e=Ou(e,vd);const a=Nr(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(hy(`https://${d}`),fy("Firestore",!0)),l.host!==eR&&l.host!==d&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!Ia(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=on.MOCK_USER;else{g=tw(s.mockUserToken,e._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(v)}e._authCredentials=new yN(new Hw(g,y))}}class Pr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Pr(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(fc(n,je._jsonSchema))return new je(t,s||null,new _t(ne.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Le("string",je._jsonSchemaVersion),referencePath:Le("string")};class Ar extends Pr{constructor(t,n,s){super(t,n,Oy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new _t(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function Jo(e,t,...n){if(e=He(e),qw("collection","path",t),e instanceof vd){const s=ne.fromString(t,...n);return lS(s),new Ar(e,null,s)}{if(!(e instanceof je||e instanceof Ar))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return lS(s),new Ar(e.firestore,null,s)}}function Ak(e,t,...n){if(e=He(e),arguments.length===1&&(t=Cy.newId()),qw("doc","path",t),e instanceof vd){const s=ne.fromString(t,...n);return oS(s),new je(e,null,new _t(s))}{if(!(e instanceof je||e instanceof Ar))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return oS(s),new je(e.firestore,e instanceof Ar?e.converter:null,new _t(s))}}const WS="AsyncQueue";class ZS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k1(this,"async_queue_retry"),this._c=()=>{const s=jp();s&&ht(WS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;ht(WS,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",JS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Ky.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:JS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function JS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Gf extends vd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new ZS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZS(t),this._firestoreClient=void 0,await t}}}function bk(e,t){const n=typeof e=="object"?e:py(),s=typeof e=="string"?e:Lf,a=id(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Wb("firestore");l&&Sk(a,...l)}return a}function nR(e){if(e._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wk(e),e._firestoreClient}function wk(e){const t=e._freezeSettings(),n=Ek(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new pk(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(sn.fromBase64String(t))}catch(n){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fc(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Le("string",Zn._jsonSchemaVersion),bytes:Le("string")};class iR{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wy{constructor(t){this._methodName=t}}class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(fc(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Le("string",Qi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Le("string",vi._jsonSchemaVersion),vectorValues:Le("object")};const Rk=/^__.*__$/;class Ck{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new dc(t,this.data,n,this.fieldTransforms)}}function sR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class Zy{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Zy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Kf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(sR(this.dataSource)&&Rk.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Ik{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||gd(t)}createContext(t,n,s,a=!1){return new Zy({dataSource:t,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rR(e){const t=e._freezeSettings(),n=gd(e._databaseId);return new Ik(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dk(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);lR("Data must be an object, but it was:",c,s);const d=aR(s,c);let p,g;if(l.merge)p=new yi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const S=Td(t,v,n);if(!c.contains(S))throw new ct(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Ok(y,S)||y.push(S)}p=new yi(y),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new Ck(new Wn(d),p,g)}class Jy extends Wy{_toFieldTransform(t){return new fP(t.path,new Wu)}isEqual(t){return t instanceof Jy}}function xk(e,t,n,s=!1){return t_(n,e.createContext(s?4:3,t))}function t_(e,t){if(oR(e=He(e)))return lR("Unsupported field value:",t,e),aR(e,t);if(e instanceof Wy)return(function(s,a){if(!sR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=t_(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=He(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=re.fromDate(s);return{timestampValue:jf(a.serializer,l)}}if(s instanceof re){const l=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(a.serializer,l)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:w1(a.serializer,s._byteString)};if(s instanceof je){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,d){const p=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[Jw]:{stringValue:t1},[kf]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Ny(d.serializer,y)}))}}}}}})(s,a);if(M1(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${od(s)}`)})(e,t)}function aR(e,t){const n={};return Yw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(e,((s,a)=>{const l=t_(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function oR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof re||e instanceof Qi||e instanceof Zn||e instanceof je||e instanceof Wy||e instanceof vi||M1(e))}function lR(e,t,n){if(!oR(n)||!Gw(n)){const s=od(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Td(e,t,n){if((t=He(t))instanceof iR)return t._internalPath;if(typeof t=="string")return Mk(e,t);throw Kf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Vk=new RegExp("[~\\*/\\[\\]]");function Mk(e,t,n){if(t.search(Vk)>=0)throw Kf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new iR(...t.split("."))._internalPath}catch{throw Kf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Kf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ct(et.INVALID_ARGUMENT,d+e+p)}function Ok(e,t){return e.some((n=>n.isEqual(t)))}class Nk{convertValue(t,n="none"){switch(Ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Pa(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[kf].arrayValue?.values?.map((s=>Ae(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new Qi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=cd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yu(t));default:return null}}convertTimestamp(t){const n=Rr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Kt(V1(s),9688,{name:t});const a=new $u(s.get(1),s.get(3)),l=new _t(s.popFirst(5));return a.isEqual(n)||xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class uR extends Nk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function e_(){return new Jy("serverTimestamp")}const tA="@firebase/firestore",eA="4.10.0";function nA(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class cR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Pk extends cR{data(){return super.data()}}function Lk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class i_ extends n_{}function s_(e,t,...n){let s=[];t instanceof n_&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((p=>p instanceof a_)).length,d=l.filter((p=>p instanceof r_)).length;if(c>1||c>0&&d>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class r_ extends i_{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new r_(t,n,s)}_apply(t){const n=this._parse(t);return hR(t._query,n),new Pr(t.firestore,t.converter,bg(t._query,n))}_parse(t){const n=rR(t.firestore);return(function(l,c,d,p,g,y,v){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){sA(v,y);const P=[];for(const k of v)P.push(iA(p,l,k));S={arrayValue:{values:P}}}else S=iA(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||sA(v,y),S=xk(d,c,v,y==="in"||y==="not-in");return Pe.create(g,y,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class a_ extends n_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new a_(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)hR(c,p),c=bg(c,p)})(t._query,n),new Pr(t.firestore,t.converter,bg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o_ extends i_{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new o_(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xu(l,c)})(t._query,this._field,this._direction);return new Pr(t.firestore,t.converter,eP(t._query,n))}}function l_(e,t="asc"){const n=t,s=Td("orderBy",e);return o_._create(s,n)}class u_ extends i_{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new u_(t,n,s)}_apply(t){return new Pr(t.firestore,t.converter,Bf(t._query,this._limit,this._limitType))}}function kk(e){return u_._create("limit",e,"F")}function iA(e,t,n){if(typeof(n=He(n))=="string"){if(n==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(t)&&n.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!_t.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gS(e,new _t(s))}if(n instanceof je)return gS(e,n._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function sA(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Uk(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Iu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends cR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Le("string",wa._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Ef extends wa{data(t={}){return super.data(t)}}class qo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ef(this._firestore,this._userDataWriter,s.key,s,new Iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Bk(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Bk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Le("string",qo._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};function c_(e,t){const n=Ou(e.firestore,Gf),s=Ak(e),a=Uk(e.converter,t),l=rR(e.firestore);return zk(n,[Dk(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,ws.exists(!1))]).then((()=>s))}function h_(e,...t){e=He(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||nA(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nA(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let l,c,d;if(e instanceof je)c=Ou(e.firestore,Gf),d=Oy(e._key.path),l={next:g=>{t[s]&&t[s](jk(c,e,g))},error:t[s+1],complete:t[s+2]};else{const g=Ou(e,Pr);c=Ou(g.firestore,Gf),d=g._query;const y=new uR(c);l={next:v=>{t[s]&&t[s](new qo(c,y,g,v))},error:t[s+1],complete:t[s+2]},Lk(e._query)}const p=nR(c);return _k(p,d,a,l)}function zk(e,t){const n=nR(e);return vk(n,t)}function jk(e,t,n){const s=n.docs.get(t._key),a=new uR(e);return new wa(e,a,t._key,s,new Iu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){pN(Na),Da(new br("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Gf(new _N(s.getProvider("auth-internal")),new EN(c,s.getProvider("app-check-internal")),UN(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Gi(tA,eA,t),Gi(tA,eA,"esm2020")})();const fR="firebasestorage.googleapis.com",dR="storageBucket",Fk=120*1e3,Hk=600*1e3;class _e extends es{constructor(t,n,s=0){super(Hp(t),`Firebase Storage: ${n} (${Hp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Hp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ye;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ye||(ye={}));function Hp(e){return"storage/"+e}function f_(){const e="An unknown error occurred, please check the error payload for server response.";return new _e(ye.UNKNOWN,e)}function qk(e){return new _e(ye.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Gk(e){return new _e(ye.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Kk(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _e(ye.UNAUTHENTICATED,e)}function Yk(){return new _e(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $k(e){return new _e(ye.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Qk(){return new _e(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xk(){return new _e(ye.CANCELED,"User canceled the upload/download.")}function Wk(e){return new _e(ye.INVALID_URL,"Invalid URL '"+e+"'.")}function Zk(e){return new _e(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Jk(){return new _e(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dR+"' property when initializing the app?")}function t4(){return new _e(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e4(){return new _e(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function n4(e){return new _e(ye.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ng(e){return new _e(ye.INVALID_ARGUMENT,e)}function mR(){return new _e(ye.APP_DELETED,"The Firebase app was deleted.")}function i4(e){return new _e(ye.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(e,t){return new _e(ye.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Au(e){throw new _e(ye.INTERNAL_ERROR,"Internal error: "+e)}class Nn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Nn.makeFromUrl(t,n)}catch{return new Nn(t,"")}if(s.path==="")return s;throw Zk(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(at){at.path_=decodeURIComponent(at.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${y}/b/${a}/o${S}`,"i"),P={bucket:1,path:3},k=n===fR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",F=new RegExp(`^https?://${k}/${a}/${L}`,"i"),Y=[{regex:d,indices:p,postModify:l},{regex:R,indices:P,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let at=0;at<Y.length;at++){const rt=Y[at],ut=rt.regex.exec(t);if(ut){const C=ut[rt.indices.bucket];let w=ut[rt.indices.path];w||(w=""),s=new Nn(C,w),rt.postModify(s);break}}if(s==null)throw Wk(t);return s}}class s4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function r4(e,t,n){let s=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...L){g||(g=!0,t.apply(null,L))}function v(L){a=setTimeout(()=>{a=null,e(R,p())},L)}function S(){l&&clearTimeout(l)}function R(L,...F){if(g){S();return}if(L){S(),y.call(null,L,...F);return}if(p()||c){S(),y.call(null,L,...F);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,v(Y)}let P=!1;function k(L){P||(P=!0,S(),!g&&(a!==null?(L||(d=2),clearTimeout(a),v(0)):L||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,k(!0)},n),k}function a4(e){e(!1)}function o4(e){return e!==void 0}function l4(e){return typeof e=="object"&&!Array.isArray(e)}function d_(e){return typeof e=="string"||e instanceof String}function rA(e){return m_()&&e instanceof Blob}function m_(){return typeof Blob<"u"}function aA(e,t,n,s){if(s<t)throw Ng(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Ng(`Invalid value for '${e}'. Expected ${n} or less.`)}function p_(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function pR(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ra;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ra||(Ra={}));function u4(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}class c4{constructor(t,n,s,a,l,c,d,p,g,y,v,S=!0,R=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=v,this.retry=S,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,k)=>{this.resolve_=P,this.reject_=k,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new sf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ra.NO_ERROR,p=l.getStatus();if(!d||u4(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ra.ABORT;s(!1,new sf(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new sf(g,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());o4(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=f_();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?mR():Xk();c(p)}else{const p=Qk();c(p)}};this.canceled_?n(!1,new sf(!1,null,!0)):this.backoffId_=r4(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&a4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sf{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function h4(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function f4(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function d4(e,t){t&&(e["X-Firebase-GMPID"]=t)}function m4(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function p4(e,t,n,s,a,l,c=!0,d=!1){const p=pR(e.urlParams),g=e.url+p,y=Object.assign({},e.headers);return d4(y,t),h4(y,n),f4(y,l),m4(y,s),new c4(g,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,d)}function g4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y4(...e){const t=g4();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(m_())return new Blob(e);throw new _e(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _4(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function v4(e){if(typeof atob>"u")throw n4("base-64");return atob(e)}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qp{constructor(t,n){this.data=t,this.contentType=n||null}}function T4(e,t){switch(e){case qi.RAW:return new qp(gR(t));case qi.BASE64:case qi.BASE64URL:return new qp(yR(e,t));case qi.DATA_URL:return new qp(S4(t),A4(t))}throw f_()}function gR(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=s,c=e.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function E4(e){let t;try{t=decodeURIComponent(e)}catch{throw Uu(qi.DATA_URL,"Malformed data URL.")}return gR(t)}function yR(e,t){switch(e){case qi.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw Uu(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw Uu(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=v4(t)}catch(a){throw a.message.includes("polyfill")?a:Uu(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class _R{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Uu(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=b4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function S4(e){const t=new _R(e);return t.base64?yR(qi.BASE64,t.rest):E4(t.rest)}function A4(e){return new _R(e).contentType}function b4(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class yr{constructor(t,n){let s=0,a="";rA(t)?(this.data_=t,s=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(rA(this.data_)){const s=this.data_,a=_4(s,t,n);return a===null?null:new yr(a)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new yr(s,!0)}}static getBlob(...t){if(m_()){const n=t.map(s=>s instanceof yr?s.data_:s);return new yr(y4.apply(null,n))}else{const n=t.map(c=>d_(c)?T4(qi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new yr(a,!0)}}uploadData(){return this.data_}}function vR(e){let t;try{t=JSON.parse(e)}catch{return null}return l4(t)?t:null}function w4(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function R4(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function TR(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function C4(e,t){return t}class mn{constructor(t,n,s,a){this.server=t,this.local=n||t,this.writable=!!s,this.xform=a||C4}}let rf=null;function I4(e){return!d_(e)||e.length<2?e:TR(e)}function ER(){if(rf)return rf;const e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));function t(l,c){return I4(c)}const n=new mn("name");n.xform=t,e.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new mn("size");return a.xform=s,e.push(a),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),rf=e,rf}function D4(e,t){function n(){const s=e.bucket,a=e.fullPath,l=new Nn(s,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function x4(e,t,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,t[c.server])}return D4(s,e),s}function SR(e,t,n){const s=vR(t);return s===null?null:x4(e,s,n)}function V4(e,t,n,s){const a=vR(t);if(a===null||!d_(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const y=e.bucket,v=e.fullPath,S="/b/"+c(y)+"/o/"+c(v),R=p_(S,n,s),P=pR({alt:"media",token:g});return R+P})[0]}function M4(e,t){const n={},s=t.length;for(let a=0;a<s;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class AR{constructor(t,n,s,a){this.url=t,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bR(e){if(!e)throw f_()}function O4(e,t){function n(s,a){const l=SR(e,a,t);return bR(l!==null),l}return n}function N4(e,t){function n(s,a){const l=SR(e,a,t);return bR(l!==null),V4(l,a,e.host,e._protocol)}return n}function wR(e){function t(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=Yk():a=Kk():n.getStatus()===402?a=Gk(e.bucket):n.getStatus()===403?a=$k(e.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return t}function P4(e){const t=wR(e);function n(s,a){let l=t(s,a);return s.getStatus()===404&&(l=qk(e.path)),l.serverResponse=a.serverResponse,l}return n}function L4(e,t,n){const s=t.fullServerUrl(),a=p_(s,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,d=new AR(a,l,N4(e,n),c);return d.errorHandler=P4(t),d}function k4(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function U4(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=k4(null,t)),s}function B4(e,t,n,s,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Y="";for(let at=0;at<2;at++)Y=Y+Math.random().toString().slice(2);return Y}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=U4(t,s,a),y=M4(g,n),v="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",R=yr.getBlob(v,s,S);if(R===null)throw t4();const P={name:g.fullPath},k=p_(l,e.host,e._protocol),L="POST",F=e.maxUploadRetryTime,G=new AR(k,L,O4(e,n),F);return G.urlParams=P,G.headers=c,G.body=R.uploadData(),G.errorHandler=wR(t),G}class z4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,a,l){if(this.sent_)throw Au("cannot .send() more than once");if(Nr(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class j4 extends z4{initXhr(){this.xhr_.responseType="text"}}function RR(){return new j4}class Oa{constructor(t,n){this._service=t,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Oa(t,n)}get root(){const t=new Nn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TR(this._location.path)}get storage(){return this._service}get parent(){const t=w4(this._location.path);if(t===null)return null;const n=new Nn(this._location.bucket,t);return new Oa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw i4(t)}}function F4(e,t,n){e._throwIfRoot("uploadBytes");const s=B4(e.storage,e._location,ER(),new yr(t,!0),n);return e.storage.makeRequestWithTokens(s,RR).then(a=>({metadata:a,ref:e}))}function H4(e){e._throwIfRoot("getDownloadURL");const t=L4(e.storage,e._location,ER());return e.storage.makeRequestWithTokens(t,RR).then(n=>{if(n===null)throw e4();return n})}function q4(e,t){const n=R4(e._location.path,t),s=new Nn(e._location.bucket,n);return new Oa(e.storage,s)}function G4(e){return/^[A-Za-z]+:\/\//.test(e)}function K4(e,t){return new Oa(e,t)}function CR(e,t){if(e instanceof g_){const n=e;if(n._bucket==null)throw Jk();const s=new Oa(n,n._bucket);return t!=null?CR(s,t):s}else return t!==void 0?q4(e,t):e}function Y4(e,t){if(t&&G4(t)){if(e instanceof g_)return K4(e,t);throw Ng("To use ref(service, url), the first argument must be a Storage instance.")}else return CR(e,t)}function oA(e,t){const n=t?.[dR];return n==null?null:Nn.makeFromBucketSpec(n,e)}function $4(e,t,n,s={}){e.host=`${t}:${n}`;const a=Nr(t);a&&(hy(`https://${e.host}/b`),fy("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(e._overrideAuthToken=typeof l=="string"?l:tw(l,e.app.options.projectId))}class g_{constructor(t,n,s,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=fR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fk,this._maxUploadRetryTime=Hk,this._requests=new Set,a!=null?this._bucket=Nn.makeFromBucketSpec(a,this._host):this._bucket=oA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,t):this._bucket=oA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Oa(this,t)}_makeRequest(t,n,s,a,l=!0){if(this._deleted)return new s4(mR());{const c=p4(t,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const lA="@firebase/storage",uA="0.14.0";const IR="storage";function Q4(e,t,n){return e=He(e),F4(e,t,n)}function X4(e){return e=He(e),H4(e)}function W4(e,t){return e=He(e),Y4(e,t)}function Z4(e=py(),t){e=He(e);const s=id(e,IR).getImmediate({identifier:t}),a=Wb("storage");return a&&J4(s,...a),s}function J4(e,t,n,s={}){$4(e,t,n,s)}function tU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new g_(n,s,a,t,Na)}function eU(){Da(new br(IR,tU,"PUBLIC").setMultipleInstances(!0)),Gi(lA,uA,""),Gi(lA,uA,"esm2020")}eU();const nU={apiKey:"dummy-key",authDomain:"dummy-domain",projectId:"dummy-project",storageBucket:"dummy-bucket",messagingSenderId:"dummy-sender",appId:"dummy-app"},y_=iw(nU),Gp=hN(y_),tl=bk(y_),iU=Z4(y_),sU=new Es,DR=U.createContext();function Lr(){return U.useContext(DR)}function rU({children:e}){const[t,n]=U.useState(null),[s,a]=U.useState(!0),l=async()=>{try{await TO(Gp,sU)}catch(p){console.error("Login failed:",p)}},c=()=>tO(Gp);U.useEffect(()=>JM(Gp,g=>{n(g),a(!1)}),[]);const d={user:t,loginWithGoogle:l,logout:c,loading:s};return it.jsx(DR.Provider,{value:d,children:!s&&e})}const aU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),cA=e=>{const t=oU(e);return t.charAt(0).toUpperCase()+t.slice(1)},xR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),lU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cU=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>U.createElement("svg",{ref:p,...uU,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:xR("lucide",a),...!l&&!lU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>U.createElement(g,y)),...Array.isArray(l)?l:[l]]));const kr=(e,t)=>{const n=U.forwardRef(({className:s,...a},l)=>U.createElement(cU,{ref:l,iconNode:t,className:xR(`lucide-${aU(cA(e))}`,`lucide-${e}`,s),...a}));return n.displayName=cA(e),n};const hU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VR=kr("bell",hU);const fU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dU=kr("house",fU);const mU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pU=kr("image",mU);const gU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yU=kr("log-out",gU);const _U=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vU=kr("message-square",_U);const TU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],EU=kr("plus",TU);const SU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AU=kr("send",SU);const bU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wU=kr("upload",bU),RU=()=>{const{user:e,logout:t}=Lr(),n=[{path:"/",icon:it.jsx(dU,{size:20}),label:""},{path:"/notices",icon:it.jsx(VR,{size:20}),label:""},{path:"/gallery",icon:it.jsx(pU,{size:20}),label:""},{path:"/chat",icon:it.jsx(vU,{size:20}),label:""}];return it.jsxs("div",{className:"glass-card",style:{width:"280px",height:"calc(100vh - 40px)",margin:"20px",padding:"24px",display:"flex",flexDirection:"column",position:"fixed"},children:[it.jsx("div",{style:{marginBottom:"40px"},children:it.jsx("h2",{className:"title-gradient",style:{fontSize:"1.8rem"},children:" "})}),it.jsx("nav",{style:{flex:1},children:n.map(s=>it.jsxs(Gb,{to:s.path,style:({isActive:a})=>({display:"flex",alignItems:"center",padding:"12px 16px",borderRadius:"12px",textDecoration:"none",color:a?"#fff":"var(--text-muted)",background:a?"var(--glass)":"transparent",marginBottom:"8px",transition:"all 0.3s"}),children:[it.jsx("span",{style:{marginRight:"12px"},children:s.icon}),it.jsx("span",{style:{fontWeight:500},children:s.label})]},s.path))}),it.jsxs("div",{style:{padding:"20px 0",borderTop:"1px solid var(--glass-border)"},children:[e&&it.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[it.jsx("img",{src:e.photoURL,alt:"profile",style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"12px"}}),it.jsxs("div",{children:[it.jsx("p",{style:{fontWeight:600,fontSize:"0.9rem"},children:e.displayName}),it.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:e.email})]})]}),it.jsxs("button",{onClick:t,className:"btn-primary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[it.jsx(yU,{size:18,style:{marginRight:"8px"}})," "]})]})]})},CU=({children:e})=>it.jsxs("div",{style:{display:"flex"},children:[it.jsx(RU,{}),it.jsx("main",{style:{marginLeft:"320px",padding:"40px",flex:1,minHeight:"100vh"},children:e})]}),MR=U.createContext({});function IU(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const OR=typeof window<"u",DU=OR?U.useLayoutEffect:U.useEffect,__=U.createContext(null);function v_(e,t){e.indexOf(t)===-1&&e.push(t)}function T_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ji=(e,t,n)=>n>t?t:n<e?e:n;let E_=()=>{};const Ms={},NR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PR(e){return typeof e=="object"&&e!==null}const LR=e=>/^0[^.\s]+$/u.test(e);function S_(e){let t;return()=>(t===void 0&&(t=e()),t)}const ti=e=>e,xU=(e,t)=>n=>t(e(n)),yc=(...e)=>e.reduce(xU),tc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class A_{constructor(){this.subscriptions=[]}add(t){return v_(this.subscriptions,t),()=>T_(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=e=>e*1e3,Jn=e=>e/1e3;function kR(e,t){return t?e*(1e3/t):0}const UR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VU=1e-7,MU=12;function OU(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=UR(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>VU&&++d<MU);return c}function _c(e,t,n,s){if(e===t&&n===s)return ti;const a=l=>OU(l,0,1,e,n);return l=>l===0||l===1?l:UR(a(l),t,s)}const BR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zR=e=>t=>1-e(1-t),jR=_c(.33,1.53,.69,.99),b_=zR(jR),FR=BR(b_),HR=e=>(e*=2)<1?.5*b_(e):.5*(2-Math.pow(2,-10*(e-1))),w_=e=>1-Math.sin(Math.acos(e)),qR=zR(w_),GR=BR(w_),NU=_c(.42,0,1,1),PU=_c(0,0,.58,1),KR=_c(.42,0,.58,1),LU=e=>Array.isArray(e)&&typeof e[0]!="number",YR=e=>Array.isArray(e)&&typeof e[0]=="number",kU={linear:ti,easeIn:NU,easeInOut:KR,easeOut:PU,circIn:w_,circInOut:GR,circOut:qR,backIn:b_,backInOut:FR,backOut:jR,anticipate:HR},UU=e=>typeof e=="string",hA=e=>{if(YR(e)){E_(e.length===4);const[t,n,s,a]=e;return _c(t,n,s,a)}else if(UU(e))return kU[e];return e},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BU(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,v=!1,S=!1)=>{const P=S&&a?n:s;return v&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const zU=40;function $R(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=af.reduce((Y,at)=>(Y[at]=BU(l),Y),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:S,render:R,postRender:P}=c,k=()=>{const Y=Ms.useManualTiming?a.timestamp:performance.now();n=!1,Ms.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,zU),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),v.process(a),S.process(a),R.process(a),P.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(k))},L=()=>{n=!0,s=!0,a.isProcessing||e(k)};return{schedule:af.reduce((Y,at)=>{const rt=c[at];return Y[at]=(ut,C=!1,w=!1)=>(n||L(),rt.schedule(ut,C,w)),Y},{}),cancel:Y=>{for(let at=0;at<af.length;at++)c[af[at]].cancel(Y)},state:a,steps:c}}const{schedule:ae,cancel:Vr,state:tn,steps:Kp}=$R(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let Sf;function jU(){Sf=void 0}const pn={now:()=>(Sf===void 0&&pn.set(tn.isProcessing||Ms.useManualTiming?tn.timestamp:performance.now()),Sf),set:e=>{Sf=e,queueMicrotask(jU)}},QR=e=>t=>typeof t=="string"&&t.startsWith(e),XR=QR("--"),FU=QR("var(--"),R_=e=>FU(e)?HU.test(e.split("/*")[0].trim()):!1,HU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fA(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const fl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ec={...fl,transform:e=>Ji(0,1,e)},of={...fl,default:1},Bu=e=>Math.round(e*1e5)/1e5,C_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qU(e){return e==null}const GU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I_=(e,t)=>n=>!!(typeof n=="string"&&GU.test(n)&&n.startsWith(e)||t&&!qU(n)&&Object.prototype.hasOwnProperty.call(n,t)),WR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(C_);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},KU=e=>Ji(0,255,e),Yp={...fl,transform:e=>Math.round(KU(e))},Ea={test:I_("rgb","red"),parse:WR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Yp.transform(e)+", "+Yp.transform(t)+", "+Yp.transform(n)+", "+Bu(ec.transform(s))+")"};function YU(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Pg={test:I_("#"),parse:YU,transform:Ea.transform},vc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),dr=vc("deg"),Xi=vc("%"),dt=vc("px"),$U=vc("vh"),QU=vc("vw"),dA={...Xi,parse:e=>Xi.parse(e)/100,transform:e=>Xi.transform(e*100)},Po={test:I_("hsl","hue"),parse:WR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Xi.transform(Bu(t))+", "+Xi.transform(Bu(n))+", "+Bu(ec.transform(s))+")"},Ne={test:e=>Ea.test(e)||Pg.test(e)||Po.test(e),parse:e=>Ea.test(e)?Ea.parse(e):Po.test(e)?Po.parse(e):Pg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ea.transform(e):Po.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},XU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WU(e){return isNaN(e)&&typeof e=="string"&&(e.match(C_)?.length||0)+(e.match(XU)?.length||0)>0}const ZR="number",JR="color",ZU="var",JU="var(",mA="${}",t6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(t6,p=>(Ne.test(p)?(s.color.push(l),a.push(JR),n.push(Ne.parse(p))):p.startsWith(JU)?(s.var.push(l),a.push(ZU),n.push(p)):(s.number.push(l),a.push(ZR),n.push(parseFloat(p))),++l,mA)).split(mA);return{values:n,split:d,indexes:s,types:a}}function tC(e){return nc(e).values}function eC(e){const{split:t,types:n}=nc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===ZR?l+=Bu(a[c]):d===JR?l+=Ne.transform(a[c]):l+=a[c]}return l}}const e6=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function n6(e){const t=tC(e);return eC(e)(t.map(e6))}const Mr={test:WU,parse:tC,createTransformer:eC,getAnimatableNone:n6};function $p(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i6({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;a=$p(p,d,e+1/3),l=$p(p,d,e),c=$p(p,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Yf(e,t){return n=>n>0?t:e}const he=(e,t,n)=>e+(t-e)*n,Qp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},s6=[Pg,Ea,Po],r6=e=>s6.find(t=>t.test(e));function pA(e){const t=r6(e);if(!t)return!1;let n=t.parse(e);return t===Po&&(n=i6(n)),n}const gA=(e,t)=>{const n=pA(e),s=pA(t);if(!n||!s)return Yf(e,t);const a={...n};return l=>(a.red=Qp(n.red,s.red,l),a.green=Qp(n.green,s.green,l),a.blue=Qp(n.blue,s.blue,l),a.alpha=he(n.alpha,s.alpha,l),Ea.transform(a))},Lg=new Set(["none","hidden"]);function a6(e,t){return Lg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function o6(e,t){return n=>he(e,t,n)}function D_(e){return typeof e=="number"?o6:typeof e=="string"?R_(e)?Yf:Ne.test(e)?gA:c6:Array.isArray(e)?nC:typeof e=="object"?Ne.test(e)?gA:l6:Yf}function nC(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>D_(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function l6(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=D_(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function u6(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const c6=(e,t)=>{const n=Mr.createTransformer(t),s=nc(e),a=nc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Lg.has(e)&&!a.values.length||Lg.has(t)&&!s.values.length?a6(e,t):yc(nC(u6(s,a),a.values),n):Yf(e,t)};function iC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):D_(e)(e,t)}const h6=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>Vr(t),now:()=>tn.isProcessing?tn.timestamp:pn.now()}},sC=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},$f=2e4;function x_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<$f;)t+=n,s=e.next(t);return t>=$f?1/0:t}function f6(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(x_(s),$f);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Jn(a)}}const d6=5;function rC(e,t,n){const s=Math.max(t-d6,0);return kR(n-e(s),t-s)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xp=.001;function m6({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:s=ge.mass}){let a,l,c=1-t;c=Ji(ge.minDamping,ge.maxDamping,c),e=Ji(ge.minDuration,ge.maxDuration,Jn(e)),c<1?(a=g=>{const y=g*c,v=y*e,S=y-n,R=kg(g,c),P=Math.exp(-v);return Xp-S/R*P},l=g=>{const v=g*c*e,S=v*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,P=Math.exp(-v),k=kg(Math.pow(g,2),c);return(-a(g)+Xp>0?-1:1)*((S-R)*P)/k}):(a=g=>{const y=Math.exp(-g*e),v=(g-n)*e+1;return-Xp+y*v},l=g=>{const y=Math.exp(-g*e),v=(n-g)*(e*e);return y*v});const d=5/e,p=g6(a,l,d);if(e=Rs(e),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const p6=12;function g6(e,t,n){let s=n;for(let a=1;a<p6;a++)s=s-e(s)/t(s);return s}function kg(e,t){return e*Math.sqrt(1-t*t)}const y6=["duration","bounce"],_6=["stiffness","damping","mass"];function yA(e,t){return t.some(n=>e[n]!==void 0)}function v6(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!yA(e,_6)&&yA(e,y6))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const n=m6(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function Qf(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:v,velocity:S,isResolvedFromDuration:R}=v6({...n,velocity:-Jn(n.velocity||0)}),P=S||0,k=g/(2*Math.sqrt(p*y)),L=c-l,F=Jn(Math.sqrt(p/y)),G=Math.abs(L)<5;s||(s=G?ge.restSpeed.granular:ge.restSpeed.default),a||(a=G?ge.restDelta.granular:ge.restDelta.default);let Y;if(k<1){const rt=kg(F,k);Y=ut=>{const C=Math.exp(-k*F*ut);return c-C*((P+k*F*L)/rt*Math.sin(rt*ut)+L*Math.cos(rt*ut))}}else if(k===1)Y=rt=>c-Math.exp(-F*rt)*(L+(P+F*L)*rt);else{const rt=F*Math.sqrt(k*k-1);Y=ut=>{const C=Math.exp(-k*F*ut),w=Math.min(rt*ut,300);return c-C*((P+k*F*L)*Math.sinh(w)+rt*L*Math.cosh(w))/rt}}const at={calculatedDuration:R&&v||null,next:rt=>{const ut=Y(rt);if(R)d.done=rt>=v;else{let C=rt===0?P:0;k<1&&(C=rt===0?Rs(P):rC(Y,rt,ut));const w=Math.abs(C)<=s,I=Math.abs(c-ut)<=a;d.done=w&&I}return d.value=d.done?c:ut,d},toString:()=>{const rt=Math.min(x_(at),$f),ut=sC(C=>at.next(rt*C).value,rt,30);return rt+"ms "+ut},toTransition:()=>{}};return at}Qf.applyToOptions=e=>{const t=f6(e,100,Qf);return e.ease=t.ease,e.duration=Rs(t.duration),e.type="keyframes",e};function Ug({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const v=e[0],S={done:!1,value:v},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let k=n*t;const L=v+k,F=c===void 0?L:c(L);F!==L&&(k=F-v);const G=w=>-k*Math.exp(-w/s),Y=w=>F+G(w),at=w=>{const I=G(w),M=Y(w);S.done=Math.abs(I)<=g,S.value=S.done?F:M};let rt,ut;const C=w=>{R(S.value)&&(rt=w,ut=Qf({keyframes:[S.value,P(S.value)],velocity:rC(Y,w,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!ut&&rt===void 0&&(I=!0,at(w),C(w)),rt!==void 0&&w>=rt?ut.next(w-rt):(!I&&at(w),S)}}}function T6(e,t,n){const s=[],a=n||Ms.mix||iC,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||ti:t;d=yc(p,d)}s.push(d)}return s}function E6(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(E_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=T6(t,s,a),p=d.length,g=y=>{if(c&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const S=tc(e[v],e[v+1],y);return d[v](S)};return n?y=>g(Ji(e[0],e[l-1],y)):g}function S6(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=tc(0,t,s);e.push(he(n,1,a))}}function A6(e){const t=[0];return S6(t,e.length-1),t}function b6(e,t){return e.map(n=>n*t)}function w6(e,t){return e.map(()=>t||KR).splice(0,e.length-1)}function zu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=LU(s)?s.map(hA):hA(s),l={done:!1,value:t[0]},c=b6(n&&n.length===t.length?n:A6(t),e),d=E6(c,t,{ease:Array.isArray(a)?a:w6(t,a)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const R6=e=>e!==null;function V_(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(R6),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const C6={decay:Ug,inertia:Ug,tween:zu,keyframes:zu,spring:Qf};function aC(e){typeof e.type=="string"&&(e.type=C6[e.type])}class M_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const I6=e=>e/100;class O_ extends M_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aC(t);const{type:n=zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||zu;p!==zu&&typeof d[0]!="number"&&(this.mixKeyframes=yc(I6,iC(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=x_(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:S,repeatDelay:R,type:P,onUpdate:k,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,at=s;if(v){const w=Math.min(this.currentTime,a)/d;let I=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&I--,I=Math.min(I,v+1),I%2&&(S==="reverse"?(M=1-M,R&&(M-=R/d)):S==="mirror"&&(at=c)),Y=Ji(0,1,M)*d}const rt=G?{done:!1,value:y[0]}:at.next(Y);l&&(rt.value=l(rt.value));let{done:ut}=rt;!G&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return C&&P!==Ug&&(rt.value=V_(y,this.options,L,this.speed)),k&&k(rt.value),C&&this.finish(),rt}then(t,n){return this.finished.then(t,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){t=Rs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=h6,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function D6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sa=e=>e*180/Math.PI,Bg=e=>{const t=Sa(Math.atan2(e[1],e[0]));return zg(t)},x6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bg,rotateZ:Bg,skewX:e=>Sa(Math.atan(e[1])),skewY:e=>Sa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zg=e=>(e=e%360,e<0&&(e+=360),e),_A=Bg,vA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),TA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),V6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vA,scaleY:TA,scale:e=>(vA(e)+TA(e))/2,rotateX:e=>zg(Sa(Math.atan2(e[6],e[5]))),rotateY:e=>zg(Sa(Math.atan2(-e[2],e[0]))),rotateZ:_A,rotate:_A,skewX:e=>Sa(Math.atan(e[4])),skewY:e=>Sa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jg(e){return e.includes("scale")?1:0}function Fg(e,t){if(!e||e==="none")return jg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=V6,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=x6,a=d}if(!a)return jg(t);const l=s[t],c=a[1].split(",").map(O6);return typeof l=="function"?l(c):c[l]}const M6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fg(n,t)};function O6(e){return parseFloat(e.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ml=new Set(dl),EA=e=>e===fl||e===dt,N6=new Set(["x","y","z"]),P6=dl.filter(e=>!N6.has(e));function L6(e){const t=[];return P6.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const vr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Fg(t,"x"),y:(e,{transform:t})=>Fg(t,"y")};vr.translateX=vr.x;vr.translateY=vr.y;const Ca=new Set;let Hg=!1,qg=!1,Gg=!1;function oC(){if(qg){const e=Array.from(Ca).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=L6(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}qg=!1,Hg=!1,Ca.forEach(e=>e.complete(Gg)),Ca.clear()}function lC(){Ca.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qg=!0)})}function k6(){Gg=!0,lC(),oC(),Gg=!1}class N_{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),Hg||(Hg=!0,ae.read(lC),ae.resolveKeyframes(oC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}D6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U6=e=>e.startsWith("--");function B6(e,t,n){U6(t)?e.style.setProperty(t,n):e.style[t]=n}const z6=S_(()=>window.ScrollTimeline!==void 0),j6={};function F6(e,t){const n=S_(e);return()=>j6[t]??n()}const uC=F6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,SA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function cC(e,t){if(e)return typeof e=="function"?uC()?sC(e,t):"ease-out":YR(e)?Du(e):Array.isArray(e)?e.map(n=>cC(n,t)||SA.easeOut):SA[e]}function H6(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:n};p&&(y.offset=p);const v=cC(d,a);Array.isArray(v)&&(y.easing=v);const S={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function hC(e){return typeof e=="function"&&"applyToOptions"in e}function q6({type:e,...t}){return hC(e)&&uC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G6 extends M_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,E_(typeof t.type!="string");const g=q6(t);this.animation=H6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=V_(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):B6(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Rs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&z6()?(this.animation.timeline=t,ti):n(this)}}const fC={anticipate:HR,backInOut:FR,circInOut:GR};function K6(e){return e in fC}function Y6(e){typeof e.ease=="string"&&K6(e.ease)&&(e.ease=fC[e.ease])}const Wp=10;class $6 extends G6{constructor(t){Y6(t),aC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new O_({...c,autoplay:!1}),p=Math.max(Wp,pn.now()-this.startTime),g=Ji(0,Wp,p-Wp);n.setWithVelocity(d.sample(Math.max(0,p-g)).value,d.sample(p).value,g),d.stop()}}const AA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mr.test(e)||e==="0")&&!e.startsWith("url("));function Q6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X6(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=AA(a,t),d=AA(l,t);return!c||!d?!1:Q6(e)||(n==="spring"||hC(n))&&s}function Kg(e){e.duration=0,e.type="keyframes"}const W6=new Set(["opacity","clipPath","filter","transform"]),Z6=S_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J6(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Z6()&&n&&W6.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const t3=40;class e3 extends M_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const S={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,...v},R=y?.KeyframeResolver||N_;this.keyframeResolver=new R(d,(P,k,L)=>this.onKeyframesResolved(P,k,S,!L),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=pn.now(),X6(t,l,c,d)||((Ms.instantAnimations||!p)&&y?.(V_(t,s,n)),t[0]=t[t.length-1],Kg(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>t3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&J6(S)?new $6({...S,element:S.motionValue.owner.current}):new O_(S);R.finished.then(()=>this.notifyFinished()).catch(ti),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),k6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const n3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i3(e){const t=n3.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function dC(e,t,n=1){const[s,a]=i3(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return NR(c)?parseFloat(c):c}return R_(a)?dC(a,t,n+1):a}function P_(e,t){return e?.[t]??e?.default??e}const s3={type:"spring",stiffness:500,damping:25,restSpeed:10},r3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),a3={type:"keyframes",duration:.8},o3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l3=(e,{keyframes:t})=>t.length>2?a3:ml.has(e)?e.startsWith("scale")?r3(t[1]):s3:o3;function u3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const c3=e=>e!==null;function h3(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(c3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function mC(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const L_=(e,t,n,s={},a,l)=>c=>{const d=P_(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Rs(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};u3(d)||Object.assign(y,l3(e,y)),y.duration&&(y.duration=Rs(y.duration)),y.repeatDelay&&(y.repeatDelay=Rs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Kg(y),y.delay===0&&(v=!0)),(Ms.instantAnimations||Ms.skipAnimations)&&(v=!0,Kg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&t.get()!==void 0){const S=h3(y.keyframes,d);if(S!==void 0){ae.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new O_(y):new e3(y)},pC=new Set(["width","height","top","left","right","bottom",...dl]),bA=30,f3=e=>!isNaN(parseFloat(e));class d3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=f3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new A_);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bA);return kR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(e,t){return new d3(e,t)}function wA(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function k_(e,t,n,s){if(typeof t=="function"){const[a,l]=wA(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=wA(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Go(e,t,n){const s=e.getProps();return k_(s,t,n!==void 0?n:s.custom,e)}const Yg=e=>Array.isArray(e);function m3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,el(n))}function p3(e){return Yg(e)?e[e.length-1]||0:e}function g3(e,t){const n=Go(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=p3(l[c]);m3(e,c,d)}}const un=e=>!!(e&&e.getVelocity);function y3(e){return!!(un(e)&&e.add)}function $g(e,t){const n=e.getValue("willChange");if(y3(n))return n.add(t);if(!n&&Ms.WillChange){const s=new Ms.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function U_(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const _3="framerAppearId",gC="data-"+U_(_3);function yC(e){return e.props[gC]}function v3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function _C(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&v3(g,y))continue;const R={delay:n,...P_(l||{},y)},P=v.get();if(P!==void 0&&!v.isAnimating&&!Array.isArray(S)&&S===P&&!R.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const F=yC(e);if(F){const G=window.MotionHandoffAnimation(F,y,ae);G!==null&&(R.startTime=G,k=!0)}}$g(e,y),v.start(L_(y,v,S,e.shouldReduceMotion&&pC.has(y)?{type:!1}:R,e,k));const L=v.animation;L&&p.push(L)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&g3(e,c)})}),p}function Qg(e,t,n={}){const s=Go(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(_C(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return T3(e,t,p,g,y,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function T3(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Qg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+mC(e.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function E3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Qg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Qg(e,t,n);else{const a=typeof t=="function"?Go(e,t,n.custom):t;s=Promise.all(_C(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const S3={test:e=>e==="auto",parse:e=>e},vC=e=>t=>t.test(e),TC=[fl,dt,Xi,dr,QU,$U,S3],RA=e=>TC.find(vC(e));function A3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||LR(e):!0}const b3=new Set(["brightness","contrast","saturate","opacity"]);function w3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(C_)||[];if(!s)return e;const a=n.replace(s,"");let l=b3.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const R3=/\b([a-z-]*)\(.*?\)/gu,Xg={...Mr,getAnimatableNone:e=>{const t=e.match(R3);return t?t.map(w3).join(" "):e}},CA={...fl,transform:Math.round},C3={rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:dr,skewX:dr,skewY:dr,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:ec,originX:dA,originY:dA,originZ:dt},B_={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,inset:dt,insetBlock:dt,insetBlockStart:dt,insetBlockEnd:dt,insetInline:dt,insetInlineStart:dt,insetInlineEnd:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,paddingBlock:dt,paddingBlockStart:dt,paddingBlockEnd:dt,paddingInline:dt,paddingInlineStart:dt,paddingInlineEnd:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,marginBlock:dt,marginBlockStart:dt,marginBlockEnd:dt,marginInline:dt,marginInlineStart:dt,marginInlineEnd:dt,backgroundPositionX:dt,backgroundPositionY:dt,...C3,zIndex:CA,fillOpacity:ec,strokeOpacity:ec,numOctaves:CA},I3={...B_,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Xg,WebkitFilter:Xg},EC=e=>I3[e];function SC(e,t){let n=EC(e);return n!==Xg&&(n=Mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const D3=new Set(["auto","none","0"]);function x3(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!D3.has(l)&&nc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=SC(n,a)}class V3 extends N_{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),R_(v))){const S=dC(v,n.current);S!==void 0&&(t[y]=S),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!pC.has(s)||t.length!==2)return;const[a,l]=t,c=RA(a),d=RA(l),p=fA(a),g=fA(l);if(p!==g&&vr[s]){this.needsMeasurement=!0;return}if(c!==d)if(EA(c)&&EA(d))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else vr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||A3(t[a]))&&s.push(a);s.length&&x3(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=vr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function M3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const AC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function O3(e){return PR(e)&&"offsetHeight"in e}const{schedule:z_}=$R(queueMicrotask,!1),pi={x:!1,y:!1};function bC(){return pi.x||pi.y}function N3(e){return e==="x"||e==="y"?pi[e]?null:(pi[e]=!0,()=>{pi[e]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function wC(e,t){const n=M3(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function IA(e){return!(e.pointerType==="touch"||bC())}function P3(e,t,n={}){const[s,a,l]=wC(e,n),c=d=>{if(!IA(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=v=>{IA(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const RC=(e,t)=>t?e===t?!0:RC(e,t.parentElement):!1,j_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,L3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CC(e){return L3.has(e.tagName)||e.isContentEditable===!0}const Af=new WeakSet;function DA(e){return t=>{t.key==="Enter"&&e(t)}}function Zp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const k3=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=DA(()=>{if(Af.has(n))return;Zp(n,"down");const a=DA(()=>{Zp(n,"up")}),l=()=>Zp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function xA(e){return j_(e)&&!bC()}function U3(e,t,n={}){const[s,a,l]=wC(e,n),c=d=>{const p=d.currentTarget;if(!xA(d))return;Af.add(p);const g=t(p,d),y=(R,P)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",S),Af.has(p)&&Af.delete(p),xA(R)&&typeof g=="function"&&g(R,{success:P})},v=R=>{y(R,p===window||p===document||n.useGlobalTarget||RC(p,R.target))},S=R=>{y(R,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),O3(d)&&(d.addEventListener("focus",g=>k3(g,a)),!CC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function IC(e){return PR(e)&&"ownerSVGElement"in e}function B3(e){return IC(e)&&e.tagName==="svg"}const z3=[...TC,Ne,Mr],j3=e=>z3.find(vC(e)),VA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:VA(),y:VA()}),MA=()=>({min:0,max:0}),ze=()=>({x:MA(),y:MA()}),Wg={current:null},DC={current:!1},F3=typeof window<"u";function H3(){if(DC.current=!0,!!F3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wg.current=e.matches;e.addEventListener("change",t),t()}else Wg.current=!1}const q3=new WeakMap;function Ed(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ic(e){return typeof e=="string"||Array.isArray(e)}const F_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H_=["initial",...F_];function Sd(e){return Ed(e.animate)||H_.some(t=>ic(e[t]))}function xC(e){return!!(Sd(e)||e.variants)}function G3(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,el(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,el(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const OA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Xf={};function VC(e){Xf=e}function K3(){return Xf}class Y3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=N_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=pn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Sd(n),this.isVariantNode=xC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const R=v[S];p[S]!==void 0&&un(R)&&R.set(p[S])}}mount(t){this.current=t,q3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(DC.current||H3(),this.shouldReduceMotion=Wg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ml.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xf){const n=Xf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<OA.length;s++){const a=OA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=G3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=el(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(NR(s)||LR(s))?s=parseFloat(s):!j3(s)&&Mr.test(n)&&(s=SC(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=k_(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new A_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){z_.render(this.render)}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MC extends Y3{constructor(){super(...arguments),this.KeyframeResolver=V3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function $3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Jp(e){return e===void 0||e===1}function Zg({scale:e,scaleX:t,scaleY:n}){return!Jp(e)||!Jp(t)||!Jp(n)}function _a(e){return Zg(e)||NC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function NC(e){return NA(e.x)||NA(e.y)}function NA(e){return e&&e!=="0%"}function Wf(e,t,n){const s=e-n,a=t*s;return n+a}function PA(e,t,n,s,a){return a!==void 0&&(e=Wf(e,a,s)),Wf(e,n,s)+t}function Jg(e,t=0,n=1,s,a){e.min=PA(e.min,t,n,s,a),e.max=PA(e.max,t,n,s,a)}function PC(e,{x:t,y:n}){Jg(e.x,t.translate,t.scale,t.originPoint),Jg(e.y,n.translate,n.scale,n.originPoint)}const LA=.999999999999,kA=1.0000000000001;function X3(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Uo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,PC(e,c)),s&&_a(l.latestValues)&&Uo(e,l.latestValues))}t.x<kA&&t.x>LA&&(t.x=1),t.y<kA&&t.y>LA&&(t.y=1)}function ko(e,t){e.min=e.min+t,e.max=e.max+t}function UA(e,t,n,s,a=.5){const l=he(e.min,e.max,a);Jg(e,t,n,l,s)}function Uo(e,t){UA(e.x,t.x,t.scaleX,t.scale,t.originX),UA(e.y,t.y,t.scaleY,t.scale,t.originY)}function LC(e,t){return OC(Q3(e.getBoundingClientRect(),t))}function W3(e,t,n){const s=LC(e,n),{scroll:a}=t;return a&&(ko(s.x,a.offset.x),ko(s.y,a.offset.y)),s}const Z3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J3=dl.length;function t5(e,t,n){let s="",a=!0;for(let l=0;l<J3;l++){const c=dl[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=AC(d,B_[c]);if(!p){a=!1;const y=Z3[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function q_(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(ml.has(p)){c=!0;continue}else if(XR(p)){a[p]=g;continue}else{const y=AC(g,B_[p]);p.startsWith("origin")?(d=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=t5(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}function kC(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function BA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dt.test(e))e=parseFloat(e);else return e;const n=BA(e,t.target.x),s=BA(e,t.target.y);return`${n}% ${s}%`}},e5={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Mr.parse(e);if(a.length>5)return s;const l=Mr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=p;const g=he(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},ty={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:e5};function UC(e,{layout:t,layoutId:n}){return ml.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ty[e]||e==="opacity")}function G_(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||UC(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function n5(e){return window.getComputedStyle(e)}class i5 extends MC{constructor(){super(...arguments),this.type="html",this.renderInstance=kC}readValueFromInstance(t,n){if(ml.has(n))return this.projection?.isProjecting?jg(n):M6(t,n);{const s=n5(t),a=(XR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LC(t,n)}build(t,n,s){q_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return G_(t,n,s)}}const s5={offset:"stroke-dashoffset",array:"stroke-dasharray"},r5={offset:"strokeDashoffset",array:"strokeDasharray"};function a5(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?s5:r5;e[l.offset]=dt.transform(-s);const c=dt.transform(t),d=dt.transform(n);e[l.array]=`${c} ${d}`}const o5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function BC(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(q_(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:S}=e;v.transform&&(S.transform=v.transform,delete v.transform),(S.transform||v.transformOrigin)&&(S.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const R of o5)v[R]!==void 0&&(S[R]=v[R],delete v[R]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&a5(v,a,l,c,!1)}const zC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),jC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function l5(e,t,n,s){kC(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(zC.has(a)?a:U_(a),t.attrs[a])}function FC(e,t,n){const s=G_(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class u5 extends MC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ml.has(n)){const s=EC(n);return s&&s.default||0}return n=zC.has(n)?n:U_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return FC(t,n,s)}build(t,n,s){BC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){l5(t,n,s,a)}mount(t){this.isSVGTag=jC(t.tagName),super.mount(t)}}const c5=H_.length;function HC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?HC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<c5;n++){const s=H_[n],a=e.props[s];(ic(a)||a===!1)&&(t[s]=a)}return t}function qC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const h5=[...F_].reverse(),f5=F_.length;function d5(e){return t=>Promise.all(t.map(({animation:n,options:s})=>E3(e,n,s)))}function m5(e){let t=d5(e),n=zA(),s=!0;const a=p=>(g,y)=>{const v=Go(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:S,transitionEnd:R,...P}=v;g={...g,...P,...R}}return g};function l(p){t=p(e)}function c(p){const{props:g}=e,y=HC(e.parent)||{},v=[],S=new Set;let R={},P=1/0;for(let L=0;L<f5;L++){const F=h5[L],G=n[F],Y=g[F]!==void 0?g[F]:y[F],at=ic(Y),rt=F===p?G.isActive:null;rt===!1&&(P=L);let ut=Y===y[F]&&Y!==g[F]&&at;if(ut&&s&&e.manuallyAnimateOnMount&&(ut=!1),G.protectedKeys={...R},!G.isActive&&rt===null||!Y&&!G.prevProp||Ed(Y)||typeof Y=="boolean")continue;const C=p5(G.prevProp,Y);let w=C||F===p&&G.isActive&&!ut&&at||L>P&&at,I=!1;const M=Array.isArray(Y)?Y:[Y];let V=M.reduce(a(F),{});rt===!1&&(V={});const{prevResolvedValues:z={}}=G,D={...z,...V},te=st=>{w=!0,S.has(st)&&(I=!0,S.delete(st)),G.needsAnimating[st]=!0;const mt=e.getValue(st);mt&&(mt.liveStyle=!1)};for(const st in D){const mt=V[st],It=z[st];if(R.hasOwnProperty(st))continue;let Ot=!1;Yg(mt)&&Yg(It)?Ot=!qC(mt,It):Ot=mt!==It,Ot?mt!=null?te(st):S.add(st):mt!==void 0&&S.has(st)?te(st):G.protectedKeys[st]=!0}G.prevProp=Y,G.prevResolvedValues=V,G.isActive&&(R={...R,...V}),s&&e.blockInitialAnimation&&(w=!1);const de=ut&&C;w&&(!de||I)&&v.push(...M.map(st=>{const mt={type:F};if(typeof st=="string"&&s&&!de&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Ot=Go(It,st);if(It.enteringChildren&&Ot){const{delayChildren:N}=Ot.transition||{};mt.delay=mC(It.enteringChildren,e,N)}}return{animation:st,options:mt}}))}if(S.size){const L={};if(typeof g.initial!="boolean"){const F=Go(e,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(L.transition=F.transition)}S.forEach(F=>{const G=e.getBaseTarget(F),Y=e.getValue(F);Y&&(Y.liveStyle=!0),L[F]=G??null}),v.push({animation:L})}let k=!!v.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(v):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),n[p].isActive=g;const y=c(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=zA()}}}function p5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qC(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zA(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}const GC=1e-4,g5=1-GC,y5=1+GC,KC=.01,_5=0-KC,v5=0+KC;function gn(e){return e.max-e.min}function T5(e,t,n){return Math.abs(e-t)<=n}function jA(e,t,n,s=.5){e.origin=s,e.originPoint=he(t.min,t.max,e.origin),e.scale=gn(n)/gn(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=g5&&e.scale<=y5||isNaN(e.scale))&&(e.scale=1),(e.translate>=_5&&e.translate<=v5||isNaN(e.translate))&&(e.translate=0)}function ju(e,t,n,s){jA(e.x,t.x,n.x,s?s.originX:void 0),jA(e.y,t.y,n.y,s?s.originY:void 0)}function FA(e,t,n){e.min=n.min+t.min,e.max=e.min+gn(t)}function E5(e,t,n){FA(e.x,t.x,n.x),FA(e.y,t.y,n.y)}function HA(e,t,n){e.min=t.min-n.min,e.max=e.min+gn(t)}function Zf(e,t,n){HA(e.x,t.x,n.x),HA(e.y,t.y,n.y)}function qA(e,t,n,s,a){return e-=t,e=Wf(e,1/n,s),a!==void 0&&(e=Wf(e,1/a,s)),e}function S5(e,t=0,n=1,s=.5,a,l=e,c=e){if(Xi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=he(l.min,l.max,s);e===l&&(d-=t),e.min=qA(e.min,t,n,d,a),e.max=qA(e.max,t,n,d,a)}function GA(e,t,[n,s,a],l,c){S5(e,t[n],t[s],t[a],t.scale,l,c)}const A5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function KA(e,t,n,s){GA(e.x,t,A5,n?n.x:void 0,s?s.x:void 0),GA(e.y,t,b5,n?n.y:void 0,s?s.y:void 0)}function YA(e,t){e.min=t.min,e.max=t.max}function mi(e,t){YA(e.x,t.x),YA(e.y,t.y)}function $A(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function QA(e){return e.translate===0&&e.scale===1}function YC(e){return QA(e.x)&&QA(e.y)}function XA(e,t){return e.min===t.min&&e.max===t.max}function w5(e,t){return XA(e.x,t.x)&&XA(e.y,t.y)}function WA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $C(e,t){return WA(e.x,t.x)&&WA(e.y,t.y)}function ZA(e){return gn(e.x)/gn(e.y)}function JA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Qn(e){return[e("x"),e("y")]}function R5(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:S,skewX:R,skewY:P}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const QC=["TopLeft","TopRight","BottomLeft","BottomRight"],C5=QC.length,tb=e=>typeof e=="string"?parseFloat(e):e,eb=e=>typeof e=="number"||dt.test(e);function I5(e,t,n,s,a,l){a?(e.opacity=he(0,n.opacity??1,D5(s)),e.opacityExit=he(t.opacity??1,0,x5(s))):l&&(e.opacity=he(t.opacity??1,n.opacity??1,s));for(let c=0;c<C5;c++){const d=`border${QC[c]}Radius`;let p=nb(t,d),g=nb(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||eb(p)===eb(g)?(e[d]=Math.max(he(tb(p),tb(g),s),0),(Xi.test(g)||Xi.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,s))}function nb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const D5=XC(0,.5,qR),x5=XC(.5,.95,ti);function XC(e,t,n){return s=>s<e?0:s>t?1:n(tc(e,t,s))}function V5(e,t){const n=pn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Vr(s),e(l-t))};return ae.setup(s,!0),()=>Vr(s)}function sc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function bf(e){return un(e)?e.get():e}function M5(e,t,n){const s=un(e)?e:el(e);return s.start(L_("",s,t,n)),s.animation}const O5=(e,t)=>e.depth-t.depth;class N5{constructor(){this.children=[],this.isDirty=!1}add(t){v_(this.children,t),this.isDirty=!0}remove(t){T_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(O5),this.isDirty=!1,this.children.forEach(t)}}class P5{constructor(){this.members=[]}add(t){v_(this.members,t),t.scheduleRender()}remove(t){if(T_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},tg=["","X","Y","Z"],L5=1e3;let k5=0;function eg(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function WC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=yC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&WC(s)}function ZC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=k5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z5),this.nodes.forEach(q5),this.nodes.forEach(G5),this.nodes.forEach(j5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new N5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new A_),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=IC(c)&&!B3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{v=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==v&&(v=R,this.root.updateBlockedByResize=!0,y&&y(),y=V5(S,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(rb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||X5,{onLayoutAnimationStart:k,onLayoutAnimationComplete:L}=g.getProps(),F=!this.targetLayout||!$C(this.targetLayout,R),G=!v&&S;if(this.options.layoutRoot||this.resumeFrom||G||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...P_(P,"layout"),onPlay:k,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,G)}else v||rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ib);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(H5),this.nodes.forEach(U5),this.nodes.forEach(B5)):this.nodes.forEach(sb),this.clearAllSnapshots();const d=pn.now();tn.delta=Ji(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,Kp.update.process(tn),Kp.preRender.process(tn),Kp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F5),this.sharedNodes.forEach(Y5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),W5(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ze();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Z5))){const{scroll:g}=this.root;g&&(ko(d.x,g.offset.x),ko(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ze();if(mi(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&mi(d,c),ko(d.x,y.offset.x),ko(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=ze();mi(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Uo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&Uo(p,y.latestValues)}return _a(this.latestValues)&&Uo(p,this.latestValues),p}removeTransform(c){const d=ze();mi(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!_a(g.latestValues))continue;Zg(g.latestValues)&&g.updateSnapshot();const y=ze(),v=g.measurePageBox();mi(y,v),KA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&KA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=tn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zg(this.parent.latestValues)||NC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Zf(this.relativeTargetOrigin,d,p),mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;mi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;X3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($A(this.prevProjectionDelta.x,this.projectionDelta.x),$A(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!JA(this.projectionDelta.x,this.prevProjectionDelta.x)||!JA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ze(),R=p?p.source:void 0,P=this.layout?this.layout.source:void 0,k=R!==P,L=this.getStack(),F=!L||L.members.length<=1,G=!!(k&&!F&&this.options.crossfade===!0&&!this.path.some(Q5));this.animationProgress=0;let Y;this.mixTargetDelta=at=>{const rt=at/1e3;ab(v.x,c.x,rt),ab(v.y,c.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$5(this.relativeTarget,this.relativeTargetOrigin,S,rt),Y&&w5(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ze()),mi(Y,this.relativeTarget)),k&&(this.animationValues=y,I5(y,g,this.latestValues,rt,G,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=M5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&JC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ze();const v=gn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const S=gn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}mi(d,p),Uo(d,y),ju(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new P5),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&eg("z",c,g,this.animationValues);for(let y=0;y<tg.length;y++)eg(`rotate${tg[y]}`,c,g,this.animationValues),eg(`skew${tg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=bf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=bf(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=R5(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:S,y:R}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in ty){if(y[P]===void 0)continue;const{correct:k,applyTo:L,isCSSVariable:F}=ty[P],G=v==="none"?y[P]:k(y[P],g);if(L){const Y=L.length;for(let at=0;at<Y;at++)c[L[at]]=G}else F?this.options.visualElement.renderState.vars[P]=G:c[P]=G}this.options.layoutId&&(c.pointerEvents=g===this?bf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(ib),this.root.sharedNodes.clear()}}}function U5(e){e.updateLayout()}function B5(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Qn(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],S=gn(v);v.min=n[y].min,v.max=v.min+S}):JC(a,t.layoutBox,n)&&Qn(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],S=gn(n[y]);v.max=v.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Lo();ju(c,n,t.layoutBox);const d=Lo();l?ju(d,e.applyTransform(s,!0),t.measuredBox):ju(d,n,t.layoutBox);const p=!YC(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const R=ze();Zf(R,t.layoutBox,v.layoutBox);const P=ze();Zf(P,n,S.layoutBox),$C(R,P)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function z5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F5(e){e.clearSnapshot()}function ib(e){e.clearMeasurements()}function sb(e){e.isLayoutDirty=!1}function H5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function q5(e){e.resolveTargetDelta()}function G5(e){e.calcProjection()}function K5(e){e.resetSkewAndRotation()}function Y5(e){e.removeLeadSnapshot()}function ab(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ob(e,t,n,s){e.min=he(t.min,n.min,s),e.max=he(t.max,n.max,s)}function $5(e,t,n,s){ob(e.x,t.x,n.x,s),ob(e.y,t.y,n.y,s)}function Q5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X5={duration:.45,ease:[.4,0,.1,1]},lb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ub=lb("applewebkit/")&&!lb("chrome/")?Math.round:ti;function cb(e){e.min=ub(e.min),e.max=ub(e.max)}function W5(e){cb(e.x),cb(e.y)}function JC(e,t,n){return e==="position"||e==="preserve-aspect"&&!T5(ZA(t),ZA(n),.2)}function Z5(e){return e!==e.root&&e.scroll?.wasRoot}const J5=ZC({attachResizeListener:(e,t)=>sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},tI=ZC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ng.current){const e=new J5({});e.mount(window),e.setOptions({layoutScroll:!0}),ng.current=e}return ng.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eI=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function t9(e=!0){const t=U.useContext(__);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const nI=U.createContext({strict:!1}),hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let fb=!1;function e9(){if(fb)return;const e={};for(const t in hb)e[t]={isEnabled:n=>hb[t].some(s=>!!n[s])};VC(e),fb=!0}function iI(){return e9(),K3()}function n9(e){const t=iI();for(const n in e)t[n]={...t[n],...e[n]};VC(t)}const i9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i9.has(e)}let sI=e=>!Jf(e);function s9(e){typeof e=="function"&&(sI=t=>t.startsWith("on")?!Jf(t):e(t))}try{s9(require("@emotion/is-prop-valid").default)}catch{}function r9(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(sI(a)||n===!0&&Jf(a)||!t&&!Jf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Ad=U.createContext({});function a9(e,t){if(Sd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ic(n)?n:void 0,animate:ic(s)?s:void 0}}return e.inherit!==!1?t:{}}function o9(e){const{initial:t,animate:n}=a9(e,U.useContext(Ad));return U.useMemo(()=>({initial:t,animate:n}),[db(t),db(n)])}function db(e){return Array.isArray(e)?e.join(" "):e}const K_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rI(e,t,n){for(const s in t)!un(t[s])&&!UC(s,n)&&(e[s]=t[s])}function l9({transformTemplate:e},t){return U.useMemo(()=>{const n=K_();return q_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function u9(e,t){const n=e.style||{},s={};return rI(s,n,e),Object.assign(s,l9(e,t)),s}function c9(e,t){const n={},s=u9(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const aI=()=>({...K_(),attrs:{}});function h9(e,t,n,s){const a=U.useMemo(()=>{const l=aI();return BC(l,t,jC(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};rI(l,e.style,e),a.style={...l,...a.style}}return a}const f9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y_(e){return typeof e!="string"||e.includes("-")?!1:!!(f9.indexOf(e)>-1||/[A-Z]/u.test(e))}function d9(e,t,n,{latestValues:s},a,l=!1,c){const p=(c??Y_(e)?h9:c9)(t,s,a,e),g=r9(t,typeof e=="string",l),y=e!==U.Fragment?{...g,...p,ref:n}:{},{children:v}=t,S=U.useMemo(()=>un(v)?v.get():v,[v]);return U.createElement(e,{...y,children:S})}function m9({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:p9(n,s,a,e),renderState:t()}}function p9(e,t,n,s){const a={},l=s(e,{});for(const S in l)a[S]=bf(l[S]);let{initial:c,animate:d}=e;const p=Sd(e),g=xC(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!Ed(v)){const S=Array.isArray(v)?v:[v];for(let R=0;R<S.length;R++){const P=k_(e,S[R]);if(P){const{transitionEnd:k,transition:L,...F}=P;for(const G in F){let Y=F[G];if(Array.isArray(Y)){const at=y?Y.length-1:0;Y=Y[at]}Y!==null&&(a[G]=Y)}for(const G in k)a[G]=k[G]}}}return a}const oI=e=>(t,n)=>{const s=U.useContext(Ad),a=U.useContext(__),l=()=>m9(e,t,s,a);return n?l():IU(l)},g9=oI({scrapeMotionValuesFromProps:G_,createRenderState:K_}),y9=oI({scrapeMotionValuesFromProps:FC,createRenderState:aI}),_9=Symbol.for("motionComponentSymbol");function v9(e,t,n){const s=U.useRef(n);U.useInsertionEffect(()=>{s.current=n});const a=U.useRef(null);return U.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const lI=U.createContext({});function xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function T9(e,t,n,s,a,l){const{visualElement:c}=U.useContext(Ad),d=U.useContext(nI),p=U.useContext(__),g=U.useContext(eI).reducedMotion,y=U.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(e,{visualState:t,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:l}));const v=y.current,S=U.useContext(lI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&E9(y.current,n,a,S);const R=U.useRef(!1);U.useInsertionEffect(()=>{v&&R.current&&v.update(n,p)});const P=n[gC],k=U.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return DU(()=>{v&&(R.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),k.current=!1),v.enteringChildren=void 0)}),v}function E9(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uI(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&xu(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function uI(e){if(e)return e.options.allowProjection!==!1?e.projection:uI(e.parent)}function ig(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&n9(s);const l=n?n==="svg":Y_(e),c=l?y9:g9;function d(g,y){let v;const S={...U.useContext(eI),...g,layoutId:S9(g)},{isStatic:R}=S,P=o9(g),k=c(g,R);if(!R&&OR){A9();const L=b9(S);v=L.MeasureLayout,P.visualElement=T9(e,k,S,a,L.ProjectionNode,l)}return it.jsxs(Ad.Provider,{value:P,children:[v&&P.visualElement?it.jsx(v,{visualElement:P.visualElement,...S}):null,d9(e,g,v9(k,P.visualElement,y),k,R,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=U.forwardRef(d);return p[_9]=e,p}function S9({layoutId:e}){const t=U.useContext(MR).id;return t&&e!==void 0?t+"-"+e:e}function A9(e,t){U.useContext(nI).strict}function b9(e){const t=iI(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function w9(e,t){if(typeof Proxy>"u")return ig;const n=new Map,s=(l,c)=>ig(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ig(c,void 0,e,t)),n.get(c))})}const R9=(e,t)=>t.isSVG??Y_(e)?new u5(t):new i5(t,{allowProjection:e!==U.Fragment});class C9 extends Ur{constructor(t){super(t),t.animationState||(t.animationState=m5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ed(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I9=0;class D9 extends Ur{constructor(){super(...arguments),this.id=I9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x9={animation:{Feature:C9},exit:{Feature:D9}};function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}const V9=e=>t=>j_(t)&&e(t,Tc(t));function Fu(e,t,n,s){return sc(e,t,V9(n),s)}const cI=({current:e})=>e?e.ownerDocument.defaultView:null,mb=(e,t)=>Math.abs(e-t);function M9(e,t){const n=mb(e.x,t.x),s=mb(e.y,t.y);return Math.sqrt(n**2+s**2)}const pb=new Set(["auto","scroll"]);class hI{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=rg(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,k=M9(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!k)return;const{point:L}=R,{timestamp:F}=tn;this.history.push({...L,timestamp:F});const{onStart:G,onMove:Y}=this.handlers;P||(G&&G(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,R)},this.handlePointerMove=(R,P)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=sg(P,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(R,P)=>{this.end();const{onEnd:k,onSessionEnd:L,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=rg(R.type==="pointercancel"?this.lastMoveEventInfo:sg(P,this.transformPagePoint),this.history);this.startEvent&&k&&k(R,G),L&&L(R,G)},!j_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=Tc(t),g=sg(p,this.transformPagePoint),{point:y}=g,{timestamp:v}=tn;this.history=[{...y,timestamp:v}];const{onSessionStart:S}=n;S&&S(t,rg(g,this.history)),this.removeListeners=yc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(pb.has(s.overflowX)||pb.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vr(this.updatePoint)}}function sg(e,t){return t?{point:t(e.point)}:e}function gb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rg({point:e},t){return{point:e,delta:gb(e,fI(t)),offset:gb(e,O9(t)),velocity:N9(t,.1)}}function O9(e){return e[0]}function fI(e){return e[e.length-1]}function N9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=fI(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Rs(t)));)n--;if(!s)return{x:0,y:0};const l=Jn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function P9(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?he(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?he(n,e,s.max):Math.min(e,n)),e}function yb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function L9(e,{top:t,left:n,bottom:s,right:a}){return{x:yb(e.x,n,a),y:yb(e.y,t,s)}}function _b(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function k9(e,t){return{x:_b(e.x,t.x),y:_b(e.y,t.y)}}function U9(e,t){let n=.5;const s=gn(e),a=gn(t);return a>s?n=tc(t.min,t.max-s,e.min):s>a&&(n=tc(e.min,e.max-a,t.min)),Ji(0,1,n)}function B9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ey=.35;function z9(e=ey){return e===!1?e=0:e===!0&&(e=ey),{x:vb(e,"left","right"),y:vb(e,"top","bottom")}}function vb(e,t,n){return{min:Tb(e,t),max:Tb(e,n)}}function Tb(e,t){return typeof e=="number"?e:e[t]||0}const j9=new WeakMap;class F9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Tc(v).point)):this.pauseAnimation()},c=(v,S)=>{this.stopAnimation();const{drag:R,dragPropagation:P,onDragStart:k}=this.getProps();if(R&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N3(R),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(F=>{let G=this.getAxisMotionValue(F).get()||0;if(Xi.test(G)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const at=Y.layout.layoutBox[F];at&&(G=gn(at)*(parseFloat(G)/100))}}this.originPoint[F]=G}),k&&ae.postRender(()=>k(v,S)),$g(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:P,onDirectionLock:k,onDrag:L}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:F}=S;if(P&&this.currentDirection===null){this.currentDirection=H9(F),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",S.point,F),this.updateAxis("y",S.point,F),this.visualElement.render(),L&&L(v,S)},p=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S,this.stop(v,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Qn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hI(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:cI(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!lf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=P9(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=L9(s.layoutBox,t):this.constraints=!1,this.elastic=z9(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=B9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xu(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=W3(s,a.root,this.visualElement.getTransformPagePoint());let c=k9(a.layout.layoutBox,l);if(n){const d=n($3(c));this.hasMutatedConstraints=!!d,d&&(c=OC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Qn(y=>{if(!lf(y,n,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const S=a?200:1e6,R=a?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return $g(this.visualElement,t),s.start(L_(t,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:s}=this.getProps();if(!lf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],p=l.get()||0;l.set(t[n]-he(c,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=U9({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!lf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(he(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;j9.set(this.visualElement,this);const t=this.visualElement.current,n=Fu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&!CC(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();xu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=sc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Qn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ey,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function lf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class q9 extends Ur{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new F9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Eb=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class G9 extends Ur{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new hI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Eb(t),onStart:Eb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ag=!1;class K9 extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),ag&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,ag=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;ag=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dI(e){const[t,n]=t9(),s=U.useContext(MR);return it.jsx(K9,{...e,layoutGroup:s,switchLayoutGroup:U.useContext(lI),isPresent:t,safeToRemove:n})}const Y9={pan:{Feature:G9},drag:{Feature:q9,ProjectionNode:tI,MeasureLayout:dI}};function Sb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ae.postRender(()=>l(t,Tc(t)))}class $9 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=P3(t,(n,s)=>(Sb(this.node,s,"Start"),a=>Sb(this.node,a,"End"))))}unmount(){}}class Q9 extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ab(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ae.postRender(()=>l(t,Tc(t)))}class X9 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=U3(t,(n,s)=>(Ab(this.node,s,"Start"),(a,{success:l})=>Ab(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ny=new WeakMap,og=new WeakMap,W9=e=>{const t=ny.get(e.target);t&&t(e)},Z9=e=>{e.forEach(W9)};function J9({root:e,...t}){const n=e||document;og.has(n)||og.set(n,{});const s=og.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Z9,{root:e,...t})),s[a]}function tB(e,t,n){const s=J9(t);return ny.set(e,n),s.observe(e),()=>{ny.delete(e),s.unobserve(e)}}const eB={some:0,all:1};class nB extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:eB[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),S=g?y:v;S&&S(p)};return tB(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iB(t,n))&&this.startObserver()}unmount(){}}function iB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const sB={inView:{Feature:nB},tap:{Feature:X9},focus:{Feature:Q9},hover:{Feature:$9}},rB={layout:{ProjectionNode:tI,MeasureLayout:dI}},aB={...x9,...sB,...Y9,...rB},nl=w9(aB,R9),oB=()=>{const{user:e}=Lr();return it.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[it.jsxs("h1",{className:"title-gradient",style:{fontSize:"3rem",marginBottom:"1rem"},children:[", ",e?.displayName,"!"]}),it.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem",marginBottom:"3rem"},children:"     ."}),it.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[it.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[it.jsx("h3",{style:{marginBottom:"15px"},children:"  "}),it.jsx("p",{style:{color:"var(--text-muted)"},children:"  ."})]}),it.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[it.jsx("h3",{style:{marginBottom:"15px"},children:"  "}),it.jsx("p",{style:{color:"var(--text-muted)"},children:"   ."})]}),it.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[it.jsx("h3",{style:{marginBottom:"15px"},children:"  "}),it.jsx("p",{style:{color:"var(--text-muted)"},children:"   ."})]})]})]})},lB=()=>{const{loginWithGoogle:e}=Lr();return it.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #6366f1, transparent), radial-gradient(circle at bottom left, #a855f7, transparent)"},children:it.jsxs(nl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{padding:"50px",width:"400px",textAlign:"center"},children:[it.jsx("h1",{className:"title-gradient",style:{fontSize:"2.5rem",marginBottom:"10px"},children:" "}),it.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"40px"},children:"   ."}),it.jsx("button",{onClick:e,className:"btn-primary",style:{width:"100%",padding:"15px",fontSize:"1.1rem"},children:"Google "})]})})},uB=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(""),{user:a}=Lr();U.useEffect(()=>{const c=s_(Jo(tl,"notices"),l_("createdAt","desc"));return h_(c,p=>{t(p.docs.map(g=>({id:g.id,...g.data()})))})},[]);const l=async c=>{if(c.preventDefault(),!!n.trim())try{await c_(Jo(tl,"notices"),{content:n,author:a.displayName,createdAt:e_()}),s("")}catch(d){console.error(d)}};return it.jsxs(nl.div,{initial:{opacity:0},animate:{opacity:1},children:[it.jsx("h1",{className:"title-gradient",style:{marginBottom:"2rem"},children:" "}),it.jsx("div",{className:"glass-card",style:{padding:"24px",marginBottom:"30px"},children:it.jsxs("form",{onSubmit:l,style:{display:"flex",gap:"12px"},children:[it.jsx("input",{type:"text",placeholder:"  ...",value:n,onChange:c=>s(c.target.value),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"12px 16px",color:"white",outline:"none"}}),it.jsxs("button",{type:"submit",className:"btn-primary",style:{display:"flex",alignItems:"center"},children:[it.jsx(EU,{size:20,style:{marginRight:"8px"}})," "]})]})}),it.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:e.map(c=>it.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[it.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[it.jsx(VR,{size:16,style:{color:"var(--primary)",marginRight:"8px"}}),it.jsx("span",{style:{fontWeight:600},children:c.author}),it.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem",color:"var(--text-muted)"},children:c.createdAt?.toDate().toLocaleDateString()})]}),it.jsx("p",{children:c.content})]},c.id))})]})},cB=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!1),{user:a}=Lr();U.useEffect(()=>{const c=s_(Jo(tl,"gallery"),l_("createdAt","desc"));return h_(c,p=>{t(p.docs.map(g=>({id:g.id,...g.data()})))})},[]);const l=async c=>{const d=c.target.files[0];if(d){s(!0);try{const p=W4(iU,`gallery/${Date.now()}_${d.name}`);await Q4(p,d);const g=await X4(p);await c_(Jo(tl,"gallery"),{url:g,author:a.displayName,createdAt:e_()})}catch(p){console.error(p)}finally{s(!1)}}};return it.jsxs(nl.div,{initial:{opacity:0},animate:{opacity:1},children:[it.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[it.jsx("h1",{className:"title-gradient",children:" "}),it.jsxs("label",{className:"btn-primary",style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[it.jsx(wU,{size:20,style:{marginRight:"8px"}}),n?" ...":" ",it.jsx("input",{type:"file",hidden:!0,onChange:l,disabled:n,accept:"image/*"})]})]}),it.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"20px"},children:e.map(c=>it.jsxs(nl.div,{whileHover:{scale:1.05},className:"glass-card",style:{overflow:"hidden",height:"300px",display:"flex",flexDirection:"column"},children:[it.jsx("img",{src:c.url,alt:"gallery",style:{width:"100%",height:"220px",objectFit:"cover"}}),it.jsxs("div",{style:{padding:"15px",flex:1},children:[it.jsx("p",{style:{fontWeight:600,fontSize:"0.9rem"},children:c.author}),it.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:c.createdAt?.toDate().toLocaleDateString()})]})]},c.id))})]})},hB=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(""),{user:a}=Lr(),l=U.useRef();U.useEffect(()=>{const d=s_(Jo(tl,"messages"),l_("createdAt","asc"),kk(50));return h_(d,g=>{t(g.docs.map(y=>({id:y.id,...y.data()}))),setTimeout(()=>l.current?.scrollIntoView({behavior:"smooth"}),100)})},[]);const c=async d=>{if(d.preventDefault(),!!n.trim())try{await c_(Jo(tl,"messages"),{text:n,authorId:a.uid,authorName:a.displayName,authorPhoto:a.photoURL,createdAt:e_()}),s("")}catch(p){console.error(p)}};return it.jsxs(nl.div,{initial:{opacity:0},animate:{opacity:1},style:{height:"calc(100vh - 80px)",display:"flex",flexDirection:"column"},children:[it.jsx("h1",{className:"title-gradient",style:{marginBottom:"1.5rem"},children:"  "}),it.jsxs("div",{className:"glass-card",style:{flex:1,marginBottom:"20px",padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"16px"},children:[e.map(d=>it.jsxs("div",{style:{display:"flex",flexDirection:a.uid===d.authorId?"row-reverse":"row",alignItems:"flex-end",gap:"8px"},children:[it.jsx("img",{src:d.authorPhoto,alt:"p",style:{width:"32px",height:"32px",borderRadius:"50%"}}),it.jsxs("div",{style:{maxWidth:"70%"},children:[it.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"4px",textAlign:a.uid===d.authorId?"right":"left"},children:d.authorName}),it.jsx("div",{style:{padding:"10px 16px",borderRadius:"16px",background:a.uid===d.authorId?"var(--primary)":"rgba(255,255,255,0.1)",color:"white",fontSize:"0.95rem"},children:d.text})]})]},d.id)),it.jsx("div",{ref:l})]}),it.jsxs("form",{onSubmit:c,style:{display:"flex",gap:"12px"},children:[it.jsx("input",{type:"text",placeholder:" ...",value:n,onChange:d=>s(d.target.value),style:{flex:1,background:"var(--glass)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"15px",color:"white",outline:"none"}}),it.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"0 25px"},children:it.jsx(AU,{size:20})})]})]})},uf=({children:e})=>{const{user:t}=Lr();return t?it.jsx(CU,{children:e}):it.jsx(zb,{to:"/login"})},fB=()=>{const{user:e}=Lr();return it.jsx(Sx,{basename:"/chaesang/",children:it.jsxs(Z2,{children:[it.jsx(xo,{path:"/login",element:e?it.jsx(zb,{to:"/"}):it.jsx(lB,{})}),it.jsx(xo,{path:"/",element:it.jsx(uf,{children:it.jsx(oB,{})})}),it.jsx(xo,{path:"/notices",element:it.jsx(uf,{children:it.jsx(uB,{})})}),it.jsx(xo,{path:"/gallery",element:it.jsx(uf,{children:it.jsx(cB,{})})}),it.jsx(xo,{path:"/chat",element:it.jsx(uf,{children:it.jsx(hB,{})})})]})})};function dB(){return it.jsx(rU,{children:it.jsx(fB,{})})}e2.createRoot(document.getElementById("root")).render(it.jsx(YD.StrictMode,{children:it.jsx(dB,{})}));
